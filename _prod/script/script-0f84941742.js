!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.localforage=e()}}(function(){return function e(n,t,i){function r(a,s){if(!t[a]){if(!n[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var c=t[a]={exports:{}};n[a][0].call(c.exports,function(e){var t=n[a][1][e];return r(t?t:e)},c,c.exports,e,n,t,i)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,n,t){(function(e){"use strict";function t(){c=!0;for(var e,n,t=u.length;t;){for(n=u,u=[],e=-1;++e<t;)n[e]();t=u.length}c=!1}function i(e){1!==u.push(e)||c||r()}var r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(t),l=e.document.createTextNode("");s.observe(l,{characterData:!0}),r=function(){l.data=a=++a%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(t,0)};else{var d=new e.MessageChannel;d.port1.onmessage=t,r=function(){d.port2.postMessage(0)}}var c,u=[];n.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n,t){"use strict";function i(){}function r(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,e!==i&&l(this,e)}function o(e,n,t){this.promise=e,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof t&&(this.onRejected=t,this.callRejected=this.otherCallRejected)}function a(e,n,t){m(function(){var i;try{i=n(t)}catch(n){return h.reject(e,n)}i===e?h.reject(e,new TypeError("Cannot resolve promise with itself")):h.resolve(e,i)})}function s(e){var n=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof n)return function(){n.apply(e,arguments)}}function l(e,n){function t(n){o||(o=!0,h.reject(e,n))}function i(n){o||(o=!0,h.resolve(e,n))}function r(){n(i,t)}var o=!1,a=d(r);"error"===a.status&&t(a.value)}function d(e,n){var t={};try{t.value=e(n),t.status="success"}catch(e){t.status="error",t.value=e}return t}function c(e){return e instanceof this?e:h.resolve(new this(i),e)}function u(e){var n=new this(i);return h.reject(n,e)}function f(e){function n(e,n){function i(e){a[n]=e,++s!==r||o||(o=!0,h.resolve(d,a))}t.resolve(e).then(i,function(e){o||(o=!0,h.reject(d,e))})}var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,l=-1,d=new this(i);++l<r;)n(e[l],l);return d}function p(e){function n(e){t.resolve(e).then(function(e){o||(o=!0,h.resolve(s,e))},function(e){o||(o=!0,h.reject(s,e))})}var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var a=-1,s=new this(i);++a<r;)n(e[a]);return s}var m=e(1),h={},g=["REJECTED"],y=["FULFILLED"],v=["PENDING"];n.exports=t=r,r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,n){if("function"!=typeof e&&this.state===y||"function"!=typeof n&&this.state===g)return this;var t=new this.constructor(i);if(this.state!==v){var r=this.state===y?e:n;a(t,r,this.outcome)}else this.queue.push(new o(t,e,n));return t},o.prototype.callFulfilled=function(e){h.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){h.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},h.resolve=function(e,n){var t=d(s,n);if("error"===t.status)return h.reject(e,t.value);var i=t.value;if(i)l(e,i);else{e.state=y,e.outcome=n;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(n)}return e},h.reject=function(e,n){e.state=g,e.outcome=n;for(var t=-1,i=e.queue.length;++t<i;)e.queue[t].callRejected(n);return e},t.resolve=c,t.reject=u,t.all=f,t.race=p},{1:1}],3:[function(e,n,t){(function(n){"use strict";"function"!=typeof n.Promise&&(n.Promise=e(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){}}function o(){try{return!!oe&&(!("undefined"!=typeof openDatabase&&"undefined"!=typeof navigator&&navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))&&(oe&&"function"==typeof oe.open&&"undefined"!=typeof IDBKeyRange))}catch(e){return!1}}function a(){return"function"==typeof openDatabase}function s(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(e){return!1}}function l(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(o){if("TypeError"!==o.name)throw o;for(var t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,i=new t,r=0;r<e.length;r+=1)i.append(e[r]);return i.getBlob(n.type)}}function d(e,n){n&&e.then(function(e){n(null,e)},function(e){n(e)})}function c(e,n,t){"function"==typeof n&&e.then(n),"function"==typeof t&&e.catch(t)}function u(e){for(var n=e.length,t=new ArrayBuffer(n),i=new Uint8Array(t),r=0;r<n;r++)i[r]=e.charCodeAt(r);return t}function f(e){return new le(function(n){var t=l([""]);e.objectStore(de).put(t,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);n(t||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function p(e){return"boolean"==typeof ae?le.resolve(ae):f(e).then(function(e){return ae=e})}function m(e){var n=se[e.name],t={};t.promise=new le(function(e){t.resolve=e}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function h(e){var n=se[e.name],t=n.deferredOperations.pop();t&&t.resolve()}function g(e,n){return new le(function(t,i){if(e.db){if(!n)return t(e.db);m(e),e.db.close()}var r=[e.name];n&&r.push(e.version);var o=oe.open.apply(oe,r);n&&(o.onupgradeneeded=function(n){var t=o.result;try{t.createObjectStore(e.storeName),n.oldVersion<=1&&t.createObjectStore(de)}catch(t){if("ConstraintError"!==t.name)throw t;console.warn('The database "'+e.name+'" has been upgraded from version '+n.oldVersion+" to version "+n.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(){i(o.error)},o.onsuccess=function(){t(o.result),h(e)}})}function y(e){return g(e,!1)}function v(e){return g(e,!0)}function b(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,r=e.version>e.db.version;if(i&&(e.version!==n&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),r||t){if(t){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function L(e){return new le(function(n,t){var i=new FileReader;i.onerror=t,i.onloadend=function(t){var i=btoa(t.target.result||"");n({__local_forage_encoded_blob:!0,data:i,type:e.type})},i.readAsBinaryString(e)})}function _(e){var n=u(atob(e.data));return l([n],{type:e.type})}function k(e){return e&&e.__local_forage_encoded_blob}function w(e){var n=this,t=n._initReady().then(function(){var e=se[n._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return c(t,e,e),t}function S(e){function n(){return le.resolve()}var t=this,i={db:null};if(e)for(var r in e)i[r]=e[r];se||(se={});var o=se[i.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},se[i.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=w);for(var a=[],s=0;s<o.forages.length;s++){var l=o.forages[s];l!==t&&a.push(l._initReady().catch(n))}var d=o.forages.slice(0);return le.all(a).then(function(){return i.db=o.db,y(i)}).then(function(e){return i.db=e,b(i,t._defaultConfig.version)?v(i):e}).then(function(e){i.db=o.db=e,t._dbInfo=i;for(var n=0;n<d.length;n++){var r=d[n];r!==t&&(r._dbInfo.db=i.db,r._dbInfo.version=i.version)}})}function T(e,n){var t=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new le(function(n,i){t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),a=o.get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),k(e)&&(e=_(e)),n(e)},a.onerror=function(){i(a.error)}}).catch(i)});return d(i,n),i}function D(e,n){var t=this,i=new le(function(n,i){t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),a=o.openCursor(),s=1;a.onsuccess=function(){var t=a.result;if(t){var i=t.value;k(i)&&(i=_(i));var r=e(i,t.key,s++);void 0!==r?n(r):t.continue()}else n()},a.onerror=function(){i(a.error)}}).catch(i)});return d(i,n),i}function q(e,n,t){var i=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new le(function(t,r){var o;i.ready().then(function(){return o=i._dbInfo,"[object Blob]"===ce.call(n)?p(o.db).then(function(e){return e?n:L(n)}):n}).then(function(n){var i=o.db.transaction(o.storeName,"readwrite"),a=i.objectStore(o.storeName);null===n&&(n=void 0),i.oncomplete=function(){void 0===n&&(n=null),t(n)},i.onabort=i.onerror=function(){var e=s.error?s.error:s.transaction.error;r(e)};var s=a.put(n,e)}).catch(r)});return d(r,t),r}function N(e,n){var t=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new le(function(n,i){t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readwrite"),a=o.objectStore(r.storeName),s=a.delete(e);o.oncomplete=function(){n()},o.onerror=function(){i(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;i(e)}}).catch(i)});return d(i,n),i}function E(e){var n=this,t=new le(function(e,t){n.ready().then(function(){var i=n._dbInfo,r=i.db.transaction(i.storeName,"readwrite"),o=r.objectStore(i.storeName),a=o.clear();r.oncomplete=function(){e()},r.onabort=r.onerror=function(){var e=a.error?a.error:a.transaction.error;t(e)}}).catch(t)});return d(t,e),t}function C(e){var n=this,t=new le(function(e,t){n.ready().then(function(){var i=n._dbInfo,r=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),o=r.count();o.onsuccess=function(){e(o.result)},o.onerror=function(){t(o.error)}}).catch(t)});return d(t,e),t}function I(e,n){var t=this,i=new le(function(n,i){return e<0?void n(null):void t.ready().then(function(){var r=t._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),a=!1,s=o.openCursor();s.onsuccess=function(){var t=s.result;return t?void(0===e?n(t.key):a?n(t.key):(a=!0,t.advance(e))):void n(null)},s.onerror=function(){i(s.error)}}).catch(i)});return d(i,n),i}function x(e){var n=this,t=new le(function(e,t){n.ready().then(function(){var i=n._dbInfo,r=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),o=r.openCursor(),a=[];o.onsuccess=function(){var n=o.result;return n?(a.push(n.key),void n.continue()):void e(a)},o.onerror=function(){t(o.error)}}).catch(t)});return d(t,e),t}function A(e){var n,t,i,r,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var d=new ArrayBuffer(a),c=new Uint8Array(d);for(n=0;n<s;n+=4)t=fe.indexOf(e[n]),i=fe.indexOf(e[n+1]),r=fe.indexOf(e[n+2]),o=fe.indexOf(e[n+3]),c[l++]=t<<2|i>>4,c[l++]=(15&i)<<4|r>>2,c[l++]=(3&r)<<6|63&o;return d}function B(e){var n,t=new Uint8Array(e),i="";for(n=0;n<t.length;n+=3)i+=fe[t[n]>>2],i+=fe[(3&t[n])<<4|t[n+1]>>4],i+=fe[(15&t[n+1])<<2|t[n+2]>>6],i+=fe[63&t[n+2]];return t.length%3===2?i=i.substring(0,i.length-1)+"=":t.length%3===1&&(i=i.substring(0,i.length-2)+"=="),i}function M(e,n){var t="";if(e&&(t=Ee.call(e)),e&&("[object ArrayBuffer]"===t||e.buffer&&"[object ArrayBuffer]"===Ee.call(e.buffer))){var i,r=he;e instanceof ArrayBuffer?(i=e,r+=ye):(i=e.buffer,"[object Int8Array]"===t?r+=be:"[object Uint8Array]"===t?r+=Le:"[object Uint8ClampedArray]"===t?r+=_e:"[object Int16Array]"===t?r+=ke:"[object Uint16Array]"===t?r+=Se:"[object Int32Array]"===t?r+=we:"[object Uint32Array]"===t?r+=Te:"[object Float32Array]"===t?r+=De:"[object Float64Array]"===t?r+=qe:n(new Error("Failed to get type for BinaryArray"))),n(r+B(i))}else if("[object Blob]"===t){var o=new FileReader;o.onload=function(){var t=pe+e.type+"~"+B(this.result);n(he+ve+t)},o.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(t){console.error("Couldn't convert value into a JSON string: ",e),n(null,t)}}function R(e){if(e.substring(0,ge)!==he)return JSON.parse(e);var n,t=e.substring(Ne),i=e.substring(ge,Ne);if(i===ve&&me.test(t)){var r=t.match(me);n=r[1],t=t.substring(r[0].length)}var o=A(t);switch(i){case ye:return o;case ve:return l([o],{type:n});case be:return new Int8Array(o);case Le:return new Uint8Array(o);case _e:return new Uint8ClampedArray(o);case ke:return new Int16Array(o);case Se:return new Uint16Array(o);case we:return new Int32Array(o);case Te:return new Uint32Array(o);case De:return new Float32Array(o);case qe:return new Float64Array(o);default:throw new Error("Unkown type: "+i)}}function O(e){var n=this,t={db:null};if(e)for(var i in e)t[i]="string"!=typeof e[i]?e[i].toString():e[i];var r=new le(function(e,i){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(e){return i(e)}t.db.transaction(function(r){r.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){n._dbInfo=t,e()},function(e,n){i(n)})})});return t.serializer=Ce,r}function j(e,n){var t=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new le(function(n,i){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[e],function(e,t){var i=t.rows.length?t.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),n(i)},function(e,n){i(n)})})}).catch(i)});return d(i,n),i}function H(e,n){var t=this,i=new le(function(n,i){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT * FROM "+r.storeName,[],function(t,i){for(var o=i.rows,a=o.length,s=0;s<a;s++){var l=o.item(s),d=l.value;if(d&&(d=r.serializer.deserialize(d)),d=e(d,l.key,s+1),void 0!==d)return void n(d)}n()},function(e,n){i(n)})})}).catch(i)});return d(i,n),i}function P(e,n,t){var i=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new le(function(t,r){i.ready().then(function(){void 0===n&&(n=null);var o=n,a=i._dbInfo;a.serializer.serialize(n,function(n,i){i?r(i):a.db.transaction(function(i){i.executeSql("INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){t(o)},function(e,n){r(n)})},function(e){e.code===e.QUOTA_ERR&&r(e)})})}).catch(r)});return d(r,t),r}function z(e,n){var t=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new le(function(n,i){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("DELETE FROM "+r.storeName+" WHERE key = ?",[e],function(){n()},function(e,n){i(n)})})}).catch(i)});return d(i,n),i}function U(e){var n=this,t=new le(function(e,t){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("DELETE FROM "+i.storeName,[],function(){e()},function(e,n){t(n)})})}).catch(t)});return d(t,e),t}function F(e){var n=this,t=new le(function(e,t){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT COUNT(key) as c FROM "+i.storeName,[],function(n,t){var i=t.rows.item(0).c;e(i)},function(e,n){t(n)})})}).catch(t)});return d(t,e),t}function W(e,n){var t=this,i=new le(function(n,i){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){t.executeSql("SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,t){var i=t.rows.length?t.rows.item(0).key:null;n(i)},function(e,n){i(n)})})}).catch(i)});return d(i,n),i}function G(e){var n=this,t=new le(function(e,t){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT key FROM "+i.storeName,[],function(n,t){for(var i=[],r=0;r<t.rows.length;r++)i.push(t.rows.item(r).key);e(i)},function(e,n){t(n)})})}).catch(t)});return d(t,e),t}function Q(e){var n=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=t.name+"/",t.storeName!==n._defaultConfig.storeName&&(t.keyPrefix+=t.storeName+"/"),n._dbInfo=t,t.serializer=Ce,le.resolve()}function X(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,t=localStorage.length-1;t>=0;t--){var i=localStorage.key(t);0===i.indexOf(e)&&localStorage.removeItem(i)}});return d(t,e),t}function $(e,n){var t=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=t.ready().then(function(){var n=t._dbInfo,i=localStorage.getItem(n.keyPrefix+e);return i&&(i=n.serializer.deserialize(i)),i});return d(i,n),i}function J(e,n){var t=this,i=t.ready().then(function(){for(var n=t._dbInfo,i=n.keyPrefix,r=i.length,o=localStorage.length,a=1,s=0;s<o;s++){var l=localStorage.key(s);if(0===l.indexOf(i)){var d=localStorage.getItem(l);if(d&&(d=n.serializer.deserialize(d)),d=e(d,l.substring(r),a++),void 0!==d)return d}}});return d(i,n),i}function Y(e,n){var t=this,i=t.ready().then(function(){var n,i=t._dbInfo;try{n=localStorage.key(e)}catch(e){n=null}return n&&(n=n.substring(i.keyPrefix.length)),n});return d(i,n),i}function V(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo,t=localStorage.length,i=[],r=0;r<t;r++)0===localStorage.key(r).indexOf(e.keyPrefix)&&i.push(localStorage.key(r).substring(e.keyPrefix.length));return i});return d(t,e),t}function K(e){var n=this,t=n.keys().then(function(e){return e.length});return d(t,e),t}function Z(e,n){var t=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=t.ready().then(function(){var n=t._dbInfo;localStorage.removeItem(n.keyPrefix+e)});return d(i,n),i}function ee(e,n,t){var i=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=i.ready().then(function(){void 0===n&&(n=null);var t=n;return new le(function(r,o){var a=i._dbInfo;a.serializer.serialize(n,function(n,i){if(i)o(i);else try{localStorage.setItem(a.keyPrefix+e,n),r(t)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}})})});return d(r,t),r}function ne(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function te(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(He(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}function ie(e){for(var n in Be)if(Be.hasOwnProperty(n)&&Be[n]===e)return!0;return!1}var re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},oe=r();"undefined"==typeof Promise&&"undefined"!=typeof e&&e(3);var ae,se,le=Promise,de="local-forage-detect-blob-support",ce=Object.prototype.toString,ue={_driver:"asyncStorage",_initStorage:S,iterate:D,getItem:T,setItem:q,removeItem:N,clear:E,length:C,key:I,keys:x},fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pe="~~local_forage_type~",me=/^~~local_forage_type~([^~]+)~/,he="__lfsc__:",ge=he.length,ye="arbf",ve="blob",be="si08",Le="ui08",_e="uic8",ke="si16",we="si32",Se="ur16",Te="ui32",De="fl32",qe="fl64",Ne=ge+ye.length,Ee=Object.prototype.toString,Ce={serialize:M,deserialize:R,stringToBuffer:A,bufferToString:B},Ie={_driver:"webSQLStorage",_initStorage:O,iterate:H,getItem:j,setItem:P,removeItem:z,clear:U,length:F,key:W,keys:G},xe={_driver:"localStorageWrapper",_initStorage:Q,iterate:J,getItem:$,setItem:ee,removeItem:Z,clear:X,length:K,key:Y,keys:V},Ae={},Be={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Me=[Be.INDEXEDDB,Be.WEBSQL,Be.LOCALSTORAGE],Re=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],Oe={description:"",driver:Me.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},je={};je[Be.INDEXEDDB]=o(),je[Be.WEBSQL]=a(),je[Be.LOCALSTORAGE]=s();var He=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Pe=function(){function e(n){i(this,e),this.INDEXEDDB=Be.INDEXEDDB,this.LOCALSTORAGE=Be.LOCALSTORAGE,this.WEBSQL=Be.WEBSQL,this._defaultConfig=te({},Oe),this._config=te({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return e.prototype.config=function(e){if("object"===("undefined"==typeof e?"undefined":re(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var n in e)"storeName"===n&&(e[n]=e[n].replace(/\W/g,"_")),this._config[n]=e[n];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,n,t){var i=new le(function(n,t){try{var i=e._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),o=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void t(r);if(ie(e._driver))return void t(o);for(var a=Re.concat("_initStorage"),s=0;s<a.length;s++){var l=a[s];if(!l||!e[l]||"function"!=typeof e[l])return void t(r)}var d=le.resolve(!0);"_support"in e&&(d=e._support&&"function"==typeof e._support?e._support():le.resolve(!!e._support)),d.then(function(t){je[i]=t,Ae[i]=e,n()},t)}catch(e){t(e)}});return c(i,n,t),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,n,t){var i=this,r=le.resolve().then(function(){if(!ie(e)){if(Ae[e])return Ae[e];throw new Error("Driver not found.")}switch(e){case i.INDEXEDDB:return ue;case i.LOCALSTORAGE:return xe;case i.WEBSQL:return Ie}});return c(r,n,t),r},e.prototype.getSerializer=function(e){var n=le.resolve(Ce);return c(n,e),n},e.prototype.ready=function(e){var n=this,t=n._driverSet.then(function(){return null===n._ready&&(n._ready=n._initDriver()),n._ready});return c(t,e,e),t},e.prototype.setDriver=function(e,n,t){function i(){o._config.driver=o.driver()}function r(e){return function(){function n(){for(;t<e.length;){var r=e[t];return t++,o._dbInfo=null,o._ready=null,o.getDriver(r).then(function(e){return o._extend(e),i(),o._ready=o._initStorage(o._config),o._ready}).catch(n)}i();var a=new Error("No available storage method found.");return o._driverSet=le.reject(a),o._driverSet}var t=0;return n()}}var o=this;He(e)||(e=[e]);var a=this._getSupportedDrivers(e),s=null!==this._driverSet?this._driverSet.catch(function(){return le.resolve()}):le.resolve();return this._driverSet=s.then(function(){var e=a[0];return o._dbInfo=null,o._ready=null,o.getDriver(e).then(function(e){o._driver=e._driver,i(),o._wrapLibraryMethodsWithReady(),o._initDriver=r(a)})}).catch(function(){i();var e=new Error("No available storage method found.");return o._driverSet=le.reject(e),o._driverSet}),c(this._driverSet,n,t),this._driverSet},e.prototype.supports=function(e){return!!je[e]},e.prototype._extend=function(e){te(this,e)},e.prototype._getSupportedDrivers=function(e){for(var n=[],t=0,i=e.length;t<i;t++){var r=e[t];this.supports(r)&&n.push(r)}return n},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<Re.length;e++)ne(this,Re[e])},e.prototype.createInstance=function(n){return new e(n)},e}(),ze=new Pe;n.exports=ze},{3:3}]},{},[4])(4)}),function(){"use strict";var e=!1;if("undefined"!=typeof process&&!process.browser){e=!0;var n=require("request".trim())}var t=!1,i=!1;try{var r=new XMLHttpRequest;"undefined"!=typeof r.withCredentials?t=!0:"XDomainRequest"in window&&(t=!0,i=!0)}catch(e){}var o=Array.prototype.indexOf,a=function(e,n){var t=0,i=e.length;if(o&&e.indexOf===o)return e.indexOf(n);for(;t<i;t++)if(e[t]===n)return t;return-1},s=function(n){return this&&this instanceof s?("string"==typeof n&&(n={key:n}),this.callback=n.callback,this.wanted=n.wanted||[],this.key=n.key,this.simpleSheet=!!n.simpleSheet,this.parseNumbers=!!n.parseNumbers,this.wait=!!n.wait,this.reverse=!!n.reverse,this.postProcess=n.postProcess,this.debug=!!n.debug,this.query=n.query||"",this.orderby=n.orderby,this.endpoint=n.endpoint||"https://spreadsheets.google.com",this.singleton=!!n.singleton,this.simpleUrl=!(!n.simpleUrl&&!n.simple_url),this.callbackContext=n.callbackContext,this.prettyColumnNames="undefined"==typeof n.prettyColumnNames?!n.proxy:n.prettyColumnNames,"undefined"!=typeof n.proxy&&(this.endpoint=n.proxy.replace(/\/$/,""),this.simpleUrl=!0,this.singleton=!0,t=!1),this.parameterize=n.parameterize||!1,this.singleton&&("undefined"!=typeof s.singleton&&this.log("WARNING! Tabletop singleton already defined"),s.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)(&|#|$)")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),/spreadsheets\/d/.test(this.key)&&(this.log("You passed the most recent version of Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)/")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.modelNames=[],this.model_names=this.modelNames,this.baseJsonPath="/feeds/worksheets/"+this.key+"/public/basic?alt=",e||t?this.baseJsonPath+="json":this.baseJsonPath+="json-in-script",void(this.wait||this.fetch())):void this.log("You need to pass Tabletop a key!")):new s(n)};s.callbacks={},s.init=function(e){return new s(e)},s.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},s.prototype={fetch:function(e){"undefined"!=typeof e&&(this.callback=e),this.requestData(this.baseJsonPath,this.loadSheets)},requestData:function(n,r){if(this.log("Requesting",n),e)this.serverSideFetch(n,r);else{var o=this.endpoint.split("//").shift()||"http";!t||i&&o!==location.protocol?this.injectScript(n,r):this.xhrFetch(n,r)}},xhrFetch:function(e,n){var t=i?new XDomainRequest:new XMLHttpRequest;t.open("GET",this.endpoint+e);var r=this;t.onload=function(){var e;try{e=JSON.parse(t.responseText)}catch(e){console.error(e)}n.call(r,e)},t.send()},injectScript:function(e,n){var t,i=document.createElement("script");if(this.singleton)n===this.loadSheets?t="Tabletop.singleton.loadSheets":n===this.loadSheet&&(t="Tabletop.singleton.loadSheet");else{var r=this;t="tt"+ +new Date+Math.floor(1e5*Math.random()),s.callbacks[t]=function(){var e=Array.prototype.slice.call(arguments,0);n.apply(r,e),i.parentNode.removeChild(i),delete s.callbacks[t]},t="Tabletop.callbacks."+t}var o=e+"&callback="+t;this.simpleUrl?e.indexOf("/list/")!==-1?i.src=this.endpoint+"/"+this.key+"-"+e.split("/")[4]:i.src=this.endpoint+"/"+this.key:i.src=this.endpoint+o,this.parameterize&&(i.src=this.parameterize+encodeURIComponent(i.src)),this.log("Injecting",i.src),document.getElementsByTagName("script")[0].parentNode.appendChild(i)},serverSideFetch:function(e,t){var i=this;this.log("Fetching",this.endpoint+e),n({url:this.endpoint+e,json:!0},function(e,n,r){return e?console.error(e):void t.call(i,r)})},isWanted:function(e){return 0===this.wanted.length||a(this.wanted,e)!==-1},data:function(){if(0!==this.modelNames.length)return this.simpleSheet?(this.modelNames.length>1&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.modelNames[0]].all()):this.models},addWanted:function(e){a(this.wanted,e)===-1&&this.wanted.push(e)},loadSheets:function(n){var i,r,o=[];for(this.googleSheetName=n.feed.title.$t,this.foundSheetNames=[],i=0,r=n.feed.entry.length;i<r;i++)if(this.foundSheetNames.push(n.feed.entry[i].title.$t),this.isWanted(n.feed.entry[i].content.$t)){var a=n.feed.entry[i].link.length-1,s=n.feed.entry[i].link[a].href.split("/").pop(),l="/feeds/list/"+this.key+"/"+s+"/public/values?alt=";l+=e||t?"json":"json-in-script",this.query&&(l+="&tq="+this.query),this.orderby&&(l+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(l+="&reverse=true"),o.push(l)}for(this.sheetsToLoad=o.length,i=0,r=o.length;i<r;i++)this.requestData(o[i],this.loadSheet)},sheets:function(e){return"undefined"==typeof e?this.models:"undefined"==typeof this.models[e]?void 0:this.models[e]},sheetReady:function(e){this.models[e.name]=e,a(this.modelNames,e.name)===-1&&this.modelNames.push(e.name),this.sheetsToLoad--,0===this.sheetsToLoad&&this.doCallback()},loadSheet:function(e){var n=this;new s.Model({data:e,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this,prettyColumnNames:this.prettyColumnNames,onReady:function(){n.sheetReady(this)}})},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},s.Model=function(e){var n,t,i,r;if(this.columnNames=[],this.column_names=this.columnNames,this.name=e.data.feed.title.$t,this.tabletop=e.tabletop,this.elements=[],this.onReady=e.onReady,this.raw=e.data,"undefined"==typeof e.data.feed.entry)return e.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),this.originalColumns=[],this.elements=[],void this.onReady.call(this);for(var o in e.data.feed.entry[0])/^gsx/.test(o)&&this.columnNames.push(o.replace("gsx$",""));for(this.originalColumns=this.columnNames,this.original_columns=this.originalColumns,n=0,i=e.data.feed.entry.length;n<i;n++){var a=e.data.feed.entry[n],s={};for(t=0,r=this.columnNames.length;t<r;t++){var l=a["gsx$"+this.columnNames[t]];"undefined"!=typeof l?e.parseNumbers&&""!==l.$t&&!isNaN(l.$t)?s[this.columnNames[t]]=+l.$t:s[this.columnNames[t]]=l.$t:s[this.columnNames[t]]=""}void 0===s.rowNumber&&(s.rowNumber=n+1),e.postProcess&&e.postProcess(s),this.elements.push(s)}e.prettyColumnNames?this.fetchPrettyColumns():this.onReady.call(this)},s.Model.prototype={all:function(){return this.elements},fetchPrettyColumns:function(){if(!this.raw.feed.link[3])return this.ready();var e=this.raw.feed.link[3].href.replace("/feeds/list/","/feeds/cells/").replace("https://spreadsheets.google.com",""),n=this;this.tabletop.requestData(e,function(e){n.loadPrettyColumns(e)})},ready:function(){this.onReady.call(this)},loadPrettyColumns:function(e){for(var n={},t=this.columnNames,i=0,r=t.length;i<r;i++)"undefined"!=typeof e.feed.entry[i].content.$t?n[t[i]]=e.feed.entry[i].content.$t:n[t[i]]=t[i];
this.prettyColumns=n,this.pretty_columns=this.prettyColumns,this.prettifyElements(),this.ready()},prettifyElements:function(){var e,n,t,i,r=[],o=[];for(n=0,i=this.columnNames.length;n<i;n++)o.push(this.prettyColumns[this.columnNames[n]]);for(e=0,t=this.elements.length;e<t;e++){var a={};for(n=0,i=this.columnNames.length;n<i;n++){var s=this.prettyColumns[this.columnNames[n]];a[s]=this.elements[e][this.columnNames[n]]}r.push(a)}this.elements=r,this.columnNames=o},toArray:function(){var e,n,t,i,r=[];for(e=0,t=this.elements.length;e<t;e++){var o=[];for(n=0,i=this.columnNames.length;n<i;n++)o.push(this.elements[e][this.columnNames[n]]);r.push(o)}return r}},"undefined"!=typeof module&&module.exports?module.exports=s:"function"==typeof define&&define.amd?define(function(){return s}):window.Tabletop=s}();var app=function(){"use strict";function e(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function n(e){console.log(e)}function t(){var e=i(),n=[];n=Array.from(E[E.pickedList].storedData.dateOpened),r(e,n)===!0?E[E.pickedList].ops.addDay===!0?E[E.pickedList].storedData.newDay=!0:E[E.pickedList].storedData.newDay=!1:E[E.pickedList].storedData.newDay=!0}function i(){var e=[],n=(new Date).getDate(),t=(new Date).getMonth();return e.push([n,t]),e}function r(e,n){return JSON.stringify(e)==JSON.stringify(n)}function o(e,n){for(var t=function(t){e[t].addEventListener("click",function(e){e.preventDefault(),n(t)})},i=0;i<e.length;i++)t(i)}function a(e){var n=Object.keys(e),t=n[n.length*Math.random()<<0];return t}function s(e,n){if(e===n)return!0;if(e.toUpperCase()===n.toUpperCase())return!0;var t=function(e){var n=void 0,t=void 0,i=void 0,r=void 0,o=void 0;for(r=e.toLowerCase(),o=new Array(r.length-1),n=t=0,i=o.length;t<=i;n=t+=1)o[n]=r.slice(n,n+2);return o},i=function(e,n){var i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,d=void 0,c=void 0,u=void 0,f=void 0;if(e.length>0&&n.length>0){for(l=t(e),d=t(n),c=l.length+d.length,i=0,r=0,a=l.length;r<a;r++)for(u=l[r],o=0,s=d.length;o<s;o++)f=d[o],u===f&&i++;if(i>0)return 2*i/c}return 0},r=i(e,n);return r>E[E.pickedList].ops.wordAccuracy&&"mispelled"}var l=function(e){E[E.pickedList].speechLang=e.Sheet1.elements[0][E.pickedList],E[E.pickedList].dictFrom=e.Sheet1.elements[1][E.pickedList],E[E.pickedList].dictTo=e.Sheet1.elements[2][E.pickedList],E[E.pickedList].action=e.Sheet1.elements[3][E.pickedList],E[E.pickedList].terms=E[E.pickedList].terms||{};for(var n=1;n<e.Sheet1.elements.length;n++){var t=e.Sheet1.elements[n].Term,i=e.Sheet1.elements[n].Definition,r=e.Sheet1.elements[n].Support;E[E.pickedList].terms[t]={},E[E.pickedList].terms[t].term=t,E[E.pickedList].terms[t].definition=i,E[E.pickedList].terms[t].support=r}E.postBuildCallback()},d=function(e){return e.replace(/[^a-z0-9]/g,function(e){var n=e.charCodeAt(0);return 32==n?"-":n>=65&&n<=90?"_"+e.toLowerCase():"__"+("000"+n.toString(16)).slice(-4)})},c=function(){function e(e){var n="visible",t="hidden",i={focus:n,focusin:n,pageshow:n,blur:t,focusout:t,pagehide:t};e=e||window.event,e.type in i||location.reload()}var n="hidden";n in document?document.addEventListener("visibilitychange",e):(n="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(n="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(n="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e,void 0!==document[n]&&e({type:document[n]?"blur":"focus"})},u=function(e){return new Promise(function(n,t){var i="_"+Math.round(1e4*Math.random()),r="jsonp_callback_"+i;window[r]=function(e){delete window[r];var t=document.getElementById(i);t.parentNode.removeChild(t),n(e)};var o=e+"&callback="+r,a=document.createElement("script");a.src=o,a.id=i,a.addEventListener("error",t),(document.getElementsByTagName("head")[0]||document.body||document.documentElement).appendChild(a)})},f=function(){var e=0,n=0,t=[],i=[],r=Object.keys(E[E.pickedList].terms).length;if(E[E.pickedList].ops.displayedTerms>r&&(E[E.pickedList].ops.displayedTerms=r),void 0===E[E.pickedList].storedData.firstTime)for(;e<E[E.pickedList].ops.displayedTerms;){var o=a(E[E.pickedList].terms);t.includes(o)||(t.push(o),e++)}else{if(E[E.pickedList].storedData.incorrectTerms=E[E.pickedList].storedData.incorrectTerms||{},Object.keys(E[E.pickedList].storedData.incorrectTerms).length>0){var s=void 0;E[E.pickedList].storedData.remindedTerms=E[E.pickedList].storedData.remindedTerms||{},void 0===E[E.pickedList].storedData.dailyReminder?(E[E.pickedList].storedData.dailyReminder={},s=a(E[E.pickedList].storedData.incorrectTerms),E[E.pickedList].storedData.dailyReminder[s]=E[E.pickedList].terms[s].definition):(s=E[E.pickedList].storedData.dailyReminder,s=Object.getOwnPropertyNames(s)),t.push(s),delete E[E.pickedList].storedData.incorrectTerms[s],E[E.pickedList].storedData.remindedTerms[s]=E[E.pickedList].terms[s].definition,e++}for(;e<E[E.pickedList].ops.displayedTerms;){E[E.pickedList].storedData.viewedTerms=E[E.pickedList].storedData.viewedTerms||{};var l=Object.keys(E[E.pickedList].storedData.viewedTerms).length;if(l===r){var d=[];for(var c in E[E.pickedList].storedData.viewedTerms)d.push([c,E[E.pickedList].storedData.viewedTerms[c]]);if(void 0!==E[E.pickedList].storedData.dailyReminder)for(var u=d.length-1;u>=0;u--)E[E.pickedList].storedData.dailyReminder.hasOwnProperty(d[u][0])&&d.splice(u,1);for(d.sort(function(e,n){return e[1]-n[1]});e<E[E.pickedList].ops.displayedTerms;)t.push(d[e][0]),e++;e++}else{var f=a(E[E.pickedList].terms);i.includes(f)||(i.push(f),E[E.pickedList].storedData.viewedTerms.hasOwnProperty(f)||(t.push(f),e++))}n>1e4&&(e=E[E.pickedList].ops.displayedTerms),n++}}return t},p={fonts:{feather:["icon-lines-and-angles_accommodate","icon-lines-and-angles_adapt","icon-lines-and-angles_add","icon-lines-and-angles_adjust","icon-lines-and-angles_agitate","icon-lines-and-angles_agree","icon-lines-and-angles_aid","icon-lines-and-angles_alarm","icon-lines-and-angles_alert","icon-lines-and-angles_amaze","icon-lines-and-angles_amplify","icon-lines-and-angles_analyze","icon-lines-and-angles_announce","icon-lines-and-angles_arrest","icon-lines-and-angles_ascend","icon-lines-and-angles_ask","icon-lines-and-angles_assist","icon-lines-and-angles_attract","icon-lines-and-angles_augment","icon-lines-and-angles_bake","icon-lines-and-angles_balance","icon-lines-and-angles_battle","icon-lines-and-angles_be","icon-lines-and-angles_believe","icon-lines-and-angles_birth","icon-lines-and-angles_blaze","icon-lines-and-angles_blend","icon-lines-and-angles_bloom","icon-lines-and-angles_blow","icon-lines-and-angles_bookmark","icon-lines-and-angles_bootleg","icon-lines-and-angles_bounce","icon-lines-and-angles_break","icon-lines-and-angles_brew","icon-lines-and-angles_broadcast","icon-lines-and-angles_browse","icon-lines-and-angles_build","icon-lines-and-angles_burn","icon-lines-and-angles_bury","icon-lines-and-angles_buy","icon-lines-and-angles_caffeinate","icon-lines-and-angles_calculate","icon-lines-and-angles_calibrate","icon-lines-and-angles_carry","icon-lines-and-angles_carve","icon-lines-and-angles_cast","icon-lines-and-angles_catch","icon-lines-and-angles_cease","icon-lines-and-angles_celebrate","icon-lines-and-angles_challenge","icon-lines-and-angles_charge","icon-lines-and-angles_charm","icon-lines-and-angles_chart","icon-lines-and-angles_chat","icon-lines-and-angles_choose","icon-lines-and-angles_chop","icon-lines-and-angles_clean","icon-lines-and-angles_cleanse","icon-lines-and-angles_climb","icon-lines-and-angles_drum","icon-lines-and-angles_eat","icon-lines-and-angles_edit","icon-lines-and-angles_enhance","icon-lines-and-angles_enlarge","icon-lines-and-angles_enter","icon-lines-and-angles_equal","icon-lines-and-angles_erase","icon-lines-and-angles_examine","icon-lines-and-angles_experiment","icon-lines-and-angles_explore","icon-lines-and-angles_extrude","icon-lines-and-angles_feed","icon-lines-and-angles_fight","icon-lines-and-angles_fill","icon-lines-and-angles_film","icon-lines-and-angles_filter","icon-lines-and-angles_find","icon-lines-and-angles_finish","icon-lines-and-angles_fix","icon-lines-and-angles_flag","icon-lines-and-angles_float","icon-lines-and-angles_flow","icon-lines-and-angles_fly","icon-lines-and-angles_focus","icon-lines-and-angles_fold","icon-lines-and-angles_forbid","icon-lines-and-angles_forebode","icon-lines-and-angles_fork","icon-lines-and-angles_format","icon-lines-and-angles_game","icon-lines-and-angles_give","icon-lines-and-angles_glance","icon-lines-and-angles_grill","icon-lines-and-angles_grow","icon-lines-and-angles_guide","icon-lines-and-angles_hang","icon-lines-and-angles_harvest","icon-lines-and-angles_haunt","icon-lines-and-angles_heal","icon-lines-and-angles_hear","icon-lines-and-angles_hide","icon-lines-and-angles_hold","icon-lines-and-angles_home","icon-lines-and-angles_identify","icon-lines-and-angles_imagine","icon-lines-and-angles_influence","icon-lines-and-angles_inject","icon-lines-and-angles_invade","icon-lines-and-angles_iron","icon-lines-and-angles_jam","icon-lines-and-angles_join","icon-lines-and-angles_judge","icon-lines-and-angles_keep","icon-lines-and-angles_kick","icon-lines-and-angles_pitch","icon-lines-and-angles_plan","icon-lines-and-angles_plant","icon-lines-and-angles_play","icon-lines-and-angles_push","icon-lines-and-angles_rain","icon-lines-and-angles_read","icon-lines-and-angles_record","icon-lines-and-angles_redo","icon-lines-and-angles_reheat","icon-lines-and-angles_remind","icon-lines-and-angles_repeat","icon-lines-and-angles_report","icon-lines-and-angles_resurrect","icon-lines-and-angles_rewind","icon-lines-and-angles_ride","icon-lines-and-angles_ring","icon-lines-and-angles_rise","icon-lines-and-angles_rock","icon-lines-and-angles_roll","icon-lines-and-angles_rule","icon-lines-and-angles_run","icon-lines-and-angles_save","icon-lines-and-angles_schedule","icon-lines-and-angles_screw","icon-lines-and-angles_scroll","icon-lines-and-angles_search","icon-lines-and-angles_see","icon-lines-and-angles_select","icon-lines-and-angles_sell","icon-lines-and-angles_send","icon-lines-and-angles_sew","icon-lines-and-angles_shade","icon-lines-and-angles_shake","icon-lines-and-angles_share","icon-lines-and-angles_shine","icon-lines-and-angles_shop","icon-lines-and-angles_shower","icon-lines-and-angles_shuffle","icon-lines-and-angles_sing","icon-lines-and-angles_sit","icon-lines-and-angles_skip","icon-lines-and-angles_sleep","icon-lines-and-angles_slice","icon-lines-and-angles_slide","icon-lines-and-angles_smell","icon-lines-and-angles_smuggle","icon-lines-and-angles_snow","icon-lines-and-angles_solve","icon-lines-and-angles_sound","icon-lines-and-angles_sparkle","icon-lines-and-angles_speak","icon-lines-and-angles_spin","icon-lines-and-angles_spy","icon-lines-and-angles_stack","icon-lines-and-angles_stamp","icon-lines-and-angles_steam","icon-lines-and-angles_stomp","icon-lines-and-angles_stop","icon-lines-and-angles_strum","icon-lines-and-angles_study","icon-lines-and-angles_submerge","icon-lines-and-angles_succeed","icon-lines-and-angles_sweep","icon-lines-and-angles_swim","icon-lines-and-angles_sync","icon-lines-and-angles_tag","icon-lines-and-angles_target","icon-lines-and-angles_teach","icon-lines-and-angles_think","icon-lines-and-angles_thunder","icon-lines-and-angles_tie","icon-lines-and-angles_tower","icon-lines-and-angles_transport","icon-lines-and-angles_trash","icon-lines-and-angles_travel","icon-lines-and-angles_trend","icon-lines-and-angles_turn","icon-lines-and-angles_type","icon-lines-and-angles_undo","icon-lines-and-angles_unlock","icon-lines-and-angles_upload","icon-lines-and-angles_use","icon-lines-and-angles_wait","icon-lines-and-angles_wash","icon-lines-and-angles_watch","icon-lines-and-angles_wear","icon-lines-and-angles_weigh","icon-lines-and-angles_win","icon-lines-and-angles_work","icon-lines-and-angles_worship","icon-lines-and-angles_write","icon-lines-and-angles_yell","icon-lines-and-angles_clip","icon-lines-and-angles_close","icon-lines-and-angles_code","icon-lines-and-angles_collect","icon-lines-and-angles_commit","icon-lines-and-angles_connect","icon-lines-and-angles_contact","icon-lines-and-angles_contain","icon-lines-and-angles_control","icon-lines-and-angles_cook","icon-lines-and-angles_cool","icon-lines-and-angles_copy","icon-lines-and-angles_crave","icon-lines-and-angles_create","icon-lines-and-angles_creep","icon-lines-and-angles_crop","icon-lines-and-angles_cry","icon-lines-and-angles_curdle","icon-lines-and-angles_cut","icon-lines-and-angles_dance","icon-lines-and-angles_dazzle","icon-lines-and-angles_decide","icon-lines-and-angles_defend","icon-lines-and-angles_deliver","icon-lines-and-angles_design","icon-lines-and-angles_destroy","icon-lines-and-angles_develop","icon-lines-and-angles_die","icon-lines-and-angles_disappear","icon-lines-and-angles_discard","icon-lines-and-angles_discover","icon-lines-and-angles_disguise","icon-lines-and-angles_divide","icon-lines-and-angles_download","icon-lines-and-angles_draw","icon-lines-and-angles_drill","icon-lines-and-angles_drink","icon-lines-and-angles_drive","icon-lines-and-angles_drop","icon-lines-and-angles_kiss","icon-lines-and-angles_launch","icon-lines-and-angles_lick","icon-lines-and-angles_lift","icon-lines-and-angles_light","icon-lines-and-angles_like","icon-lines-and-angles_link","icon-lines-and-angles_live","icon-lines-and-angles_load","icon-lines-and-angles_locate","icon-lines-and-angles_lock","icon-lines-and-angles_madho","icon-lines-and-angles_manufacture","icon-lines-and-angles_mark","icon-lines-and-angles_measure","icon-lines-and-angles_medicate","icon-lines-and-angles_melt","icon-lines-and-angles_merge","icon-lines-and-angles_mill","icon-lines-and-angles_move","icon-lines-and-angles_multiply","icon-lines-and-angles_mute","icon-lines-and-angles_navigate","icon-lines-and-angles_open","icon-lines-and-angles_pack","icon-lines-and-angles_paint","icon-lines-and-angles_park","icon-lines-and-angles_paste","icon-lines-and-angles_pause","icon-lines-and-angles_pay","icon-lines-and-angles_perform","icon-lines-and-angles_photograph","icon-lines-and-angles_pick","icon-lines-and-angles_pin","icon-lines-and-angles_plot","icon-lines-and-angles_point","icon-lines-and-angles_poison","icon-lines-and-angles_present","icon-lines-and-angles_press","icon-lines-and-angles_primp","icon-lines-and-angles_print","icon-lines-and-angles_pucker"]}},m=function(e){var n="",t=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value,l=E[E.pickedList].terms[s].term,c=E[E.pickedList].terms[s].definition,u=E[E.pickedList].terms[s].support,f=d(l),p=void 0;E[E.pickedList].storedData.viewedTerms=E[E.pickedList].storedData.viewedTerms||{},p=void 0===E[E.pickedList].storedData.viewedTerms[l]?0:E[E.pickedList].storedData.viewedTerms[l].viewCount+1||0,document.querySelector("h1").innerHTML=E.pickedList,document.querySelector(".list-action").innerHTML=E[E.pickedList].action+'<span class="query-holder"></span>';var m='<div class="m-term-wrapper '+f+'">\n                <p class="term-holder">'+l+'</p>\n                <div class="theme-holder"><p class="symbol-holder"></p></div>\n                <div class="right">\n                    <p class="term-views"><span>Goal:</span> <span class="count">'+p+"</span> / "+E[E.pickedList].ops.revealDailyBonusTarget+'</p>\n                    <button class="reveal">Reveal</button>\n                </div>\n                <div class="definition-wrapper hidden">\n                    <p class="definition-holder">'+c+'</p>\n                    <div class="helpers">\n                        <a href="#" class="lookup"></a>\n                        <a href="#" class="colour"></a>\n                        <a href="#" class="symbol"></a>\n                    </div>\n                    <div class="support-wrapper">'+u+"</div>\n                </div>\n            </div>";n+=m}}catch(e){i=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw r}}document.querySelector(".terms-wrapper").innerHTML=n;var h=!0,g=!1,y=void 0;try{for(var v,b=e[Symbol.iterator]();!(h=(v=b.next()).done);h=!0){var _=v.value,k=E[E.pickedList].terms[_].term,w=d(k);if(E[E.pickedList].storedData.viewedTerms=E[E.pickedList].storedData.viewedTerms||{},void 0!==E[E.pickedList].storedData.viewedTerms[k]&&void 0!==E[E.pickedList].storedData.viewedTerms[k].colour){var S=document.querySelector("."+w),T=E[E.pickedList].storedData.viewedTerms[k].colour;S.querySelector(".theme-holder").style.background=T,S.querySelector(".theme-holder").classList.add("bg-active"),S.querySelector(".term-holder").style.color="#fff",S.querySelector(".right").style.border="0"}if(void 0!==E[E.pickedList].storedData.viewedTerms[k]&&void 0!==E[E.pickedList].storedData.viewedTerms[k].symbol){var D=document.querySelector("."+w),q=E[E.pickedList].storedData.viewedTerms[k].symbol;D.querySelector(".symbol-holder").classList="symbol-holder",D.querySelector(".symbol-holder").classList.add(q)}}}catch(e){g=!0,y=e}finally{try{!h&&b.return&&b.return()}finally{if(g)throw y}}var N=!0,C=!1,I=void 0;try{for(var x,A=e[Symbol.iterator]();!(N=(x=A.next()).done);N=!0){var B=x.value;if(void 0!==E[E.pickedList].storedData.revealCountdowns&&void 0!==E[E.pickedList].storedData.revealCountdowns[B])for(var M=document.querySelectorAll(".reveal"),R=0;R<M.length;R++){var O=M[R].parentNode.parentNode.querySelector(".term-holder").innerHTML;O===B&&L(M[R])}}}catch(e){C=!0,I=e}finally{try{!N&&A.return&&A.return()}finally{if(C)throw I}}},h=function(){var e=document.querySelector(".hearts"),n="";void 0===E[E.pickedList].storedData.hearts&&(E[E.pickedList].storedData.hearts=E[E.pickedList].ops.points.hearts);for(var t=0;t<E[E.pickedList].storedData.hearts;t++)n+="<p></p>";e.innerHTML=n,localforage.setItem(E.storedName,E[E.pickedList])},g=function(){var e=document.querySelector(".score-holder");void 0===E[E.pickedList].storedData.score&&(E[E.pickedList].storedData.score=0);var n=E[E.pickedList].storedData.score;e.innerHTML=n},y=function(){E[E.pickedList].storedData.learnedTerms=E[E.pickedList].storedData.learnedTerms||{};var e=Object.keys(E[E.pickedList].storedData.learnedTerms).length,n=Object.keys(E[E.pickedList].terms).length;document.querySelector(".m-footer").querySelector(".completed").innerHTML=e,document.querySelector(".m-footer").querySelector(".remaining").innerHTML=" / "+n,document.querySelector(".m-footer").querySelector(".progress-bar").style.width=e/n*100+"%"},v=function(e){function t(){function t(e,n){document.querySelector(".query-form").classList.add("hidden"),p.classList.add("hidden"),"mispelled"===e?(u.innerHTML="Well done but check your spelling ("+n+'), the definition is <strong>"'+g+'"</strong>',u.classList.remove("hidden")):(u.innerHTML='Well done, the definition is <strong>"'+g+'"</strong>',u.classList.remove("hidden")),m+=E[E.pickedList].ops.points.correct,f.innerHTML=m,E[E.pickedList].storedData.score=m,E[E.pickedList].storedData.correctTerms[i]=g,E[E.pickedList].storedData.queryComplete=!0,delete E[E.pickedList].storedData.dailyQuery,Object.keys(E[E.pickedList].storedData.correctTerms).length===Object.keys(E[E.pickedList].terms).length&&(E[E.pickedList].storedData.gameWon=!0,o()),localforage.setItem(E.storedName,E[E.pickedList])}function r(){var e=document.querySelector(".query-input");u.innerHTML="Try again.",u.classList.remove("hidden"),e.placeholder=e.value,e.value="",p.removeChild(p.getElementsByTagName("p")[0]),E[E.pickedList].storedData.hearts-=1,0===E[E.pickedList].storedData.hearts&&(document.querySelector(".query-form").classList.add("hidden"),p.classList.add("hidden"),e.value="",e.placeholder="Enter the definition",u.innerHTML="Sorry, you are out of attempts!",u.classList.remove("hidden"),E[E.pickedList].storedData.incorrectTerms[i]=g,E[E.pickedList].storedData.queryComplete=!0,delete E[E.pickedList].storedData.hearts),localforage.setItem(E.storedName,E[E.pickedList])}function o(){n("game won")}var a=document.querySelector(".query-wrapper"),l=document.querySelector(".query-holder"),c=document.querySelector(".query-submit"),u=document.querySelector(".result-holder"),f=document.querySelector(".score-holder"),p=document.querySelector(".hearts"),m=parseInt(f.innerHTML),g=E[E.pickedList].terms[i].definition;E[E.pickedList].storedData.dailyQuery=i,E[E.pickedList].storedData.queryComplete=!1,localforage.setItem(E.storedName,E[E.pickedList]);var y=d(i);null!==document.querySelector("."+y)&&document.querySelector("."+y).querySelector(".definition-wrapper").classList.add("hidden"),delete E[E.pickedList].storedData.hearts,h(),a.classList.remove("hidden"),e&&(a.getElementsByTagName("h2")[0].innerHTML="Bonus Test"),l.innerHTML=i,window.addEventListener("keypress",function(e){13===e.keyCode&&c.click()}),c.addEventListener("click",function(){var e=document.querySelector(".query-input").value;s(e,g)===!0?t():"mispelled"===s(e,g)?t("mispelled",e):""===e?(u.innerHTML="Enter a definition.",u.classList.remove("hidden")):r()})}var i=void 0,r=0;E[E.pickedList].storedData.queryTerms=E[E.pickedList].storedData.queryTerms||{},E[E.pickedList].storedData.correctTerms=E[E.pickedList].storedData.correctTerms||{},E[E.pickedList].storedData.incorrectTerms=E[E.pickedList].storedData.incorrectTerms||{};for(var o=[];r<Object.keys(E[E.pickedList].storedData.viewedTerms).length;){if(i=void 0===E[E.pickedList].storedData.dailyQuery?a(E[E.pickedList].storedData.viewedTerms):E[E.pickedList].storedData.dailyQuery,!E[E.pickedList].storedData.correctTerms.hasOwnProperty(i))if(void 0!==E[E.pickedList].storedData.dailyReminder){if(!E[E.pickedList].storedData.dailyReminder.hasOwnProperty(i)){t();break}}else if(!E[E.pickedList].storedData.dailyTerms.hasOwnProperty(i)){t();break}o.indexOf(i)||r++,r===Object.keys(E[E.pickedList].storedData.viewedTerms).length&&(document.querySelector(".result-holder").innerHTML="Reveal more terms to get a query",document.querySelector(".result-holder").classList.remove("hidden"))}},b=function(){var e=document.querySelectorAll(".reveal");o(e,function(n){if(e[n].classList.contains("disabled"))return!1;var t=[e[n].parentNode.parentNode.querySelector(".term-holder").innerHTML],i=e[n].parentNode.querySelector(".count"),r=e[n].parentNode.parentNode.querySelector(".definition-wrapper");e[n].parentNode.parentNode.querySelector(".definition-holder"),parseInt(i.innerHTML);r.classList.remove("hidden"),r.classList.add("slideInUp","animated"),e[n].parentNode.classList.add("rubberBand","animated"),E[E.pickedList].storedData.viewedTerms=E[E.pickedList].storedData.viewedTerms||{},E[E.pickedList].storedData.viewedTerms[t]=E[E.pickedList].storedData.viewedTerms[t]||{},E[E.pickedList].storedData.viewedTerms[t].viewCount=E[E.pickedList].storedData.viewedTerms[t].viewCount||-1,E[E.pickedList].storedData.viewedTerms[t].viewCount+=1;var o=void 0;void 0===E[E.pickedList].storedData.revealDailyBonus[t]?o=1:(o=E[E.pickedList].storedData.revealDailyBonus[t],o+=1),i.innerHTML=o,o===E[E.pickedList].ops.revealDailyBonusTarget&&(E[E.pickedList].storedData.learnedTerms=E[E.pickedList].storedData.learnedTerms||{},E[E.pickedList].storedData.learnedTerms[t]=!0,y(),E[E.pickedList].storedData.revealDailyBonus.complete===!1&&(E[E.pickedList].storedData.queryComplete=!1,v(!0)),E[E.pickedList].storedData.revealDailyBonus.complete=!0,E[E.pickedList].storedData.score+=E[E.pickedList].ops.points.dailyBonus,g()),E[E.pickedList].storedData.revealDailyBonus[t]=o,localforage.setItem(E.storedName,E[E.pickedList]),L(e[n])})},L=function(e){function n(){var n=(new Date).getTime();e.classList.add("disabled"),e.setAttribute("disabled",!0),a=E[E.pickedList].storedData.revealCountdowns[i].startTime,s=E[E.pickedList].storedData.revealCountdowns[i].timerEnded;var t=Math.floor((n-a)/1e3),l=60*E[E.pickedList].ops.counterMins+r;return t>=l&&(s=!0,clearInterval(E[E.pickedList].storedData.revealCountdowns[i].timerUpdate),delete E[E.pickedList].storedData.revealCountdowns[i]),s===!0?(localforage.setItem(E.storedName,E[E.pickedList]),!1):void(o=l-t)}function t(){var n=Math.floor(o/60),t=o%60,i="";return o<=0?(e.innerHTML="Reveal",e.classList.remove("disabled"),e.disabled=!1,!1):(t<10&&t>=0&&(i="0"),60===o&&(t="00"),e.innerHTML=n+":"+i+t,void(o-=1))}E[E.pickedList].storedData.revealCountdowns=E[E.pickedList].storedData.revealCountdowns||{};var i=[e.parentNode.parentNode.querySelector(".term-holder").innerHTML],r=(E[E.pickedList].ops.counterMins,E[E.pickedList].ops.counterSecs),o=void 0,a=void 0,s=void 0;void 0===E[E.pickedList].storedData.revealCountdowns[i]?(a=(new Date).getTime(),E[E.pickedList].storedData.revealCountdowns[i]={startTime:a,timerEnded:!1},n()):n(),localforage.setItem(E.storedName,E[E.pickedList]);var l=0;s===!1?E[E.pickedList].storedData.revealCountdowns[i].timerUpdate=setInterval(function(){l+=1,l%5===0&&n(),t()},1e3):(e.innerHTML="Reveal",e.classList.remove("disabled"),e.disabled=!1)},_=function(){var e=document.querySelectorAll(".term-holder");if(o(e,function(n){var t=new SpeechSynthesisUtterance(e[n].innerHTML);t.lang=E[E.pickedList].speechLang,window.speechSynthesis.speak(t)}),void 0===E[E.pickedList].speechLang||""===E[E.pickedList].speechLang)for(var n=0;n<e.length;n++)e[n].classList.add("no-speak")},k=function(){var e=document.querySelectorAll(".lookup"),n=document.querySelector(".m-modal");o(e,function(t){var i=e[t].parentNode.parentNode.parentNode.querySelector(".term-holder").innerHTML;n.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var r='<header>\n                        <h2 class="dictionary">Dictionary definitions</h2>\n                    </header>\n                    <p>'+i+':</p>\n                    <ul class="definitions">\n                    </ul>';n.querySelector(".content").innerHTML+=r;var o=n.querySelector(".definitions");u("https://glosbe.com/gapi/translate?from="+E[E.pickedList].dictFrom+"a&dest="+E[E.pickedList].dictTo+"g&format=json&pretty=true&phrase="+i.toLowerCase()).then(function(e){var n="";try{!function(){var t=function e(t,i,r){var o=void 0,a=Object.prototype,s=a.toString,l=a.hasOwnProperty.bind(t);for(o in t)l(o)&&(o===i?n+="<li>"+t[o]+"</li>":"[object Array]"!==s.call(t[o])&&"[object Object]"!==s.call(t[o])||e(t[o],i,r));return r};t(e,"text"),o.innerHTML=n}()}catch(e){console.log("error")}})})},w=function(){function e(){var e=document.querySelector(".colour-term").innerHTML,n=d(e),t=document.querySelector("."+n);o(i,function(n){var r=i[n].getAttribute("data-colour");t.querySelector(".theme-holder").style.background=r,t.querySelector(".theme-holder").classList.add("bg-active"),t.querySelector(".term-holder").style.color="#fff",t.querySelector(".right").style.border="0",E[E.pickedList].storedData.viewedTerms[e].colour=r,localforage.setItem(E.storedName,E[E.pickedList]),T(!0)})}var n=document.querySelector(".m-modal"),t=document.querySelectorAll(".colour"),i=void 0;o(t,function(r){n.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var o=(t[r].parentNode.parentNode.parentNode,t[r].parentNode.parentNode.parentNode.querySelector(".term-holder").innerHTML),a='<header>\n                        <h2 class="colour">Colour picker</h2>\n                    </header>\n                    <p>Click below to add a colour for <br>"<span class="colour-term">'+o+'</span>":</p>\n                    <ul class="colour-wrap">\n                        <li><a href="#" data-colour="#1abc9c"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#3498db"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#9b59b6"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#f1c40f"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#e67e22"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#e74c3c"></a></li>\n                    </ul>';n.querySelector(".content").innerHTML+=a;var s=n.querySelector(".colour-wrap");i=s.getElementsByTagName("a"),e()})},S=function(){function e(){var e=document.querySelector(".symbol-term").innerHTML,t=d(e),i=document.querySelector("."+t),r="";n.getElementsByTagName("table")[0].addEventListener("click",function(n){n=n||window.event;var t=n.target||n.srcElement;r=t.getAttribute("class"),i.querySelector(".symbol-holder").classList="symbol-holder",i.querySelector(".symbol-holder").classList.add(r),E[E.pickedList].storedData.viewedTerms[e].symbol=r,localforage.setItem(E.storedName,E[E.pickedList]),T(!0)},!1)}for(var n=document.querySelector(".m-modal"),t=document.querySelectorAll(".symbol"),i="<tr>",r=(p.fonts,0),a=0;a<p.fonts.feather.length;a++)r%5===0&&0!=r&&(i+="</tr><tr>"),i+="<td><p class="+p.fonts.feather[a]+"></p></td>",r++,a===p.fonts.feather.length-1&&(i+="</tr>");o(t,function(r){n.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var o=(t[r].parentNode.parentNode.parentNode,t[r].parentNode.parentNode.parentNode.querySelector(".term-holder").innerHTML),a='<header>\n                        <h2 class="symbol">Glyph picker</h2>\n                    </header>\n                    <p>Click below to add a glyph for <br>"<span class="symbol-term">'+o+'</span>":</p>\n                    <div class="symbol-wrap">\n                        <table>'+i+"</table>\n                    </div>";n.querySelector(".content").innerHTML+=a,e()})},T=function(e){function n(){document.getElementsByTagName("body")[0].classList.remove("modal-active"),t.classList.add("hidden"),t.querySelector(".content").innerHTML=""}var t=document.querySelector(".m-modal"),i=t.querySelector(".close");i.addEventListener("click",function(e){e.preventDefault(),n()}),e&&n()},D=function(){setTimeout(function(){document.getElementsByTagName("body")[0].classList="",document.querySelector(".query-wrapper").classList.add("animated","slideInDown")},1e3);var e=document.querySelector(".m-menu");e.classList.remove("hidden"),document.querySelector("body").classList.add("modal-active");var n="";for(var t in E.listChoices)n+='<a href="#">'+E.listChoices[t].name+"</a>";e.querySelector(".choose-list").getElementsByTagName("nav")[0].innerHTML=n;for(var i=document.querySelector(".choose-list").querySelectorAll("a"),r=0;r<i.length;r++)i[r].addEventListener("click",function(e){e.preventDefault,E.pickedList=this.innerHTML,localforage.setItem("tinyTermsDefault",E.pickedList),location.reload()})},q=function(){function e(){T(!0),c.style.zIndex="100",c.querySelector(".term-holder").classList.add("animated","pulse","infinite"),document.getElementsByTagName("body")[0].classList.add("modal-active"),c.getElementsByTagName("button")[0].setAttribute("disabled","true"),d.classList.remove("hidden");var e='<p>This is one of the terms you will be learning, you get 5 each day.</p>\n                    <button class="onboard-2">Next</button>';d.innerHTML=e;var t=c.offsetTop+c.offsetHeight;d.style.top=t+"px",document.querySelector(".onboard-2").addEventListener("click",function(e){e.preventDefault,n()})}function n(){c.querySelector(".term-holder").classList.remove("animated","pulse","infinite"),c.querySelector(".term-views").classList.add("animated","pulse","infinite");var e='<p>On the right is the goal meter, fill this and the term is marked as complete.</p>\n                    <button class="onboard-3">Next</button>';d.innerHTML=e,d.classList.add("onboard-right"),document.querySelector(".onboard-3").addEventListener("click",function(e){e.preventDefault,t()})}function t(){c.querySelector(".term-views").classList.remove("animated","pulse","infinite"),c.getElementsByTagName("button")[0].classList.add("animated","pulse","infinite"),c.getElementsByTagName("button")[0].removeAttribute("disabled");var e='<p style="border:0; margin: 10px 0; padding: 0">Press the reveal button to continue!</p>\n                    ';d.innerHTML=e,c.getElementsByTagName("button")[0].addEventListener("click",function(e){e.preventDefault,i();
})}function i(){c.getElementsByTagName("button")[0].classList.remove("animated","pulse","infinite"),c.querySelector(".definition-wrapper").classList.remove("hidden"),c.querySelector(".definition-holder").classList.add("animated","pulse","infinite");var e=c.offsetTop+u.offsetTop+u.offsetHeight+95;d.style.top=e+"px";var n='<p>This is the definition you need to learn, helpful information is displayed underneath.</p>\n                    <button class="onboard-5">Next</button>';d.innerHTML=n,d.classList.remove("onboard-right"),document.querySelector(".onboard-5").addEventListener("click",function(e){e.preventDefault,r()})}function r(){c.querySelector(".definition-holder").classList.remove("animated","pulse","infinite");var e=c.offsetTop+u.offsetTop+95;d.style.top=e+"px";var n='<p>Tiny Terms uses spaced repetition, check back in an hour to add to the goal.</p>\n                    <button class="onboard-6">Next</button>';d.innerHTML=n,d.classList.add("onboard-right"),document.querySelector(".onboard-6").addEventListener("click",function(e){e.preventDefault,o()})}function o(){c.querySelector(".colour").classList.add("animated","pulse","infinite"),c.querySelector(".symbol").classList.add("animated","pulse","infinite"),c.querySelector(".colour").setAttribute("disabled","true"),c.querySelector(".symbol").setAttribute("disabled","true");var e=c.offsetTop+u.offsetTop+u.offsetHeight+95;d.style.top=e+"px";var n='<p>You can add a colour and symbol to the term, the visual association will help you rememeber.</p>\n                    <button class="onboard-7">Next</button>';d.innerHTML=n,document.querySelector(".onboard-7").addEventListener("click",function(e){e.preventDefault,a()})}function a(){c.querySelector(".colour").classList.remove("animated","pulse","infinite"),c.querySelector(".symbol").classList.remove("animated","pulse","infinite"),c.querySelector(".colour").removeAttribute("disabled"),c.querySelector(".symbol").removeAttribute("disabled"),c.style.zIndex="50";var e=document.querySelector(".m-query");document.querySelector(".query-submit").setAttribute("disabled","true"),v(!0),delete E[E.pickedList].storedData.dailyQuery,localforage.setItem(E.storedName,E[E.pickedList]);var n=e.offsetTop+e.offsetHeight;d.style.top=n+"px",e.style.zIndex="100";var t='<p>Each day you get a mini test to see how well you have rememebered, you can also unlock an extra test by completing at least one goal meter in a day.</p>\n                    <button class="onboard-8">Next</button>';d.innerHTML=t,document.querySelector(".onboard-8").addEventListener("click",function(e){e.preventDefault,s()})}function s(){l.classList.remove("hidden"),d.innerHTML="",d.classList.add("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var e=document.querySelector(".m-query");document.querySelector(".query-submit").removeAttribute("disabled"),e.style.zIndex="50",e.classList.add("hidden"),c.querySelector(".definition-wrapper").classList.remove("hidden");var n='<header>\n                        <h2 class="">That\'s about it</h2>\n                    </header>\n                    <p>Fill the progress bar by completing the goal meters to finish the list! You get points for answering tests correctly and completing goal meters, use them to unlock cool stuff. <br><br>Good luck!</p>\n                    <button class="close-tut">Close the tutorial</button>\n                    ';l.querySelector(".content").innerHTML=n,l.classList.add("onboard"),document.querySelector(".close-tut").addEventListener("click",function(e){e.preventDefault,T(!0),E.tutComplete=!0,localforage.setItem("tinyTerms.tutComplete",E.tutComplete),l.classList.remove("onboard")})}var l=document.querySelector(".m-modal"),d=document.querySelector(".m-onboarding"),c=document.querySelectorAll(".m-term-wrapper")[0],u=c.querySelector(".definition-holder");E.tutComplete=!1,localforage.setItem("tinyTerms.tutComplete",E.tutComplete),l.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var f='<header>\n                    <h2 class="icon-child">Welcome to Tiny Terms!</h2>\n                </header>\n                <p>Looks like this is your first time here, so let\'s go over some basics before you get started.</p>\n                <button class="onboard-1">Let\'s go!</button>\n                <a href="#" class="close-tut">Skip the tutorial</a>\n                ';l.querySelector(".content").innerHTML=f,l.classList.add("onboard"),document.querySelector(".close-tut").addEventListener("click",function(){T(!0),l.classList.remove("onboard"),E.tutComplete=!0,localforage.setItem("tinyTerms.tutComplete",E.tutComplete)}),document.querySelector(".onboard-1").addEventListener("click",function(n){n.preventDefault,e()})},N=function(){var e=document.querySelector(".m-modal"),n=document.querySelector(".settings");n.addEventListener("click",function(n){function t(){null!==document.querySelector(".delete-confirm")&&(r.innerHTML="Reset list progress",o.innerHTML="Reset the app",document.querySelector(".delete-confirm").parentNode.removeChild(document.querySelector(".delete-cancel")),document.querySelector(".delete-confirm").parentNode.removeChild(document.querySelector(".delete-confirm")))}n.preventDefault(),e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var i='<header>\n                        <h2 class="icon-cog-outline">Options</h2>\n                    </header>\n                    <div class="options">\n                        <p>Spend points: (coming soon)</p>\n                        <a href="#" class="icon-award-empty points-neon-colours">1000: Unlock neon colours</a>\n                        <a href="#" class="icon-award points-life-glyphs">5000: Unlock solid symbols</a>\n                        <a href="#" class="icon-award-1 points-metal-colours">10000: Unlock metal colours</a>\n                        <p>Help</p>\n                        <a href="#" class="icon-right-open-big show-tut">Show the tutorial again</a>\n                        <p>More Options</p>\n                        <a href="#" class="icon-right-open-big reset-list">Reset list progress</a>\n                        <a href="#" class="icon-right-open-big reset">Reset the app</a>\n                    </div>\n                    ';e.querySelector(".content").innerHTML+=i;var r=document.querySelector(".reset-list"),o=document.querySelector(".reset");document.querySelector(".show-tut").addEventListener("click",function(e){e.preventDefault,q()}),r.addEventListener("click",function(e){e.preventDefault,t(),r.innerHTML="Are you sure you want to delete progress for this list? (Can't undo)",r.parentNode.insertBefore(document.createElement("div"),r.nextSibling),r.nextSibling.innerHTML='<button class="delete-cancel">Cancel</button><button class="delete-confirm">Confim</button>',document.querySelector(".delete-confirm").addEventListener("click",function(){delete E[E.pickedList],localforage.setItem(E.storedName,E[E.pickedList]),location.reload()}),document.querySelector(".delete-cancel").addEventListener("click",function(){T(!0)})}),document.querySelector(".reset").addEventListener("click",function(e){e.preventDefault,t(),o.innerHTML="Are you sure you want to delete all progress for the app? (Can't undo)",o.parentNode.insertBefore(document.createElement("div"),o.nextSibling),o.nextSibling.innerHTML='<button class="delete-cancel">Cancel</button><button class="delete-confirm">Confim</button>',document.querySelector(".delete-confirm").addEventListener("click",function(){localforage.clear(),location.reload()})})})},E=E||{},C={displayedTerms:5,counterMins:60,counterSecs:0,revealDailyBonusTarget:5,wordAccuracy:.7,addDay:!1,debug:!0,loadDelay:0,points:{correct:50,dailyBonus:10,hearts:3}};E.listChoices={"Italian Verbs (ENG)":{name:"Italian Verbs (ENG)",sheetURL:"https://docs.google.com/spreadsheets/d/1Q1pmDXybg_GDB6bSXknuBET2Nm8L-Roi2Kj01SHm_WI/pubhtml"},"Computer Components":{name:"Computer Components",sheetURL:"https://docs.google.com/spreadsheets/d/1Ho5Viqg71mIBlbyAIjLIqHEWRr4znDCLZSBtwVTtZk0/edit"},"Periodic Elements":{name:"Periodic Elements",sheetURL:"https://docs.google.com/spreadsheets/d/1sL3kTrZq3Hdb_iBo7hC8x9oGXXownlxmmdmmvALAPlU/edit#gid=0"}},setTimeout(function(){document.getElementsByTagName("body")[0].classList.remove("loading")},1e4),e(function(){I()});var I=function(e){function n(){localforage.getItem("tinyTerms"+i,function(e,n){null!==n?(E.pickedList=i,t(E.pickedList)):x()})}function t(e){E.storedName="tinyTerms"+e,localforage.getItem("tinyTerms"+e,function(e,n){E[E.pickedList]=n,E[E.pickedList].ops=C,M()})}var i=void 0;localforage.getItem("tinyTerms.tutComplete",function(e,t){E.tutComplete=t,localforage.getItem("tinyTermsDefault",function(e,t){i=t,null===i?D():n()})})},x=function(){localforage.getItem("tinyTermsDefault",function(e,n){E.pickedList=n,E[E.pickedList]={},E[E.pickedList].storedData={},E[E.pickedList].ops=C,E.storedName="tinyTerms"+E.pickedList,localforage.setItem(E.storedName,E[E.pickedList]),A(E.listChoices[E.pickedList].sheetURL,B)})},A=function(e,n){E.postBuildCallback=n,Tabletop.init({key:e,callback:l,simpleSheet:!1})},B=function(){R(),null===E.tutComplete&&q(),E[E.pickedList].storedData.firstTime=!1,localforage.setItem(E.storedName,E[E.pickedList])},M=function(){t(),R()},R=function(){var e=void 0;E[E.pickedList].storedData.newDay===!1?e=E[E.pickedList].storedData.dailyTerms:(e=f(),delete E[E.pickedList].storedData.revealedTermCount,delete E[E.pickedList].storedData.revealDailyBonus,delete E[E.pickedList].storedData.revealCountdowns,delete E[E.pickedList].storedData.dailyQuery,delete E[E.pickedList].storedData.dailyReminder,E[E.pickedList].storedData.revealDailyBonus={},E[E.pickedList].storedData.revealDailyBonus.complete=!1,void 0!==E[E.pickedList].storedData.viewedTerms&&v(),E[E.pickedList].storedData.remindedTerms=E[E.pickedList].storedData.remindedTerms||{}),m(e),g(),E[E.pickedList].storedData.dateOpened=i(),E[E.pickedList].storedData.dailyTerms=e,localforage.setItem(E.storedName,E[E.pickedList]),E[E.pickedList].storedData.queryComplete=E[E.pickedList].storedData.queryComplete||{},void 0!==E[E.pickedList].storedData.dailyQuery&&E[E.pickedList].storedData.queryComplete!==!0&&v(),b(),k(),_(),w(),S(),T(),y(),N(),c(),setTimeout(function(){document.getElementsByTagName("body")[0].classList.remove("loading"),document.querySelector(".m-query").classList.add("animated","slideInDown")},E[E.pickedList].ops.loadDelay);var t=document.getElementsByTagName("h1");t[0].addEventListener("click",function(e){e.preventDefault,D()}),E.tutComplete===!1&&q(),E[E.pickedList].ops.debug===!0&&n(E)};return E}();
//# sourceMappingURL=script-0f84941742.js.map
