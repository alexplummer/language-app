/*!
    localForage -- Offline Storage, Improved
    Version 1.4.3
    https://mozilla.github.io/localForage
    (c) 2013-2016 Mozilla, Apache License 2.0
*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.localforage=e()}}(function(){return function e(t,n,i){function o(r,a){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){var n=t[r][1][e];return o(n||e)},c,c.exports,e,t,n,i)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){(function(e){"use strict";function n(){c=!0;for(var e,t,n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}c=!1}function i(e){1!==u.push(e)||c||o()}var o,s=e.MutationObserver||e.WebKitMutationObserver;if(s){var r=0,a=new s(n),l=e.document.createTextNode("");a.observe(l,{characterData:!0}),o=function(){l.data=r=++r%2}}else if(e.setImmediate||void 0===e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var d=new e.MessageChannel;d.port1.onmessage=n,o=function(){d.port2.postMessage(0)}}var c,u=[];t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";function i(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==i&&l(this,e)}function s(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function r(e,t,n){m(function(){var i;try{i=t(n)}catch(t){return p.reject(e,t)}i===e?p.reject(e,new TypeError("Cannot resolve promise with itself")):p.resolve(e,i)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function l(e,t){function n(t){s||(s=!0,p.reject(e,t))}function i(t){s||(s=!0,p.resolve(e,t))}function o(){t(i,n)}var s=!1,r=d(o);"error"===r.status&&n(r.value)}function d(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function c(e){return e instanceof this?e:p.resolve(new this(i),e)}function u(e){var t=new this(i);return p.reject(t,e)}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var s=new Array(n),r=0,a=-1,l=new this(i);++a<n;)!function(e,i){function a(e){s[i]=e,++r!==n||o||(o=!0,p.resolve(l,s))}t.resolve(e).then(a,function(e){o||(o=!0,p.reject(l,e))})}(e[a],a);return l}function f(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var s=-1,r=new this(i);++s<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,p.resolve(r,e))},function(e){o||(o=!0,p.reject(r,e))})}(e[s]);return r}var m=e(1),p={},g=["REJECTED"],v=["FULFILLED"],y=["PENDING"];t.exports=n=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===v||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(i);if(this.state!==y){r(n,this.state===v?e:t,this.outcome)}else this.queue.push(new s(n,e,t));return n},s.prototype.callFulfilled=function(e){p.resolve(this.promise,e)},s.prototype.otherCallFulfilled=function(e){r(this.promise,this.onFulfilled,e)},s.prototype.callRejected=function(e){p.reject(this.promise,e)},s.prototype.otherCallRejected=function(e){r(this.promise,this.onRejected,e)},p.resolve=function(e,t){var n=d(a,t);if("error"===n.status)return p.reject(e,n.value);var i=n.value;if(i)l(e,i);else{e.state=v,e.outcome=t;for(var o=-1,s=e.queue.length;++o<s;)e.queue[o].callFulfilled(t)}return e},p.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},n.resolve=c,n.reject=u,n.all=h,n.race=f},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(s){if("TypeError"!==s.name)throw s;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,i=new n,o=0;o<e.length;o+=1)i.append(e[o]);return i.getBlob(t.type)}}function s(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function r(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function a(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),o=0;o<t;o++)i[o]=e.charCodeAt(o);return n}function l(e){return new oe(function(t){var n=o([""]);e.objectStore(se).put(n,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function d(e){return"boolean"==typeof ne?oe.resolve(ne):l(e).then(function(e){return ne=e})}function c(e){var t=ie[e.name],n={};n.promise=new oe(function(e){n.resolve=e}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function u(e){var t=ie[e.name],n=t.deferredOperations.pop();n&&n.resolve()}function h(e,t){return new oe(function(n,i){if(e.db){if(!t)return n(e.db);c(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var s=te.open.apply(te,o);t&&(s.onupgradeneeded=function(t){var n=s.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(se)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),s.onerror=function(){i(s.error)},s.onsuccess=function(){n(s.result),u(e)}})}function f(e){return h(e,!1)}function m(e){return h(e,!0)}function p(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,o=e.version>e.db.version;if(i&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var s=e.db.version+1;s>e.version&&(e.version=s)}return!0}return!1}function g(e){return new oe(function(t,n){var i=new FileReader;i.onerror=n,i.onloadend=function(n){var i=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:e.type})},i.readAsBinaryString(e)})}function v(e){return o([a(atob(e.data))],{type:e.type})}function y(e){return e&&e.__local_forage_encoded_blob}function _(e){var t=this,n=t._initReady().then(function(){var e=ie[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return r(n,e,e),n}function k(e){function t(){return oe.resolve()}var n=this,i={db:null};if(e)for(var o in e)i[o]=e[o];ie||(ie={});var s=ie[i.name];s||(s={forages:[],db:null,dbReady:null,deferredOperations:[]},ie[i.name]=s),s.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=_);for(var r=[],a=0;a<s.forages.length;a++){var l=s.forages[a];l!==n&&r.push(l._initReady().catch(t))}var d=s.forages.slice(0);return oe.all(r).then(function(){return i.db=s.db,f(i)}).then(function(e){return i.db=e,p(i,n._defaultConfig.version)?m(i):e}).then(function(e){i.db=s.db=e,n._dbInfo=i;for(var t=0;t<d.length;t++){var o=d[t];o!==n&&(o._dbInfo.db=i.db,o._dbInfo.version=i.version)}})}function b(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new oe(function(t,i){n.ready().then(function(){var o=n._dbInfo,s=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),r=s.get(e);r.onsuccess=function(){var e=r.result;void 0===e&&(e=null),y(e)&&(e=v(e)),t(e)},r.onerror=function(){i(r.error)}}).catch(i)});return s(i,t),i}function L(e,t){var n=this,i=new oe(function(t,i){n.ready().then(function(){var o=n._dbInfo,s=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),r=s.openCursor(),a=1;r.onsuccess=function(){var n=r.result;if(n){var i=n.value;y(i)&&(i=v(i));var o=e(i,n.key,a++);void 0!==o?t(o):n.continue()}else t()},r.onerror=function(){i(r.error)}}).catch(i)});return s(i,t),i}function w(e,t,n){var i=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new oe(function(n,o){var s;i.ready().then(function(){return s=i._dbInfo,"[object Blob]"===re.call(t)?d(s.db).then(function(e){return e?t:g(t)}):t}).then(function(t){var i=s.db.transaction(s.storeName,"readwrite"),r=i.objectStore(s.storeName);null===t&&(t=void 0),i.oncomplete=function(){void 0===t&&(t=null),n(t)},i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;o(e)};var a=r.put(t,e)}).catch(o)});return s(o,n),o}function S(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new oe(function(t,i){n.ready().then(function(){var o=n._dbInfo,s=o.db.transaction(o.storeName,"readwrite"),r=s.objectStore(o.storeName),a=r.delete(e);s.oncomplete=function(){t()},s.onerror=function(){i(a.error)},s.onabort=function(){var e=a.error?a.error:a.transaction.error;i(e)}}).catch(i)});return s(i,t),i}function D(e){var t=this,n=new oe(function(e,n){t.ready().then(function(){var i=t._dbInfo,o=i.db.transaction(i.storeName,"readwrite"),s=o.objectStore(i.storeName),r=s.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=r.error?r.error:r.transaction.error;n(e)}}).catch(n)});return s(n,e),n}function T(e){var t=this,n=new oe(function(e,n){t.ready().then(function(){var i=t._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),s=o.count();s.onsuccess=function(){e(s.result)},s.onerror=function(){n(s.error)}}).catch(n)});return s(n,e),n}function M(e,t){var n=this,i=new oe(function(t,i){if(e<0)return void t(null);n.ready().then(function(){var o=n._dbInfo,s=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),r=!1,a=s.openCursor();a.onsuccess=function(){var n=a.result;if(!n)return void t(null);0===e?t(n.key):r?t(n.key):(r=!0,n.advance(e))},a.onerror=function(){i(a.error)}}).catch(i)});return s(i,t),i}function C(e){var t=this,n=new oe(function(e,n){t.ready().then(function(){var i=t._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),s=o.openCursor(),r=[];s.onsuccess=function(){var t=s.result;if(!t)return void e(r);r.push(t.key),t.continue()},s.onerror=function(){n(s.error)}}).catch(n)});return s(n,e),n}function E(e){var t,n,i,o,s,r=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--);var d=new ArrayBuffer(r),c=new Uint8Array(d);for(t=0;t<a;t+=4)n=le.indexOf(e[t]),i=le.indexOf(e[t+1]),o=le.indexOf(e[t+2]),s=le.indexOf(e[t+3]),c[l++]=n<<2|i>>4,c[l++]=(15&i)<<4|o>>2,c[l++]=(3&o)<<6|63&s;return d}function x(e){var t,n=new Uint8Array(e),i="";for(t=0;t<n.length;t+=3)i+=le[n[t]>>2],i+=le[(3&n[t])<<4|n[t+1]>>4],i+=le[(15&n[t+1])<<2|n[t+2]>>6],i+=le[63&n[t+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}function q(e,t){var n="";if(e&&(n=De.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===De.call(e.buffer))){var i,o=ue;e instanceof ArrayBuffer?(i=e,o+=fe):(i=e.buffer,"[object Int8Array]"===n?o+=pe:"[object Uint8Array]"===n?o+=ge:"[object Uint8ClampedArray]"===n?o+=ve:"[object Int16Array]"===n?o+=ye:"[object Uint16Array]"===n?o+=ke:"[object Int32Array]"===n?o+=_e:"[object Uint32Array]"===n?o+=be:"[object Float32Array]"===n?o+=Le:"[object Float64Array]"===n?o+=we:t(new Error("Failed to get type for BinaryArray"))),t(o+x(i))}else if("[object Blob]"===n){var s=new FileReader;s.onload=function(){var n=de+e.type+"~"+x(this.result);t(ue+me+n)},s.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function N(e){if(e.substring(0,he)!==ue)return JSON.parse(e);var t,n=e.substring(Se),i=e.substring(he,Se);if(i===me&&ce.test(n)){var s=n.match(ce);t=s[1],n=n.substring(s[0].length)}var r=E(n);switch(i){case fe:return r;case me:return o([r],{type:t});case pe:return new Int8Array(r);case ge:return new Uint8Array(r);case ve:return new Uint8ClampedArray(r);case ye:return new Int16Array(r);case ke:return new Uint16Array(r);case _e:return new Int32Array(r);case be:return new Uint32Array(r);case Le:return new Float32Array(r);case we:return new Float64Array(r);default:throw new Error("Unkown type: "+i)}}function I(e){var t=this,n={db:null};if(e)for(var i in e)n[i]="string"!=typeof e[i]?e[i].toString():e[i];var o=new oe(function(e,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return i(e)}n.db.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=n,e()},function(e,t){i(t)})})});return n.serializer=Te,o}function O(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new oe(function(t,i){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=o.serializer.deserialize(i)),t(i)},function(e,t){i(t)})})}).catch(i)});return s(i,t),i}function P(e,t){var n=this,i=new oe(function(t,i){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT * FROM "+o.storeName,[],function(n,i){for(var s=i.rows,r=s.length,a=0;a<r;a++){var l=s.item(a),d=l.value;if(d&&(d=o.serializer.deserialize(d)),void 0!==(d=e(d,l.key,a+1)))return void t(d)}t()},function(e,t){i(t)})})}).catch(i)});return s(i,t),i}function H(e,t,n){var i=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new oe(function(n,o){i.ready().then(function(){void 0===t&&(t=null);var s=t,r=i._dbInfo;r.serializer.serialize(t,function(t,i){i?o(i):r.db.transaction(function(i){i.executeSql("INSERT OR REPLACE INTO "+r.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){n(s)},function(e,t){o(t)})},function(e){e.code===e.QUOTA_ERR&&o(e)})})}).catch(o)});return s(o,n),o}function Y(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new oe(function(t,i){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){i(t)})})}).catch(i)});return s(i,t),i}function A(e){var t=this,n=new oe(function(e,n){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(t){t.executeSql("DELETE FROM "+i.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return s(n,e),n}function R(e){var t=this,n=new oe(function(e,n){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+i.storeName,[],function(t,n){var i=n.rows.item(0).c;e(i)},function(e,t){n(t)})})}).catch(n)});return s(n,e),n}function U(e,t){var n=this,i=new oe(function(t,i){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){n.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var i=n.rows.length?n.rows.item(0).key:null;t(i)},function(e,t){i(t)})})}).catch(i)});return s(i,t),i}function j(e){var t=this,n=new oe(function(e,n){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(t){t.executeSql("SELECT key FROM "+i.storeName,[],function(t,n){for(var i=[],o=0;o<n.rows.length;o++)i.push(n.rows.item(o).key);e(i)},function(e,t){n(t)})})}).catch(n)});return s(n,e),n}function W(e){var t=this,n={};if(e)for(var i in e)n[i]=e[i];return n.keyPrefix=n.name+"/",n.storeName!==t._defaultConfig.storeName&&(n.keyPrefix+=n.storeName+"/"),t._dbInfo=n,n.serializer=Te,oe.resolve()}function F(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(e)&&localStorage.removeItem(i)}});return s(n,e),n}function B(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=n.ready().then(function(){var t=n._dbInfo,i=localStorage.getItem(t.keyPrefix+e);return i&&(i=t.serializer.deserialize(i)),i});return s(i,t),i}function V(e,t){var n=this,i=n.ready().then(function(){for(var t=n._dbInfo,i=t.keyPrefix,o=i.length,s=localStorage.length,r=1,a=0;a<s;a++){var l=localStorage.key(a);if(0===l.indexOf(i)){var d=localStorage.getItem(l);if(d&&(d=t.serializer.deserialize(d)),void 0!==(d=e(d,l.substring(o),r++)))return d}}});return s(i,t),i}function G(e,t){var n=this,i=n.ready().then(function(){var t,i=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(i.keyPrefix.length)),t});return s(i,t),i}function z(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,i=[],o=0;o<n;o++)0===localStorage.key(o).indexOf(e.keyPrefix)&&i.push(localStorage.key(o).substring(e.keyPrefix.length));return i});return s(n,e),n}function $(e){var t=this,n=t.keys().then(function(e){return e.length});return s(n,e),n}function Z(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return s(i,t),i}function Q(e,t,n){var i=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=i.ready().then(function(){void 0===t&&(t=null);var n=t;return new oe(function(o,s){var r=i._dbInfo;r.serializer.serialize(t,function(t,i){if(i)s(i);else try{localStorage.setItem(r.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||s(e),s(e)}})})});return s(o,n),o}function J(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function X(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Pe(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}function K(e){for(var t in xe)if(xe.hasOwnProperty(t)&&xe[t]===e)return!0;return!1}var ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},te=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){}}();"undefined"==typeof Promise&&void 0!==e&&e(3);var ne,ie,oe=Promise,se="local-forage-detect-blob-support",re=Object.prototype.toString,ae={_driver:"asyncStorage",_initStorage:k,iterate:L,getItem:b,setItem:w,removeItem:S,clear:D,length:T,key:M,keys:C},le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",de="~~local_forage_type~",ce=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",he=ue.length,fe="arbf",me="blob",pe="si08",ge="ui08",ve="uic8",ye="si16",_e="si32",ke="ur16",be="ui32",Le="fl32",we="fl64",Se=he+fe.length,De=Object.prototype.toString,Te={serialize:q,deserialize:N,stringToBuffer:E,bufferToString:x},Me={_driver:"webSQLStorage",_initStorage:I,iterate:P,getItem:O,setItem:H,removeItem:Y,clear:A,length:R,key:U,keys:j},Ce={_driver:"localStorageWrapper",_initStorage:W,iterate:V,getItem:B,setItem:Q,removeItem:Z,clear:F,length:$,key:G,keys:z},Ee={},xe={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},qe=[xe.INDEXEDDB,xe.WEBSQL,xe.LOCALSTORAGE],Ne=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],Ie={description:"",driver:qe.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},Oe={};Oe[xe.INDEXEDDB]=function(){try{return!!te&&(!("undefined"!=typeof openDatabase&&"undefined"!=typeof navigator&&navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))&&(te&&"function"==typeof te.open&&"undefined"!=typeof IDBKeyRange))}catch(e){return!1}}(),Oe[xe.WEBSQL]=function(){return"function"==typeof openDatabase}(),Oe[xe.LOCALSTORAGE]=function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(e){return!1}}();var Pe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},He=function(){function e(t){i(this,e),this.INDEXEDDB=xe.INDEXEDDB,this.LOCALSTORAGE=xe.LOCALSTORAGE,this.WEBSQL=xe.WEBSQL,this._defaultConfig=X({},Ie),this._config=X({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":ee(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e)"storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this._config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var i=new oe(function(t,n){try{var i=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),s=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void n(o);if(K(e._driver))return void n(s);for(var r=Ne.concat("_initStorage"),a=0;a<r.length;a++){var l=r[a];if(!l||!e[l]||"function"!=typeof e[l])return void n(o)}var d=oe.resolve(!0);"_support"in e&&(d=e._support&&"function"==typeof e._support?e._support():oe.resolve(!!e._support)),d.then(function(n){Oe[i]=n,Ee[i]=e,t()},n)}catch(e){n(e)}});return r(i,t,n),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var i=this,o=oe.resolve().then(function(){if(!K(e)){if(Ee[e])return Ee[e];throw new Error("Driver not found.")}switch(e){case i.INDEXEDDB:return ae;case i.LOCALSTORAGE:return Ce;case i.WEBSQL:return Me}});return r(o,t,n),o},e.prototype.getSerializer=function(e){var t=oe.resolve(Te);return r(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return r(n,e,e),n},e.prototype.setDriver=function(e,t,n){function i(){s._config.driver=s.driver()}function o(e){return function(){function t(){for(;n<e.length;){var o=e[n];return n++,s._dbInfo=null,s._ready=null,s.getDriver(o).then(function(e){return s._extend(e),i(),s._ready=s._initStorage(s._config),s._ready}).catch(t)}i();var r=new Error("No available storage method found.");return s._driverSet=oe.reject(r),s._driverSet}var n=0;return t()}}var s=this;Pe(e)||(e=[e]);var a=this._getSupportedDrivers(e),l=null!==this._driverSet?this._driverSet.catch(function(){return oe.resolve()}):oe.resolve();return this._driverSet=l.then(function(){var e=a[0];return s._dbInfo=null,s._ready=null,s.getDriver(e).then(function(e){s._driver=e._driver,i(),s._wrapLibraryMethodsWithReady(),s._initDriver=o(a)})}).catch(function(){i();var e=new Error("No available storage method found.");return s._driverSet=oe.reject(e),s._driverSet}),r(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Oe[e]},e.prototype._extend=function(e){X(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<Ne.length;e++)J(this,Ne[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),Ye=new He;t.exports=Ye},{3:3}]},{},[4])(4)}),function(){"use strict";var e=!1;if("undefined"!=typeof process&&!process.browser){e=!0;var t=require("request".trim())}var n=!1,i=!1;try{void 0!==(new XMLHttpRequest).withCredentials?n=!0:"XDomainRequest"in window&&(n=!0,i=!0)}catch(e){}var o=Array.prototype.indexOf,s=function(e,t){var n=0,i=e.length;if(o&&e.indexOf===o)return e.indexOf(t);for(;n<i;n++)if(e[n]===t)return n;return-1},r=function(t){return this&&this instanceof r?("string"==typeof t&&(t={key:t}),this.callback=t.callback,this.wanted=t.wanted||[],this.key=t.key,this.simpleSheet=!!t.simpleSheet,this.parseNumbers=!!t.parseNumbers,this.wait=!!t.wait,this.reverse=!!t.reverse,this.postProcess=t.postProcess,this.debug=!!t.debug,this.query=t.query||"",this.orderby=t.orderby,this.endpoint=t.endpoint||"https://spreadsheets.google.com",this.singleton=!!t.singleton,this.simpleUrl=!(!t.simpleUrl&&!t.simple_url),this.callbackContext=t.callbackContext,this.prettyColumnNames=void 0===t.prettyColumnNames?!t.proxy:t.prettyColumnNames,void 0!==t.proxy&&(this.endpoint=t.proxy.replace(/\/$/,""),this.simpleUrl=!0,this.singleton=!0,n=!1),this.parameterize=t.parameterize||!1,this.singleton&&(void 0!==r.singleton&&this.log("WARNING! Tabletop singleton already defined"),r.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)(&|#|$)")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),/spreadsheets\/d/.test(this.key)&&(this.log("You passed the most recent version of Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)/")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.modelNames=[],this.model_names=this.modelNames,this.baseJsonPath="/feeds/worksheets/"+this.key+"/public/basic?alt=",this.baseJsonPath+=e||n?"json":"json-in-script",void(this.wait||this.fetch())):void this.log("You need to pass Tabletop a key!")):new r(t)};r.callbacks={},r.init=function(e){return new r(e)},r.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},r.prototype={fetch:function(e){void 0!==e&&(this.callback=e),this.requestData(this.baseJsonPath,this.loadSheets)},requestData:function(t,o){if(this.log("Requesting",t),e)this.serverSideFetch(t,o);else{var s=this.endpoint.split("//").shift()||"http";!n||i&&s!==location.protocol?this.injectScript(t,o):this.xhrFetch(t,o)}},xhrFetch:function(e,t){var n=i?new XDomainRequest:new XMLHttpRequest;n.open("GET",this.endpoint+e);var o=this;n.onload=function(){var e;try{e=JSON.parse(n.responseText)}catch(e){console.error(e)}t.call(o,e)},n.send()},injectScript:function(e,t){var n,i=document.createElement("script");if(this.singleton)t===this.loadSheets?n="Tabletop.singleton.loadSheets":t===this.loadSheet&&(n="Tabletop.singleton.loadSheet");else{var o=this;n="tt"+ +new Date+Math.floor(1e5*Math.random()),r.callbacks[n]=function(){var e=Array.prototype.slice.call(arguments,0);t.apply(o,e),i.parentNode.removeChild(i),delete r.callbacks[n]},n="Tabletop.callbacks."+n}var s=e+"&callback="+n;this.simpleUrl?-1!==e.indexOf("/list/")?i.src=this.endpoint+"/"+this.key+"-"+e.split("/")[4]:i.src=this.endpoint+"/"+this.key:i.src=this.endpoint+s,this.parameterize&&(i.src=this.parameterize+encodeURIComponent(i.src)),this.log("Injecting",i.src),document.getElementsByTagName("script")[0].parentNode.appendChild(i)},serverSideFetch:function(e,n){var i=this;this.log("Fetching",this.endpoint+e),t({url:this.endpoint+e,json:!0},function(e,t,o){if(e)return console.error(e);n.call(i,o)})},isWanted:function(e){return 0===this.wanted.length||-1!==s(this.wanted,e)},data:function(){if(0!==this.modelNames.length)return this.simpleSheet?(this.modelNames.length>1&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.modelNames[0]].all()):this.models},addWanted:function(e){-1===s(this.wanted,e)&&this.wanted.push(e)},loadSheets:function(t){var i,o,s=[];for(this.googleSheetName=t.feed.title.$t,this.foundSheetNames=[],i=0,o=t.feed.entry.length;i<o;i++)if(this.foundSheetNames.push(t.feed.entry[i].title.$t),this.isWanted(t.feed.entry[i].content.$t)){var r=t.feed.entry[i].link.length-1,a=t.feed.entry[i].link[r].href.split("/").pop(),l="/feeds/list/"+this.key+"/"+a+"/public/values?alt=";l+=e||n?"json":"json-in-script",this.query&&(l+="&tq="+this.query),this.orderby&&(l+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(l+="&reverse=true"),s.push(l)}for(this.sheetsToLoad=s.length,i=0,o=s.length;i<o;i++)this.requestData(s[i],this.loadSheet)},sheets:function(e){return void 0===e?this.models:void 0===this.models[e]?void 0:this.models[e]},sheetReady:function(e){this.models[e.name]=e,-1===s(this.modelNames,e.name)&&this.modelNames.push(e.name),0===--this.sheetsToLoad&&this.doCallback()},loadSheet:function(e){var t=this;new r.Model({data:e,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this,prettyColumnNames:this.prettyColumnNames,onReady:function(){t.sheetReady(this)}})},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&&"undefined"!=typeof console&&void 0!==console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},r.Model=function(e){var t,n,i,o;if(this.columnNames=[],this.column_names=this.columnNames,this.name=e.data.feed.title.$t,this.tabletop=e.tabletop,this.elements=[],this.onReady=e.onReady,this.raw=e.data,void 0===e.data.feed.entry)return e.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),this.originalColumns=[],this.elements=[],void this.onReady.call(this);for(var s in e.data.feed.entry[0])/^gsx/.test(s)&&this.columnNames.push(s.replace("gsx$",""));for(this.originalColumns=this.columnNames,this.original_columns=this.originalColumns,t=0,i=e.data.feed.entry.length;t<i;t++){var r=e.data.feed.entry[t],a={};for(n=0,o=this.columnNames.length;n<o;n++){var l=r["gsx$"+this.columnNames[n]];void 0!==l?e.parseNumbers&&""!==l.$t&&!isNaN(l.$t)?a[this.columnNames[n]]=+l.$t:a[this.columnNames[n]]=l.$t:a[this.columnNames[n]]=""}void 0===a.rowNumber&&(a.rowNumber=t+1),e.postProcess&&e.postProcess(a),this.elements.push(a)}e.prettyColumnNames?this.fetchPrettyColumns():this.onReady.call(this)},r.Model.prototype={all:function(){return this.elements},fetchPrettyColumns:function(){if(!this.raw.feed.link[3])return this.ready();var e=this.raw.feed.link[3].href.replace("/feeds/list/","/feeds/cells/").replace("https://spreadsheets.google.com",""),t=this;this.tabletop.requestData(e,function(e){t.loadPrettyColumns(e)})},ready:function(){this.onReady.call(this)},loadPrettyColumns:function(e){for(var t={},n=this.columnNames,i=0,o=n.length;i<o;i++)void 0!==e.feed.entry[i].content.$t?t[n[i]]=e.feed.entry[i].content.$t:t[n[i]]=n[i];this.prettyColumns=t,this.pretty_columns=this.prettyColumns,this.prettifyElements(),this.ready()},prettifyElements:function(){var e,t,n,i,o=[],s=[];for(t=0,
i=this.columnNames.length;t<i;t++)s.push(this.prettyColumns[this.columnNames[t]]);for(e=0,n=this.elements.length;e<n;e++){var r={};for(t=0,i=this.columnNames.length;t<i;t++){r[this.prettyColumns[this.columnNames[t]]]=this.elements[e][this.columnNames[t]]}o.push(r)}this.elements=o,this.columnNames=s},toArray:function(){var e,t,n,i,o=[];for(e=0,n=this.elements.length;e<n;e++){var s=[];for(t=0,i=this.columnNames.length;t<i;t++)s.push(this.elements[e][this.columnNames[t]]);o.push(s)}return o}},"undefined"!=typeof module&&module.exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):window.Tabletop=r}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return yi.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function o(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,i){return vt(e,t,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(e){return null==e._pf&&(e._pf=u()),e._pf}function f(e){if(null==e._isValid){var t=h(e),n=ki.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function m(e){var t=c(NaN);return null!=e?d(h(t),e):h(t).userInvalidated=!0,t}function p(e,t){var n,i,s;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=h(t)),o(t._locale)||(e._locale=t._locale),bi.length>0)for(n=0;n<bi.length;n++)i=bi[n],s=t[i],o(s)||(e[i]=s);return e}function g(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Li&&(Li=!0,e.updateOffset(this),Li=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function k(e,t,n){var i,o=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),r=0;for(i=0;i<o;i++)(n&&e[i]!==t[i]||!n&&_(e[i])!==_(t[i]))&&r++;return r+s}function b(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function L(t,n){var i=!0;return d(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var o,s=[],r=0;r<arguments.length;r++){if(o="","object"==typeof arguments[r]){o+="\n["+r+"] ";for(var a in arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[r];s.push(o)}b(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function w(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),wi[t]||(b(n),wi[t]=!0)}function S(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e){var t,n;for(n in e)t=e[n],S(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(e,t){var i,o=d({},e);for(i in t)l(t,i)&&(n(e[i])&&n(t[i])?(o[i]={},d(o[i],e[i]),d(o[i],t[i])):null!=t[i]?o[i]=t[i]:delete o[i]);for(i in e)l(e,i)&&!l(t,i)&&n(e[i])&&(o[i]=d({},o[i]));return o}function M(e){null!=e&&this.set(e)}function C(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return S(i)?i.call(t,n):i}function E(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function x(){return this._invalidDate}function q(e){return this._ordinal.replace("%d",e)}function N(e,t,n,i){var o=this._relativeTime[n];return S(o)?o(e,t,n,i):o.replace(/%d/i,e)}function I(e,t){var n=this._relativeTime[e>0?"future":"past"];return S(n)?n(t):n.replace(/%s/i,t)}function O(e,t){var n=e.toLowerCase();xi[n]=xi[n+"s"]=xi[t]=e}function P(e){return"string"==typeof e?xi[e]||xi[e.toLowerCase()]:void 0}function H(e){var t,n,i={};for(n in e)l(e,n)&&(t=P(n))&&(i[t]=e[n]);return i}function Y(e,t){qi[e]=t}function A(e){var t=[];for(var n in e)t.push({unit:n,priority:qi[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function R(t,n){return function(i){return null!=i?(j(this,t,i),e.updateOffset(this,n),this):U(this,t)}}function U(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function j(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function W(e){return e=P(e),S(this[e])?this[e]():this}function F(e,t){if("object"==typeof e){e=H(e);for(var n=A(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=P(e),S(this[e]))return this[e](t);return this}function B(e,t,n){var i=""+Math.abs(e),o=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}function V(e,t,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),e&&(Pi[e]=o),t&&(Pi[t[0]]=function(){return B(o.apply(this,arguments),t[1],t[2])}),n&&(Pi[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,i=e.match(Ni);for(t=0,n=i.length;t<n;t++)Pi[i[t]]?i[t]=Pi[i[t]]:i[t]=G(i[t]);return function(t){var o,s="";for(o=0;o<n;o++)s+=S(i[o])?i[o].call(t,e):i[o];return s}}function $(e,t){return e.isValid()?(t=Z(t,e.localeData()),Oi[t]=Oi[t]||z(t),Oi[t](e)):e.localeData().invalidDate()}function Z(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Ii.lastIndex=0;i>=0&&Ii.test(e);)e=e.replace(Ii,n),Ii.lastIndex=0,i-=1;return e}function Q(e,t,n){Ui[e]=S(t)?t:function(e,i){return e&&n?n:t}}function J(e,t){return l(Ui,e)?Ui[e](t._strict,t._locale):new RegExp(X(e))}function X(e){return K(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o}))}function K(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),s(t)&&(i=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)ji[e[n]]=i}function te(e,t){ee(e,function(e,n,i,o){i._w=i._w||{},t(e,i._w,i,o)})}function ne(e,t,n){null!=t&&l(ji,e)&&ji[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Xi).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone}function se(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Xi.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function re(e,t,n){var i,o,s,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?(o=Ji.call(this._shortMonthsParse,r),-1!==o?o:null):(o=Ji.call(this._longMonthsParse,r),-1!==o?o:null):"MMM"===t?-1!==(o=Ji.call(this._shortMonthsParse,r))?o:(o=Ji.call(this._longMonthsParse,r),-1!==o?o:null):-1!==(o=Ji.call(this._longMonthsParse,r))?o:(o=Ji.call(this._shortMonthsParse,r),-1!==o?o:null)}function ae(e,t,n){var i,o,s;if(this._monthsParseExact)return re.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(t=e.localeData().monthsParse(t),!s(t))return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function de(t){return null!=t?(le(this,t),e.updateOffset(this,!0),this):U(this,"Month")}function ce(){return ie(this.year(),this.month())}function ue(e){return this._monthsParseExact?(l(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=to),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function he(e){return this._monthsParseExact?(l(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=no),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,n,i=[],o=[],s=[];for(t=0;t<12;t++)n=c([2e3,t]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(i.sort(e),o.sort(e),s.sort(e),t=0;t<12;t++)i[t]=K(i[t]),o[t]=K(o[t]);for(t=0;t<24;t++)s[t]=K(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function me(e){return pe(e)?366:365}function pe(e){return e%4==0&&e%100!=0||e%400==0}function ge(){return pe(this.year())}function ve(e,t,n,i,o,s,r){var a=new Date(e,t,n,i,o,s,r);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function _e(e,t,n){var i=7+t-n;return-(7+ye(e,0,i).getUTCDay()-t)%7+i-1}function ke(e,t,n,i,o){var s,r,a=(7+n-i)%7,l=_e(e,i,o),d=1+7*(t-1)+a+l;return d<=0?(s=e-1,r=me(s)+d):d>me(e)?(s=e+1,r=d-me(e)):(s=e,r=d),{year:s,dayOfYear:r}}function be(e,t,n){var i,o,s=_e(e.year(),t,n),r=Math.floor((e.dayOfYear()-s-1)/7)+1;return r<1?(o=e.year()-1,i=r+Le(o,t,n)):r>Le(e.year(),t,n)?(i=r-Le(e.year(),t,n),o=e.year()+1):(o=e.year(),i=r),{week:i,year:o}}function Le(e,t,n){var i=_e(e,t,n),o=_e(e+1,t,n);return(me(e)-i+o)/7}function we(e){return be(e,this._week.dow,this._week.doy).week}function Se(){return this._week.dow}function De(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Me(e){var t=be(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ce(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ee(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function xe(e,n){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][e.day()]:t(this._weekdays)?this._weekdays:this._weekdays.standalone}function qe(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ne(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ie(e,t,n){var i,o,s,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?(o=Ji.call(this._weekdaysParse,r),-1!==o?o:null):"ddd"===t?(o=Ji.call(this._shortWeekdaysParse,r),-1!==o?o:null):(o=Ji.call(this._minWeekdaysParse,r),-1!==o?o:null):"dddd"===t?-1!==(o=Ji.call(this._weekdaysParse,r))?o:-1!==(o=Ji.call(this._shortWeekdaysParse,r))?o:(o=Ji.call(this._minWeekdaysParse,r),-1!==o?o:null):"ddd"===t?-1!==(o=Ji.call(this._shortWeekdaysParse,r))?o:-1!==(o=Ji.call(this._weekdaysParse,r))?o:(o=Ji.call(this._minWeekdaysParse,r),-1!==o?o:null):-1!==(o=Ji.call(this._minWeekdaysParse,r))?o:-1!==(o=Ji.call(this._weekdaysParse,r))?o:(o=Ji.call(this._shortWeekdaysParse,r),-1!==o?o:null)}function Oe(e,t,n){var i,o,s;if(this._weekdaysParseExact)return Ie.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Pe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ce(e,this.localeData()),this.add(e-t,"d")):t}function He(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ye(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ee(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ae(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=lo),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Re(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=co),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ue(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=uo),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function je(){function e(e,t){return t.length-e.length}var t,n,i,o,s,r=[],a=[],l=[],d=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),s=this.weekdays(n,""),r.push(i),a.push(o),l.push(s),d.push(i),d.push(o),d.push(s);for(r.sort(e),a.sort(e),l.sort(e),d.sort(e),t=0;t<7;t++)a[t]=K(a[t]),l[t]=K(l[t]),d[t]=K(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function We(){return this.hours()%12||12}function Fe(){return this.hours()||24}function Be(e,t){V(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ve(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function ze(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function $e(e){return e?e.toLowerCase().replace("_","-"):e}function Ze(e){for(var t,n,i,o,s=0;s<e.length;){for(o=$e(e[s]).split("-"),t=o.length,n=$e(e[s+1]),n=n?n.split("-"):null;t>0;){if(i=Qe(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&k(o,n,!0)>=t-1)break;t--}s++}return null}function Qe(e){var t=null;if(!po[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=ho._abbr,require("./locale/"+e),Je(t)}catch(e){}return po[e]}function Je(e,t){var n;return e&&(n=o(t)?et(e):Xe(e,t))&&(ho=n),ho._abbr}function Xe(e,t){if(null!==t){var n=mo;if(t.abbr=e,null!=po[e])w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=po[e]._config;else if(null!=t.parentLocale){if(null==po[t.parentLocale])return go[t.parentLocale]||(go[t.parentLocale]=[]),go[t.parentLocale].push({name:e,config:t}),null;n=po[t.parentLocale]._config}return po[e]=new M(T(n,t)),go[e]&&go[e].forEach(function(e){Xe(e.name,e.config)}),Je(e),po[e]}return delete po[e],null}function Ke(e,t){if(null!=t){var n,i=mo;null!=po[e]&&(i=po[e]._config),t=T(i,t),n=new M(t),n.parentLocale=po[e],po[e]=n,Je(e)}else null!=po[e]&&(null!=po[e].parentLocale?po[e]=po[e].parentLocale:null!=po[e]&&delete po[e]);return po[e]}function et(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ho;if(!t(e)){if(n=Qe(e))return n;e=[e]}return Ze(e)}function tt(){return Ti(po)}function nt(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[Fi]<0||n[Fi]>11?Fi:n[Bi]<1||n[Bi]>ie(n[Wi],n[Fi])?Bi:n[Vi]<0||n[Vi]>24||24===n[Vi]&&(0!==n[Gi]||0!==n[zi]||0!==n[$i])?Vi:n[Gi]<0||n[Gi]>59?Gi:n[zi]<0||n[zi]>59?zi:n[$i]<0||n[$i]>999?$i:-1,h(e)._overflowDayOfYear&&(t<Wi||t>Bi)&&(t=Bi),h(e)._overflowWeeks&&-1===t&&(t=Zi),h(e)._overflowWeekday&&-1===t&&(t=Qi),h(e).overflow=t),e}function it(e){var t,n,i,o,s,r,a=e._i,l=vo.exec(a)||yo.exec(a);if(l){for(h(e).iso=!0,t=0,n=ko.length;t<n;t++)if(ko[t][1].exec(l[1])){o=ko[t][0],i=!1!==ko[t][2];break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,n=bo.length;t<n;t++)if(bo[t][1].exec(l[3])){s=(l[2]||" ")+bo[t][0];break}if(null==s)return void(e._isValid=!1)}if(!i&&null!=s)return void(e._isValid=!1);if(l[4]){if(!_o.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=o+(s||"")+(r||""),ct(e)}else e._isValid=!1}function ot(e){var t,n,i,o,s,r,a,l,d={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},c="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=wo.exec(t)){if(i=n[1]?"ddd"+(5===n[1].length?", ":" "):"",o="D MMM "+(n[2].length>10?"YYYY ":"YY "),s="HH:mm"+(n[4]?":ss":""),n[1]){var u=new Date(n[2]),f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][u.getDay()];if(n[1].substr(0,3)!==f)return h(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===l?a=" +0000":(l=c.indexOf(n[5][1].toUpperCase())-12,a=(l<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:a=d[n[5]];break;default:a=d[" GMT"]}n[5]=a,e._i=n.splice(1).join(""),r=" ZZ",e._f=i+o+s+r,ct(e),h(e).rfc2822=!0}else e._isValid=!1}function st(t){var n=Lo.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));it(t),!1===t._isValid&&(delete t._isValid,ot(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function rt(e,t,n){return null!=e?e:null!=t?t:n}function at(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function lt(e){var t,n,i,o,s=[];if(!e._d){for(i=at(e),e._w&&null==e._a[Bi]&&null==e._a[Fi]&&dt(e),null!=e._dayOfYear&&(o=rt(e._a[Wi],i[Wi]),(e._dayOfYear>me(o)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=ye(o,0,e._dayOfYear),e._a[Fi]=n.getUTCMonth(),e._a[Bi]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Vi]&&0===e._a[Gi]&&0===e._a[zi]&&0===e._a[$i]&&(e._nextDay=!0,e._a[Vi]=0),e._d=(e._useUTC?ye:ve).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Vi]=24)}}function dt(e){var t,n,i,o,s,r,a,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)s=1,r=4,n=rt(t.GG,e._a[Wi],be(yt(),1,4).year),i=rt(t.W,1),((o=rt(t.E,1))<1||o>7)&&(l=!0);else{s=e._locale._week.dow,r=e._locale._week.doy;var d=be(yt(),s,r);n=rt(t.gg,e._a[Wi],d.year),i=rt(t.w,d.week),null!=t.d?((o=t.d)<0||o>6)&&(l=!0):null!=t.e?(o=t.e+s,(t.e<0||t.e>6)&&(l=!0)):o=s}i<1||i>Le(n,s,r)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(a=ke(n,i,o,s,r),e._a[Wi]=a.year,e._dayOfYear=a.dayOfYear)}function ct(t){if(t._f===e.ISO_8601)return void it(t);if(t._f===e.RFC_2822)return void ot(t);t._a=[],h(t).empty=!0;var n,i,o,s,r,a=""+t._i,l=a.length,d=0;for(o=Z(t._f,t._locale).match(Ni)||[],n=0;n<o.length;n++)s=o[n],i=(a.match(J(s,t))||[])[0],i&&(r=a.substr(0,a.indexOf(i)),r.length>0&&h(t).unusedInput.push(r),a=a.slice(a.indexOf(i)+i.length),d+=i.length),Pi[s]?(i?h(t).empty=!1:h(t).unusedTokens.push(s),ne(s,i,t)):t._strict&&!i&&h(t).unusedTokens.push(s);h(t).charsLeftOver=l-d,a.length>0&&h(t).unusedInput.push(a),t._a[Vi]<=12&&!0===h(t).bigHour&&t._a[Vi]>0&&(h(t).bigHour=void 0),h(t).parsedDateParts=t._a.slice(0),h(t).meridiem=t._meridiem,t._a[Vi]=ut(t._locale,t._a[Vi],t._meridiem),lt(t),nt(t)}function ut(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function ht(e){var t,n,i,o,s;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)s=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],ct(t),f(t)&&(s+=h(t).charsLeftOver,s+=10*h(t).unusedTokens.length,h(t).score=s,(null==i||s<i)&&(i=s,n=t));d(e,n||t)}function ft(e){if(!e._d){var t=H(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function mt(e){var t=new g(nt(pt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function pt(e){var n=e._i,i=e._f;return e._locale=e._locale||et(e._l),null===n||void 0===i&&""===n?m({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),v(n)?new g(nt(n)):(r(n)?e._d=n:t(i)?ht(e):i?ct(e):gt(e),f(e)||(e._d=null),e))}function gt(i){var l=i._i;o(l)?i._d=new Date(e.now()):r(l)?i._d=new Date(l.valueOf()):"string"==typeof l?st(i):t(l)?(i._a=a(l.slice(0),function(e){return parseInt(e,10)}),lt(i)):n(l)?ft(i):s(l)?i._d=new Date(l):e.createFromInputFallback(i)}function vt(e,o,s,r,a){var l={};return!0!==s&&!1!==s||(r=s,s=void 0),(n(e)&&i(e)||t(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=s,l._i=e,l._f=o,l._strict=r,mt(l)}function yt(e,t,n,i){return vt(e,t,n,i,!1)}function _t(e,n){var i,o;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return yt();for(i=n[0],o=1;o<n.length;++o)n[o].isValid()&&!n[o][e](i)||(i=n[o]);return i}function kt(){return _t("isBefore",[].slice.call(arguments,0))}function bt(){return _t("isAfter",[].slice.call(arguments,0))}function Lt(e){for(var t in e)if(-1===Mo.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<Mo.length;++i)if(e[Mo[i]]){if(n)return!1;parseFloat(e[Mo[i]])!==_(e[Mo[i]])&&(n=!0)}return!0}function wt(){return this._isValid}function St(){return Ft(NaN)}function Dt(e){var t=H(e),n=t.year||0,i=t.quarter||0,o=t.month||0,s=t.week||0,r=t.day||0,a=t.hour||0,l=t.minute||0,d=t.second||0,c=t.millisecond||0;this._isValid=Lt(t),this._milliseconds=+c+1e3*d+6e4*l+1e3*a*60*60,this._days=+r+7*s,this._months=+o+3*i+12*n,this._data={},this._locale=et(),this._bubble()}function Tt(e){return e instanceof Dt}function Mt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ct(e,t){V(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)})}function Et(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],o=(i+"").match(Co)||["-",0,0],s=60*o[1]+_(o[2]);return 0===s?0:"+"===o[0]?s:-s}function xt(t,n){var i,o;return n._isUTC?(i=n.clone(),o=(v(t)||r(t)?t.valueOf():yt(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),e.updateOffset(i,!1),i):yt(t).local()}function qt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Nt(t,n,i){var o,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Et(Ai,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&n&&(o=qt(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),s!==t&&(!n||this._changeInProgress?$t(this,Ft(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:qt(this)}function It(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ot(e){return this.utcOffset(0,e)}function Pt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(qt(this),"m")),this}function Ht(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Et(Yi,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Yt(e){return!!this.isValid()&&(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function At(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Rt(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(p(e,this),e=pt(e),e._a){var t=e._isUTC?c(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&k(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ut(){return!!this.isValid()&&!this._isUTC}function jt(){return!!this.isValid()&&this._isUTC}function Wt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ft(e,t){var n,i,o,r=e,a=null;return Tt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(r={},t?r[t]=e:r.milliseconds=e):(a=Eo.exec(e))?(n="-"===a[1]?-1:1,r={y:0,d:_(a[Bi])*n,h:_(a[Vi])*n,m:_(a[Gi])*n,s:_(a[zi])*n,ms:_(Mt(1e3*a[$i]))*n}):(a=xo.exec(e))?(n="-"===a[1]?-1:1,r={y:Bt(a[2],n),M:Bt(a[3],n),w:Bt(a[4],n),d:Bt(a[5],n),h:Bt(a[6],n),m:Bt(a[7],n),s:Bt(a[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=Gt(yt(r.from),yt(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),i=new Dt(r),Tt(e)&&l(e,"_locale")&&(i._locale=e._locale),i}function Bt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Vt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Gt(e,t){var n;return e.isValid()&&t.isValid()?(t=xt(t,e),e.isBefore(t)?n=Vt(e,t):(n=Vt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function zt(e,t){return function(n,i){var o,s;return null===i||isNaN(+i)||(w(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=i,i=s),n="string"==typeof n?+n:n,o=Ft(n,i),$t(this,o,e),this}}function $t(t,n,i,o){var s=n._milliseconds,r=Mt(n._days),a=Mt(n._months);t.isValid()&&(o=null==o||o,s&&t._d.setTime(t._d.valueOf()+s*i),r&&j(t,"Date",U(t,"Date")+r*i),a&&le(t,U(t,"Month")+a*i),o&&e.updateOffset(t,r||a))}function Zt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Qt(t,n){var i=t||yt(),o=xt(i,this).startOf("day"),s=e.calendarFormat(this,o)||"sameElse",r=n&&(S(n[s])?n[s].call(this,i):n[s]);return this.format(r||this.localeData().calendar(s,this,yt(i)))}function Jt(){return new g(this)}function Xt(e,t){var n=v(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=P(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Kt(e,t){var n=v(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=P(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function en(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function tn(e,t){var n,i=v(e)?e:yt(e);return!(!this.isValid()||!i.isValid())&&(t=P(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function nn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function on(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function sn(e,t,n){var i,o,s,r;return this.isValid()?(i=xt(e,this),i.isValid()?(o=6e4*(i.utcOffset()-this.utcOffset()),t=P(t),"year"===t||"month"===t||"quarter"===t?(r=rn(this,i),"quarter"===t?r/=3:"year"===t&&(r/=12)):(s=this-i,r="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-o)/864e5:"week"===t?(s-o)/6048e5:s),n?r:y(r)):NaN):NaN}function rn(e,t){var n,i,o=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(o,"months");return t-s<0?(n=e.clone().add(o-1,"months"),i=(t-s)/(s-n)):(n=e.clone().add(o+1,"months"),i=(t-s)/(n-s)),-(o+i)||0}function an(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ln(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?$(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):S(Date.prototype.toISOString)?this.toDate().toISOString():$(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function dn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+o)}function cn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=$(this,t);return this.localeData().postformat(n)}function un(e,t){return this.isValid()&&(v(e)&&e.isValid()||yt(e).isValid())?Ft({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hn(e){return this.from(yt(),e)}function fn(e,t){return this.isValid()&&(v(e)&&e.isValid()||yt(e).isValid())?Ft({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.to(yt(),e)}function pn(e){var t;return void 0===e?this._locale._abbr:(t=et(e),null!=t&&(this._locale=t),this)}function gn(){return this._locale}function vn(e){switch(e=P(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function yn(e){return void 0===(e=P(e))||"millisecond"===e?this:("date"===e&&(e="day"),
this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function _n(){return this._d.valueOf()-6e4*(this._offset||0)}function kn(){return Math.floor(this.valueOf()/1e3)}function bn(){return new Date(this.valueOf())}function Ln(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Sn(){return this.isValid()?this.toISOString():null}function Dn(){return f(this)}function Tn(){return d({},h(this))}function Mn(){return h(this).overflow}function Cn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function En(e,t){V(0,[e,e.length],0,t)}function xn(e){return On.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function qn(e){return On.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Nn(){return Le(this.year(),1,4)}function In(){var e=this.localeData()._week;return Le(this.year(),e.dow,e.doy)}function On(e,t,n,i,o){var s;return null==e?be(this,i,o).year:(s=Le(e,i,o),t>s&&(t=s),Pn.call(this,e,t,n,i,o))}function Pn(e,t,n,i,o){var s=ke(e,t,n,i,o),r=ye(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Hn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Yn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function An(e,t){t[$i]=_(1e3*("0."+e))}function Rn(){return this._isUTC?"UTC":""}function Un(){return this._isUTC?"Coordinated Universal Time":""}function jn(e){return yt(1e3*e)}function Wn(){return yt.apply(null,arguments).parseZone()}function Fn(e){return e}function Bn(e,t,n,i){var o=et(),s=c().set(i,t);return o[n](s,e)}function Vn(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return Bn(e,t,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Bn(e,i,n,"month");return o}function Gn(e,t,n,i){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var o=et(),r=e?o._week.dow:0;if(null!=n)return Bn(t,(n+r)%7,i,"day");var a,l=[];for(a=0;a<7;a++)l[a]=Bn(t,(a+r)%7,i,"day");return l}function zn(e,t){return Vn(e,t,"months")}function $n(e,t){return Vn(e,t,"monthsShort")}function Zn(e,t,n){return Gn(e,t,n,"weekdays")}function Qn(e,t,n){return Gn(e,t,n,"weekdaysShort")}function Jn(e,t,n){return Gn(e,t,n,"weekdaysMin")}function Xn(){var e=this._data;return this._milliseconds=jo(this._milliseconds),this._days=jo(this._days),this._months=jo(this._months),e.milliseconds=jo(e.milliseconds),e.seconds=jo(e.seconds),e.minutes=jo(e.minutes),e.hours=jo(e.hours),e.months=jo(e.months),e.years=jo(e.years),this}function Kn(e,t,n,i){var o=Ft(t,n);return e._milliseconds+=i*o._milliseconds,e._days+=i*o._days,e._months+=i*o._months,e._bubble()}function ei(e,t){return Kn(this,e,t,1)}function ti(e,t){return Kn(this,e,t,-1)}function ni(e){return e<0?Math.floor(e):Math.ceil(e)}function ii(){var e,t,n,i,o,s=this._milliseconds,r=this._days,a=this._months,l=this._data;return s>=0&&r>=0&&a>=0||s<=0&&r<=0&&a<=0||(s+=864e5*ni(si(a)+r),r=0,a=0),l.milliseconds=s%1e3,e=y(s/1e3),l.seconds=e%60,t=y(e/60),l.minutes=t%60,n=y(t/60),l.hours=n%24,r+=y(n/24),o=y(oi(r)),a+=o,r-=ni(si(o)),i=y(a/12),a%=12,l.days=r,l.months=a,l.years=i,this}function oi(e){return 4800*e/146097}function si(e){return 146097*e/4800}function ri(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=P(e))||"year"===e)return t=this._days+i/864e5,n=this._months+oi(t),"month"===e?n:n/12;switch(t=this._days+Math.round(si(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function ai(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN}function li(e){return function(){return this.as(e)}}function di(e){return e=P(e),this.isValid()?this[e+"s"]():NaN}function ci(e){return function(){return this.isValid()?this._data[e]:NaN}}function ui(){return y(this.days()/7)}function hi(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}function fi(e,t,n){var i=Ft(e).abs(),o=is(i.as("s")),s=is(i.as("m")),r=is(i.as("h")),a=is(i.as("d")),l=is(i.as("M")),d=is(i.as("y")),c=o<=os.ss&&["s",o]||o<os.s&&["ss",o]||s<=1&&["m"]||s<os.m&&["mm",s]||r<=1&&["h"]||r<os.h&&["hh",r]||a<=1&&["d"]||a<os.d&&["dd",a]||l<=1&&["M"]||l<os.M&&["MM",l]||d<=1&&["y"]||["yy",d];return c[2]=t,c[3]=+e>0,c[4]=n,hi.apply(null,c)}function mi(e){return void 0===e?is:"function"==typeof e&&(is=e,!0)}function pi(e,t){return void 0!==os[e]&&(void 0===t?os[e]:(os[e]=t,"s"===e&&(os.ss=t-1),!0))}function gi(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=fi(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function vi(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i=ss(this._milliseconds)/1e3,o=ss(this._days),s=ss(this._months);e=y(i/60),t=y(e/60),i%=60,e%=60,n=y(s/12),s%=12;var r=n,a=s,l=o,d=t,c=e,u=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(d||c||u?"T":"")+(d?d+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var yi,_i;_i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var ki=_i,bi=e.momentProperties=[],Li=!1,wi={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Si;Si=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Di,Ti=Si,Mi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ci={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ei={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},xi={},qi={},Ni=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ii=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Oi={},Pi={},Hi=/[+-]?\d{6}/,Yi=/Z|[+-]\d\d:?\d\d/gi,Ai=/Z|[+-]\d\d(?::?\d\d)?/gi,Ri=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ui={},ji={},Wi=0,Fi=1,Bi=2,Vi=3,Gi=4,zi=5,$i=6,Zi=7,Qi=8;Di=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var Ji=Di;V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),V("MMMM",0,0,function(e){return this.localeData().months(this,e)}),O("month","M"),Y("month",8),Q("M",/\d\d?/),Q("MM",/\d\d?/,/\d\d/),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Fi]=_(e)-1}),ee(["MMM","MMMM"],function(e,t,n,i){var o=n._locale.monthsParse(e,i,n._strict);null!=o?t[Fi]=o:h(n).invalidMonth=e});var Xi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ki="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),eo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),to=Ri,no=Ri;V("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),O("year","y"),Y("year",1),Q("Y",/[+-]?\d+/),Q("YY",/\d\d?/,/\d\d/),Q("YYYY",/\d{1,4}/,/\d{4}/),Q("YYYYY",/[+-]?\d{1,6}/,Hi),Q("YYYYYY",/[+-]?\d{1,6}/,Hi),ee(["YYYYY","YYYYYY"],Wi),ee("YYYY",function(t,n){n[Wi]=2===t.length?e.parseTwoDigitYear(t):_(t)}),ee("YY",function(t,n){n[Wi]=e.parseTwoDigitYear(t)}),ee("Y",function(e,t){t[Wi]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var io=R("FullYear",!0);V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),Y("week",5),Y("isoWeek",5),Q("w",/\d\d?/),Q("ww",/\d\d?/,/\d\d/),Q("W",/\d\d?/),Q("WW",/\d\d?/,/\d\d/),te(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=_(e)});var oo={dow:0,doy:6};V("d",0,"do","day"),V("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),V("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),V("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),Y("day",11),Y("weekday",11),Y("isoWeekday",11),Q("d",/\d\d?/),Q("e",/\d\d?/),Q("E",/\d\d?/),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,n,i){var o=n._locale.weekdaysParse(e,i,n._strict);null!=o?t.d=o:h(n).invalidWeekday=e}),te(["d","e","E"],function(e,t,n,i){t[i]=_(e)});var so="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ro="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ao="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),lo=Ri,co=Ri,uo=Ri;V("H",["HH",2],0,"hour"),V("h",["hh",2],0,We),V("k",["kk",2],0,Fe),V("hmm",0,0,function(){return""+We.apply(this)+B(this.minutes(),2)}),V("hmmss",0,0,function(){return""+We.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),Be("a",!0),Be("A",!1),O("hour","h"),Y("hour",13),Q("a",Ve),Q("A",Ve),Q("H",/\d\d?/),Q("h",/\d\d?/),Q("k",/\d\d?/),Q("HH",/\d\d?/,/\d\d/),Q("hh",/\d\d?/,/\d\d/),Q("kk",/\d\d?/,/\d\d/),Q("hmm",/\d\d\d\d?/),Q("hmmss",/\d\d\d\d\d\d?/),Q("Hmm",/\d\d\d\d?/),Q("Hmmss",/\d\d\d\d\d\d?/),ee(["H","HH"],Vi),ee(["k","kk"],function(e,t,n){var i=_(e);t[Vi]=24===i?0:i}),ee(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ee(["h","hh"],function(e,t,n){t[Vi]=_(e),h(n).bigHour=!0}),ee("hmm",function(e,t,n){var i=e.length-2;t[Vi]=_(e.substr(0,i)),t[Gi]=_(e.substr(i)),h(n).bigHour=!0}),ee("hmmss",function(e,t,n){var i=e.length-4,o=e.length-2;t[Vi]=_(e.substr(0,i)),t[Gi]=_(e.substr(i,2)),t[zi]=_(e.substr(o)),h(n).bigHour=!0}),ee("Hmm",function(e,t,n){var i=e.length-2;t[Vi]=_(e.substr(0,i)),t[Gi]=_(e.substr(i))}),ee("Hmmss",function(e,t,n){var i=e.length-4,o=e.length-2;t[Vi]=_(e.substr(0,i)),t[Gi]=_(e.substr(i,2)),t[zi]=_(e.substr(o))});var ho,fo=R("Hours",!0),mo={calendar:Mi,longDateFormat:Ci,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:Ei,months:Ki,monthsShort:eo,week:oo,weekdays:so,weekdaysMin:ao,weekdaysShort:ro,meridiemParse:/[ap]\.?m?\.?/i},po={},go={},vo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_o=/Z|[+-]\d\d(?::?\d\d)?/,ko=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],bo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Lo=/^\/?Date\((\-?\d+)/i,wo=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=L("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var So=L("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Do=L("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),To=function(){return Date.now?Date.now():+new Date},Mo=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ct("Z",":"),Ct("ZZ",""),Q("Z",Ai),Q("ZZ",Ai),ee(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Et(Ai,e)});var Co=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Eo=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,xo=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ft.fn=Dt.prototype,Ft.invalid=St;var qo=zt(1,"add"),No=zt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Io=L("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),En("gggg","weekYear"),En("ggggg","weekYear"),En("GGGG","isoWeekYear"),En("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),Y("weekYear",1),Y("isoWeekYear",1),Q("G",/[+-]?\d+/),Q("g",/[+-]?\d+/),Q("GG",/\d\d?/,/\d\d/),Q("gg",/\d\d?/,/\d\d/),Q("GGGG",/\d{1,4}/,/\d{4}/),Q("gggg",/\d{1,4}/,/\d{4}/),Q("GGGGG",/[+-]?\d{1,6}/,Hi),Q("ggggg",/[+-]?\d{1,6}/,Hi),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=_(e)}),te(["gg","GG"],function(t,n,i,o){n[o]=e.parseTwoDigitYear(t)}),V("Q",0,"Qo","quarter"),O("quarter","Q"),Y("quarter",7),Q("Q",/\d/),ee("Q",function(e,t){t[Fi]=3*(_(e)-1)}),V("D",["DD",2],"Do","date"),O("date","D"),Y("date",9),Q("D",/\d\d?/),Q("DD",/\d\d?/,/\d\d/),Q("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ee(["D","DD"],Bi),ee("Do",function(e,t){t[Bi]=_(e.match(/\d\d?/)[0],10)});var Oo=R("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),Y("dayOfYear",4),Q("DDD",/\d{1,3}/),Q("DDDD",/\d{3}/),ee(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),V("m",["mm",2],0,"minute"),O("minute","m"),Y("minute",14),Q("m",/\d\d?/),Q("mm",/\d\d?/,/\d\d/),ee(["m","mm"],Gi);var Po=R("Minutes",!1);V("s",["ss",2],0,"second"),O("second","s"),Y("second",15),Q("s",/\d\d?/),Q("ss",/\d\d?/,/\d\d/),ee(["s","ss"],zi);var Ho=R("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),Y("millisecond",16),Q("S",/\d{1,3}/,/\d/),Q("SS",/\d{1,3}/,/\d\d/),Q("SSS",/\d{1,3}/,/\d{3}/);var Yo;for(Yo="SSSS";Yo.length<=9;Yo+="S")Q(Yo,/\d+/);for(Yo="S";Yo.length<=9;Yo+="S")ee(Yo,An);var Ao=R("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var Ro=g.prototype;Ro.add=qo,Ro.calendar=Qt,Ro.clone=Jt,Ro.diff=sn,Ro.endOf=yn,Ro.format=cn,Ro.from=un,Ro.fromNow=hn,Ro.to=fn,Ro.toNow=mn,Ro.get=W,Ro.invalidAt=Mn,Ro.isAfter=Xt,Ro.isBefore=Kt,Ro.isBetween=en,Ro.isSame=tn,Ro.isSameOrAfter=nn,Ro.isSameOrBefore=on,Ro.isValid=Dn,Ro.lang=Io,Ro.locale=pn,Ro.localeData=gn,Ro.max=Do,Ro.min=So,Ro.parsingFlags=Tn,Ro.set=F,Ro.startOf=vn,Ro.subtract=No,Ro.toArray=Ln,Ro.toObject=wn,Ro.toDate=bn,Ro.toISOString=ln,Ro.inspect=dn,Ro.toJSON=Sn,Ro.toString=an,Ro.unix=kn,Ro.valueOf=_n,Ro.creationData=Cn,Ro.year=io,Ro.isLeapYear=ge,Ro.weekYear=xn,Ro.isoWeekYear=qn,Ro.quarter=Ro.quarters=Hn,Ro.month=de,Ro.daysInMonth=ce,Ro.week=Ro.weeks=Te,Ro.isoWeek=Ro.isoWeeks=Me,Ro.weeksInYear=In,Ro.isoWeeksInYear=Nn,Ro.date=Oo,Ro.day=Ro.days=Pe,Ro.weekday=He,Ro.isoWeekday=Ye,Ro.dayOfYear=Yn,Ro.hour=Ro.hours=fo,Ro.minute=Ro.minutes=Po,Ro.second=Ro.seconds=Ho,Ro.millisecond=Ro.milliseconds=Ao,Ro.utcOffset=Nt,Ro.utc=Ot,Ro.local=Pt,Ro.parseZone=Ht,Ro.hasAlignedHourOffset=Yt,Ro.isDST=At,Ro.isLocal=Ut,Ro.isUtcOffset=jt,Ro.isUtc=Wt,Ro.isUTC=Wt,Ro.zoneAbbr=Rn,Ro.zoneName=Un,Ro.dates=L("dates accessor is deprecated. Use date instead.",Oo),Ro.months=L("months accessor is deprecated. Use month instead",de),Ro.years=L("years accessor is deprecated. Use year instead",io),Ro.zone=L("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",It),Ro.isDSTShifted=L("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Rt);var Uo=M.prototype;Uo.calendar=C,Uo.longDateFormat=E,Uo.invalidDate=x,Uo.ordinal=q,Uo.preparse=Fn,Uo.postformat=Fn,Uo.relativeTime=N,Uo.pastFuture=I,Uo.set=D,Uo.months=oe,Uo.monthsShort=se,Uo.monthsParse=ae,Uo.monthsRegex=he,Uo.monthsShortRegex=ue,Uo.week=we,Uo.firstDayOfYear=De,Uo.firstDayOfWeek=Se,Uo.weekdays=xe,Uo.weekdaysMin=Ne,Uo.weekdaysShort=qe,Uo.weekdaysParse=Oe,Uo.weekdaysRegex=Ae,Uo.weekdaysShortRegex=Re,Uo.weekdaysMinRegex=Ue,Uo.isPM=Ge,Uo.meridiem=ze,Je("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=L("moment.lang is deprecated. Use moment.locale instead.",Je),e.langData=L("moment.langData is deprecated. Use moment.localeData instead.",et);var jo=Math.abs,Wo=li("ms"),Fo=li("s"),Bo=li("m"),Vo=li("h"),Go=li("d"),zo=li("w"),$o=li("M"),Zo=li("y"),Qo=ci("milliseconds"),Jo=ci("seconds"),Xo=ci("minutes"),Ko=ci("hours"),es=ci("days"),ts=ci("months"),ns=ci("years"),is=Math.round,os={ss:44,s:45,m:45,h:22,d:26,M:11},ss=Math.abs,rs=Dt.prototype;return rs.isValid=wt,rs.abs=Xn,rs.add=ei,rs.subtract=ti,rs.as=ri,rs.asMilliseconds=Wo,rs.asSeconds=Fo,rs.asMinutes=Bo,rs.asHours=Vo,rs.asDays=Go,rs.asWeeks=zo,rs.asMonths=$o,rs.asYears=Zo,rs.valueOf=ai,rs._bubble=ii,rs.get=di,rs.milliseconds=Qo,rs.seconds=Jo,rs.minutes=Xo,rs.hours=Ko,rs.days=es,rs.weeks=ui,rs.months=ts,rs.years=ns,rs.humanize=gi,rs.toISOString=vi,rs.toString=vi,rs.toJSON=vi,rs.locale=pn,rs.localeData=gn,rs.toIsoString=L("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vi),rs.lang=Io,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Q("x",/[+-]?\d+/),Q("X",/[+-]?\d+(\.\d{1,3})?/),ee("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,n){n._d=new Date(_(e))}),e.version="2.18.1",function(e){yi=e}(yt),e.fn=Ro,e.min=kt,e.max=bt,e.now=To,e.utc=c,e.unix=jn,e.months=zn,e.isDate=r,e.locale=Je,e.invalid=m,e.duration=Ft,e.isMoment=v,e.weekdays=Zn,e.parseZone=Wn,e.localeData=et,e.isDuration=Tt,e.monthsShort=$n,e.weekdaysMin=Jn,e.defineLocale=Xe,e.updateLocale=Ke,e.locales=tt,e.weekdaysShort=Qn,e.normalizeUnits=P,e.relativeTimeRounding=mi,e.relativeTimeThreshold=pi,e.calendarFormat=Zt,e.prototype=Ro,e}),/*!
 * getSize v2.0.2
 * measure size of elements
 * MIT license
 */
function(e,t){"use strict";"function"==typeof define&&define.amd?define(function(){return t()}):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}function t(){}function n(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<d;t++){e[l[t]]=0}return e}function i(e){var t=getComputedStyle(e);return t||a("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t}function o(){if(!c){c=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(t);var o=i(t);s.isBoxSizeOuter=r=200==e(o.width),n.removeChild(t)}}function s(t){if(o(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var s=i(t);if("none"==s.display)return n();var a={};a.width=t.offsetWidth,a.height=t.offsetHeight;for(var c=a.isBorderBox="border-box"==s.boxSizing,u=0;u<d;u++){var h=l[u],f=s[h],m=parseFloat(f);a[h]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,v=a.marginLeft+a.marginRight,y=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,k=a.borderTopWidth+a.borderBottomWidth,b=c&&r,L=e(s.width);!1!==L&&(a.width=L+(b?0:p+_));var w=e(s.height);return!1!==w&&(a.height=w+(b?0:g+k)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(g+k),a.outerWidth=a.width+v,a.outerHeight=a.height+y,a}}var r,a="undefined"==typeof console?t:function(e){console.error(e)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],d=l.length,c=!1;return s}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=0,o=n[i];t=t||[];for(var s=this._onceEvents&&this._onceEvents[e];o;){var r=s&&s[o];r&&(this.off(e,o),delete s[o]),o.apply(this,t),i+=r?0:1,o=n[i]}return this}},e}),/*!
 * Unipointer v2.1.0
 * base class for doing one thing with pointer event
 * MIT license
 */
function(e,t){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(n){return t(e,n)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.Unipointer=t(e,e.EvEmitter)}(window,function(e,t){"use strict";function n(){}function i(){}var o=i.prototype=Object.create(t.prototype);o.bindStartEvent=function(e){this._bindStartEvent(e,!0)},o.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},o._bindStartEvent=function(t,n){n=void 0===n||!!n;var i=n?"addEventListener":"removeEventListener";e.navigator.pointerEnabled?t[i]("pointerdown",this):e.navigator.msPointerEnabled?t[i]("MSPointerDown",this):(t[i]("mousedown",this),t[i]("touchstart",this))},o.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier)return n}},o.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},o.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},o.onMSPointerDown=o.onpointerdown=function(e){this._pointerDown(e,e)},o._pointerDown=function(e,t){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},o.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var s={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return o._bindPostStartEvents=function(t){if(t){var n=s[t.type];n.forEach(function(t){e.addEventListener(t,this)},this),this._boundPointerEvents=n}},o._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){e.removeEventListener(t,this)},this),delete this._boundPointerEvents)},o.onmousemove=function(e){this._pointerMove(e,e)},o.onMSPointerMove=o.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},o.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},o._pointerMove=function(e,t){this.pointerMove(e,t)},o.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},o.onmouseup=function(e){this._pointerUp(e,e)},o.onMSPointerUp=o.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},o.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},o._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},o.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},o._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},o.pointerDone=n,o.onMSPointerCancel=o.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},o.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},o._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},o.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},i.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},i}),/*!
 * Unidragger v2.1.0
 * Draggable base class
 * MIT license
 */
function(e,t){"function"==typeof define&&define.amd?define(["unipointer/unipointer"],function(n){return t(e,n)}):"object"==typeof module&&module.exports?module.exports=t(e,require("unipointer")):e.Unidragger=t(e,e.Unipointer)}(window,function(e,t){"use strict";function n(){}function i(){}var o=i.prototype=Object.create(t.prototype);o.bindHandles=function(){this._bindHandles(!0)},o.unbindHandles=function(){this._bindHandles(!1)};var s=e.navigator;return o._bindHandles=function(e){e=void 0===e||!!e;var t;t=s.pointerEnabled?function(t){t.style.touchAction=e?"none":""}:s.msPointerEnabled?function(t){t.style.msTouchAction=e?"none":""}:n;for(var i=e?"addEventListener":"removeEventListener",o=0;o<this.handles.length;o++){var r=this.handles[o];this._bindStartEvent(r,e),t(r),r[i]("click",this)}},o.pointerDown=function(e,t){if("INPUT"==e.target.nodeName&&"range"==e.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(e,t);var n=document.activeElement;n&&n.blur&&n.blur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])},o._dragPointerDown=function(e,n){this.pointerDownPoint=t.getPointerPoint(n),this.canPreventDefaultOnPointerDown(e,n)&&e.preventDefault()},o.canPreventDefaultOnPointerDown=function(e){return"SELECT"!=e.target.nodeName},o.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},o._dragPointerMove=function(e,n){var i=t.getPointerPoint(n),o={x:i.x-this.pointerDownPoint.x,y:i.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(o)&&this._dragStart(e,n),o},o.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},o.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},o._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},o._dragStart=function(e,n){this.isDragging=!0,this.dragStartPoint=t.getPointerPoint(n),this.isPreventingClicks=!0,this.dragStart(e,n)},o.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},o._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},o.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},o._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},o.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},o.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},o._staticClick=function(e,t){if(!this.isIgnoringMouseUp||"mouseup"!=e.type){var n=e.target.nodeName;"INPUT"!=n&&"TEXTAREA"!=n||e.target.focus(),this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},o.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},i.getPointerPoint=t.getPointerPoint,i}),/*!
 * Draggabilly v2.1.1
 * Make that shiz draggable
 * http://draggabilly.desandro.com
 * MIT license
 */
function(e,t){"function"==typeof define&&define.amd?define(["get-size/get-size","unidragger/unidragger"],function(n,i){return t(e,n,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("get-size"),require("unidragger")):e.Draggabilly=t(e,e.getSize,e.Unidragger)}(window,function(e,t,n){"use strict";function i(){}function o(e,t){for(var n in t)e[n]=t[n];return e}function s(e){return e instanceof HTMLElement}function r(e,t){this.element="string"==typeof e?l.querySelector(e):e,f&&(this.$element=f(this.element)),this.options=o({},this.constructor.defaults),this.option(t),this._create()}function a(e,t,n){return n=n||"round",t?Math[n](e/t)*t:e}var l=e.document,d=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,c=0;d||(d=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),i=setTimeout(e,n);return c=t+n,i});var u=l.documentElement,h="string"==typeof u.style.transform?"transform":"WebkitTransform",f=e.jQuery,m=r.prototype=Object.create(n.prototype);r.defaults={},m.option=function(e){o(this.options,e)};var p={relative:!0,absolute:!0,fixed:!0};return m._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=o({},this.position);var e=getComputedStyle(this.element);p[e.position]||(this.element.style.position="relative"),this.enable(),this.setHandles()},m.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},m.dispatchEvent=function(t,n,i){var o=[n].concat(i);this.emitEvent(t,o);var s=e.jQuery;if(s&&this.$element)if(n){var r=s.Event(n);r.type=t,this.$element.trigger(r,i)}else this.$element.trigger(t,i)},m._getPosition=function(){var e=getComputedStyle(this.element),t=this._getPositionCoord(e.left,"width"),n=this._getPositionCoord(e.top,"height");this.position.x=isNaN(t)?0:t,this.position.y=isNaN(n)?0:n,this._addTransformPosition(e)},m._getPositionCoord=function(e,n){if(-1!=e.indexOf("%")){var i=t(this.element.parentNode);return i?parseFloat(e)/100*i[n]:0}return parseInt(e,10)},m._addTransformPosition=function(e){var t=e[h];if(0===t.indexOf("matrix")){var n=t.split(","),i=0===t.indexOf("matrix3d")?12:4,o=parseInt(n[i],10),s=parseInt(n[i+1],10);this.position.x+=o,this.position.y+=s}},m.pointerDown=function(e,t){this._dragPointerDown(e,t);var n=l.activeElement;n&&n.blur&&n!=l.body&&n.blur(),this._bindPostStartEvents(e),this.element.classList.add("is-pointer-down"),this.dispatchEvent("pointerDown",e,[t])},m.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,n]),this._dragMove(e,t,n)},m.dragStart=function(e,t){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",e,[t]),this.animate())},m.measureContainment=function(){var e=this.options.containment;if(e){var n=s(e)?e:"string"==typeof e?l.querySelector(e):this.element.parentNode,i=t(this.element),o=t(n),r=this.element.getBoundingClientRect(),a=n.getBoundingClientRect(),d=o.borderLeftWidth+o.borderRightWidth,c=o.borderTopWidth+o.borderBottomWidth,u=this.relativeStartPosition={x:r.left-(a.left+o.borderLeftWidth),y:r.top-(a.top+o.borderTopWidth)};this.containSize={width:o.width-d-u.x-i.width,height:o.height-c-u.y-i.height}}},m.dragMove=function(e,t,n){if(this.isEnabled){var i=n.x,o=n.y,s=this.options.grid,r=s&&s[0],l=s&&s[1];i=a(i,r),o=a(o,l),i=this.containDrag("x",i,r),o=this.containDrag("y",o,l),i="y"==this.options.axis?0:i,o="x"==this.options.axis?0:o,this.position.x=this.startPosition.x+i,this.position.y=this.startPosition.y+o,this.dragPoint.x=i,this.dragPoint.y=o,this.dispatchEvent("dragMove",e,[t,n])}},m.containDrag=function(e,t,n){if(!this.options.containment)return t;var i="x"==e?"width":"height",o=this.relativeStartPosition[e],s=a(-o,n,"ceil"),r=this.containSize[i];return r=a(r,n,"floor"),Math.min(r,Math.max(s,t))},m.pointerUp=function(e,t){this.element.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},m.dragEnd=function(e,t){this.isEnabled&&(h&&(this.element.style[h]="",this.setLeftTop()),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",e,[t]))},m.animate=function(){if(this.isDragging){this.positionDrag();var e=this;d(function(){e.animate()})}},m.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},m.positionDrag=function(){this.element.style[h]="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},m.staticClick=function(e,t){this.dispatchEvent("staticClick",e,[t])},m.enable=function(){this.isEnabled=!0},m.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},m.destroy=function(){this.disable(),this.element.style[h]="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},m._init=i,f&&f.bridget&&f.bridget("draggabilly",r),r});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tinyTermsApp=function(){"use strict";function e(){var e=t(),i=[];i=Array.from(R[R.pickedList].storedData.dateOpened),!0===n(e,i)?!0===R[R.pickedList].ops.addDay?R[R.pickedList].storedData.newDay=!0:R[R.pickedList].storedData.newDay=!1:R[R.pickedList].storedData.newDay=!0}function t(){var e=[],t=(new Date).getDate(),n=(new Date).getMonth();return e.push([t,n]),e}function n(e,t){return JSON.stringify(e)==JSON.stringify(t)}function i(e,t){for(var n=0;n<e.length;n++)!function(n){e[n].addEventListener("click",function(e){e.preventDefault(),t(n)})}(n)}function o(e){var t=Object.keys(e);return t[t.length*Math.random()<<0]}function s(e,t){if(e===t)return!0;if(e.toUpperCase()===t.toUpperCase())return!0;var n=function(e){var t=void 0,n=void 0,i=void 0,o=void 0,s=void 0;for(o=e.toLowerCase(),s=new Array(o.length-1),t=n=0,i=s.length;n<=i;t=n+=1)s[t]=o.slice(t,t+2);return s};return function(e,t){var i=void 0,o=void 0,s=void 0,r=void 0,a=void 0,l=void 0,d=void 0,c=void 0,u=void 0,h=void 0;if(e.length>0&&t.length>0){for(l=n(e),d=n(t),c=l.length+d.length,i=0,o=0,r=l.length;o<r;o++)for(u=l[o],s=0,a=d.length;s<a;s++)h=d[s],u===h&&i++;if(i>0)return 2*i/c}return 0}(e,t)>R[R.pickedList].ops.wordAccuracy&&"mispelled"}function r(e){function t(){localforage.getItem("tinyTerms"+i,function(e,t){if(null!==t)R.pickedList=i,n(R.pickedList);else{T(function(){S("Please connect to the internet to download the list, after it will be available offline.",function(){document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),b()})})},function(){G()}),B=!1}})}function n(e){R.storedName="tinyTerms"+e,localforage.getItem("tinyTerms"+e,function(e,t){R[R.pickedList]=t,R[R.pickedList].ops=U,localforage.getItem("tinyTerms.globalUnlocks",function(e,t){null!==t&&(R.globalUnlocks=t,void 0!==R.globalUnlocks.terms10&&"unlocked"===R.globalUnlocks.terms10.active&&(R[R.pickedList].ops.displayedTerms=10)),void 0!==R[R.pickedList].storedData.listUnlocks&&"unlocked"===R[R.pickedList].storedData.listUnlocks.timerHalf.active&&(R[R.pickedList].ops.counterMins=30),V(Z)})})}var i=void 0;localforage.getItem("tinyTerms.tutComplete",function(e,n){R.tutComplete=n,localforage.getItem("tinyTermsDefault",function(e,n){i=n,null===i?(B=!1,b()):t()})})}var a={fonts:{solid:["icon-puchi-puchi_adapt","icon-puchi-puchi_affect","icon-puchi-puchi_alarm","icon-puchi-puchi_blaze","icon-puchi-puchi_call","icon-puchi-puchi_cry","icon-puchi-puchi_drink","icon-puchi-puchi_eat","icon-puchi-puchi_game","icon-puchi-puchi_judge","icon-puchi-puchi_like","icon-puchi-puchi_listen","icon-puchi-puchi_lock","icon-puchi-puchi_ring","icon-puchi-puchi_select","icon-puchi-puchi_speak","icon-puchi-puchi_think","icon-puchi-puchi_treat"],light:["icon-feather_add","icon-feather_analyze","icon-feather_bloom","icon-feather_brew","icon-feather_climb","icon-feather_copy","icon-feather_crave","icon-feather_encourage","icon-feather_fall","icon-feather_fly","icon-feather_glow","icon-feather_grow","icon-feather_heat","icon-feather_laugh","icon-feather_manufacture","icon-feather_mine","icon-feather_plot","icon-feather_prick"],feather:["icon-lines-and-angles_accommodate","icon-lines-and-angles_adapt","icon-lines-and-angles_add","icon-lines-and-angles_adjust","icon-lines-and-angles_agitate","icon-lines-and-angles_agree","icon-lines-and-angles_aid","icon-lines-and-angles_alarm","icon-lines-and-angles_alert","icon-lines-and-angles_amaze","icon-lines-and-angles_amplify","icon-lines-and-angles_analyze","icon-lines-and-angles_announce","icon-lines-and-angles_arrest","icon-lines-and-angles_ascend","icon-lines-and-angles_ask","icon-lines-and-angles_assist","icon-lines-and-angles_attract","icon-lines-and-angles_augment","icon-lines-and-angles_bake","icon-lines-and-angles_balance","icon-lines-and-angles_battle","icon-lines-and-angles_be","icon-lines-and-angles_believe","icon-lines-and-angles_birth","icon-lines-and-angles_blaze","icon-lines-and-angles_blend","icon-lines-and-angles_bloom","icon-lines-and-angles_blow","icon-lines-and-angles_bookmark","icon-lines-and-angles_bootleg","icon-lines-and-angles_bounce","icon-lines-and-angles_break","icon-lines-and-angles_brew","icon-lines-and-angles_broadcast","icon-lines-and-angles_browse","icon-lines-and-angles_build","icon-lines-and-angles_burn","icon-lines-and-angles_bury","icon-lines-and-angles_buy","icon-lines-and-angles_caffeinate","icon-lines-and-angles_calculate","icon-lines-and-angles_calibrate","icon-lines-and-angles_carry","icon-lines-and-angles_carve","icon-lines-and-angles_cast","icon-lines-and-angles_catch","icon-lines-and-angles_cease","icon-lines-and-angles_celebrate","icon-lines-and-angles_challenge","icon-lines-and-angles_charge","icon-lines-and-angles_charm","icon-lines-and-angles_chart","icon-lines-and-angles_chat","icon-lines-and-angles_choose","icon-lines-and-angles_chop","icon-lines-and-angles_clean","icon-lines-and-angles_cleanse","icon-lines-and-angles_climb","icon-lines-and-angles_drum","icon-lines-and-angles_eat","icon-lines-and-angles_edit","icon-lines-and-angles_enhance","icon-lines-and-angles_enlarge","icon-lines-and-angles_enter","icon-lines-and-angles_equal","icon-lines-and-angles_erase","icon-lines-and-angles_examine","icon-lines-and-angles_experiment","icon-lines-and-angles_explore","icon-lines-and-angles_extrude","icon-lines-and-angles_feed","icon-lines-and-angles_fight","icon-lines-and-angles_fill","icon-lines-and-angles_film","icon-lines-and-angles_filter","icon-lines-and-angles_find","icon-lines-and-angles_finish","icon-lines-and-angles_fix","icon-lines-and-angles_flag","icon-lines-and-angles_float","icon-lines-and-angles_flow","icon-lines-and-angles_fly","icon-lines-and-angles_focus","icon-lines-and-angles_fold","icon-lines-and-angles_forbid","icon-lines-and-angles_forebode","icon-lines-and-angles_fork","icon-lines-and-angles_format","icon-lines-and-angles_game","icon-lines-and-angles_give","icon-lines-and-angles_glance","icon-lines-and-angles_grill","icon-lines-and-angles_grow","icon-lines-and-angles_guide","icon-lines-and-angles_hang","icon-lines-and-angles_harvest","icon-lines-and-angles_haunt","icon-lines-and-angles_heal","icon-lines-and-angles_hear","icon-lines-and-angles_hide","icon-lines-and-angles_hold","icon-lines-and-angles_home","icon-lines-and-angles_identify","icon-lines-and-angles_imagine","icon-lines-and-angles_influence","icon-lines-and-angles_inject","icon-lines-and-angles_invade","icon-lines-and-angles_iron","icon-lines-and-angles_jam","icon-lines-and-angles_join","icon-lines-and-angles_judge","icon-lines-and-angles_keep","icon-lines-and-angles_kick","icon-lines-and-angles_pitch","icon-lines-and-angles_plan","icon-lines-and-angles_plant","icon-lines-and-angles_play","icon-lines-and-angles_push","icon-lines-and-angles_rain","icon-lines-and-angles_read","icon-lines-and-angles_record","icon-lines-and-angles_redo","icon-lines-and-angles_reheat","icon-lines-and-angles_remind","icon-lines-and-angles_repeat","icon-lines-and-angles_report","icon-lines-and-angles_resurrect","icon-lines-and-angles_rewind","icon-lines-and-angles_ride","icon-lines-and-angles_ring","icon-lines-and-angles_rise","icon-lines-and-angles_rock","icon-lines-and-angles_roll","icon-lines-and-angles_rule","icon-lines-and-angles_run","icon-lines-and-angles_save","icon-lines-and-angles_schedule","icon-lines-and-angles_screw","icon-lines-and-angles_scroll","icon-lines-and-angles_search","icon-lines-and-angles_see","icon-lines-and-angles_select","icon-lines-and-angles_sell","icon-lines-and-angles_send","icon-lines-and-angles_sew","icon-lines-and-angles_shade","icon-lines-and-angles_shake","icon-lines-and-angles_share","icon-lines-and-angles_shine","icon-lines-and-angles_shop","icon-lines-and-angles_shower","icon-lines-and-angles_shuffle","icon-lines-and-angles_sing","icon-lines-and-angles_sit","icon-lines-and-angles_skip","icon-lines-and-angles_sleep","icon-lines-and-angles_slice","icon-lines-and-angles_slide","icon-lines-and-angles_smell","icon-lines-and-angles_smuggle","icon-lines-and-angles_snow","icon-lines-and-angles_solve","icon-lines-and-angles_sound","icon-lines-and-angles_sparkle","icon-lines-and-angles_speak","icon-lines-and-angles_spin","icon-lines-and-angles_spy","icon-lines-and-angles_stack","icon-lines-and-angles_stamp","icon-lines-and-angles_steam","icon-lines-and-angles_stomp","icon-lines-and-angles_stop","icon-lines-and-angles_strum","icon-lines-and-angles_study","icon-lines-and-angles_submerge","icon-lines-and-angles_succeed","icon-lines-and-angles_sweep","icon-lines-and-angles_swim","icon-lines-and-angles_sync","icon-lines-and-angles_tag","icon-lines-and-angles_target","icon-lines-and-angles_teach","icon-lines-and-angles_think","icon-lines-and-angles_thunder","icon-lines-and-angles_tie","icon-lines-and-angles_tower","icon-lines-and-angles_transport","icon-lines-and-angles_trash","icon-lines-and-angles_travel","icon-lines-and-angles_trend","icon-lines-and-angles_turn","icon-lines-and-angles_type","icon-lines-and-angles_undo","icon-lines-and-angles_unlock","icon-lines-and-angles_upload","icon-lines-and-angles_use","icon-lines-and-angles_wait","icon-lines-and-angles_wash","icon-lines-and-angles_watch","icon-lines-and-angles_wear","icon-lines-and-angles_weigh","icon-lines-and-angles_win","icon-lines-and-angles_work","icon-lines-and-angles_worship","icon-lines-and-angles_write","icon-lines-and-angles_yell","icon-lines-and-angles_clip","icon-lines-and-angles_close","icon-lines-and-angles_code","icon-lines-and-angles_collect","icon-lines-and-angles_commit","icon-lines-and-angles_connect","icon-lines-and-angles_contact","icon-lines-and-angles_contain","icon-lines-and-angles_control","icon-lines-and-angles_cook","icon-lines-and-angles_cool","icon-lines-and-angles_copy","icon-lines-and-angles_crave","icon-lines-and-angles_create","icon-lines-and-angles_creep","icon-lines-and-angles_crop","icon-lines-and-angles_cry","icon-lines-and-angles_curdle","icon-lines-and-angles_cut","icon-lines-and-angles_dance","icon-lines-and-angles_dazzle","icon-lines-and-angles_decide","icon-lines-and-angles_defend","icon-lines-and-angles_deliver","icon-lines-and-angles_design","icon-lines-and-angles_destroy","icon-lines-and-angles_develop","icon-lines-and-angles_die","icon-lines-and-angles_disappear","icon-lines-and-angles_discard","icon-lines-and-angles_discover","icon-lines-and-angles_disguise","icon-lines-and-angles_divide","icon-lines-and-angles_download","icon-lines-and-angles_draw","icon-lines-and-angles_drill","icon-lines-and-angles_drink","icon-lines-and-angles_drive","icon-lines-and-angles_drop","icon-lines-and-angles_kiss","icon-lines-and-angles_launch","icon-lines-and-angles_lick","icon-lines-and-angles_lift","icon-lines-and-angles_light","icon-lines-and-angles_like","icon-lines-and-angles_link","icon-lines-and-angles_live","icon-lines-and-angles_load","icon-lines-and-angles_locate","icon-lines-and-angles_lock","icon-lines-and-angles_madho","icon-lines-and-angles_manufacture","icon-lines-and-angles_mark","icon-lines-and-angles_measure","icon-lines-and-angles_medicate","icon-lines-and-angles_melt","icon-lines-and-angles_merge","icon-lines-and-angles_mill","icon-lines-and-angles_move","icon-lines-and-angles_multiply","icon-lines-and-angles_mute","icon-lines-and-angles_navigate","icon-lines-and-angles_open","icon-lines-and-angles_pack","icon-lines-and-angles_paint","icon-lines-and-angles_park","icon-lines-and-angles_paste","icon-lines-and-angles_pause","icon-lines-and-angles_pay","icon-lines-and-angles_perform","icon-lines-and-angles_photograph","icon-lines-and-angles_pick","icon-lines-and-angles_pin","icon-lines-and-angles_plot","icon-lines-and-angles_point","icon-lines-and-angles_poison","icon-lines-and-angles_present","icon-lines-and-angles_press","icon-lines-and-angles_primp","icon-lines-and-angles_print","icon-lines-and-angles_pucker"]}},l=function(e){var t="",n=!0,i=!1,o=void 0;try{for(var s,r=e[Symbol.iterator]();!(n=(s=r.next()).done);n=!0){var a=s.value,l=R[R.pickedList].terms[a].term,d=R[R.pickedList].terms[a].definition,c=R[R.pickedList].terms[a].support,u=E(l),h=void 0;R[R.pickedList].storedData.revealGoal=R[R.pickedList].storedData.revealGoal||{},h=void 0===R[R.pickedList].storedData.revealGoal[l]?0:R[R.pickedList].storedData.revealGoal[l]||0,"unlocked"===R.globalUnlocks.bgStars.active&&document.querySelector("body").classList.add("stars"),"unlocked"===R.globalUnlocks.bgLetters.active&&document.querySelector("body").classList.add("letters"),document.querySelector("h1").innerHTML=R.pickedList,document.querySelector(".list-action").innerHTML=R[R.pickedList].action+'<span class="query-holder">'+R[R.pickedList].storedData.dailyQuery+"</span>";for(var f="",m=0;m<50;m++)f+='<div class="particle">&#9733;</div>';t+='<div class="m-term-wrapper '+u+'">\n                <p class="term-holder">'+l+'</p>\n                <div class="theme-holder"><p class="symbol-holder"></p></div>\n                <div class="explosion">\n                    '+f+'\n                </div>\n                <div class="right">\n                    <p class="term-views"><span>Goal:</span> <span class="count">'+h+"</span> / "+R[R.pickedList].ops.revealGoalTarget+'</p>\n                    <div class="goal-indicators">\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                    </div>\n                    <button class="reveal">Reveal</button>\n                </div>\n                <div class="definition-wrapper hidden">\n                    <p class="definition-holder">'+d+'</p>\n                    <div class="helpers">\n                        <a href="#" class="lookup"></a>\n                        <a href="#" class="colour"></a>\n                        <a href="#" class="symbol"></a>\n                    </div>\n                    <div class="support-wrapper">'+c+"</div>\n                </div>\n            </div>"}}catch(e){i=!0,o=e}finally{try{!n&&r.return&&r.return()}finally{if(i)throw o}}document.querySelector(".terms-wrapper").innerHTML=t;for(var g=document.querySelectorAll(".term-holder"),v=0;v<g.length;v++)g[v].style.minHeight="0px",g[v].classList.add("lines-"+M(g[v])),g[v].style.minHeight="101px";var y=!0,_=!1,k=void 0;try{for(var b,L=e[Symbol.iterator]();!(y=(b=L.next()).done);y=!0){var w=b.value,S=R[R.pickedList].terms[w].term,D=E(S);if(R[R.pickedList].storedData.viewedTerms=R[R.pickedList].storedData.viewedTerms||{},void 0!==R[R.pickedList].storedData.viewedTerms[S]&&void 0!==R[R.pickedList].storedData.viewedTerms[S].colour){var T=document.querySelector("."+D),C=R[R.pickedList].storedData.viewedTerms[S].colour;T.querySelector(".theme-holder").style.background=C,"#fff"!==C&&(T.querySelector(".term-holder").style.color="#fff",T.classList.add("bg-active"))}if(void 0!==R[R.pickedList].storedData.viewedTerms[S]&&void 0!==R[R.pickedList].storedData.viewedTerms[S].symbol){var x=document.querySelector("."+D),q=R[R.pickedList].storedData.viewedTerms[S].symbol;x.querySelector(".symbol-holder").classList="symbol-holder",x.querySelector(".symbol-holder").classList.add(q)}}}catch(e){_=!0,k=e}finally{try{!y&&L.return&&L.return()}finally{if(_)throw k}}var N=!0,I=!1,O=void 0;try{for(var P,H=e[Symbol.iterator]();!(N=(P=H.next()).done);N=!0){var Y=P.value;if(void 0!==R[R.pickedList].storedData.revealCountdowns&&void 0!==R[R.pickedList].storedData.revealCountdowns[Y])for(var A=document.querySelectorAll(".reveal"),U=0;U<A.length;U++){var j=A[U].parentNode.parentNode.querySelector(".term-holder").innerHTML;j===Y&&p(A[U])}}}catch(e){I=!0,O=e}finally{try{!N&&H.return&&H.return()}finally{if(I)throw O}}},d=function(){var e=document.querySelector(".hearts"),t="";void 0===R[R.pickedList].storedData.hearts&&(R[R.pickedList].storedData.hearts=R[R.pickedList].ops.points.hearts);for(var n=0;n<R[R.pickedList].storedData.hearts;n++)t+="<p></p>";e.innerHTML=t,localforage.setItem(R.storedName,R[R.pickedList])},c=function(){for(var e=document.querySelectorAll(".m-term-wrapper"),t=0;t<e.length;t++){var n=e[t].querySelector(".count").innerHTML;n=parseInt(n);for(var i=0;i<n;i++)i<3&&e[t].querySelector(".goal-indicators").getElementsByTagName("span")[i].classList.add("filled")}},u=function(){localforage.getItem("tinyTerms.score",function(e,t){null===t?(R.score=0,localforage.setItem("tinyTerms.score",n)):R.score=t;var n=R.score;document.querySelector(".score-holder").innerHTML=n})},h=function(){R[R.pickedList].storedData.learnedTerms=R[R.pickedList].storedData.learnedTerms||{};var e=Object.keys(R[R.pickedList].storedData.learnedTerms).length,t=Object.keys(R[R.pickedList].terms).length;document.querySelector(".m-progress-bar").querySelector(".completed").innerHTML=e,document.querySelector(".m-progress-bar").querySelector(".remaining").innerHTML=" / "+t,document.querySelector(".m-progress-bar").querySelector(".progress-bg").style.width=e/t*100+"%"},f=function(e){function t(){function t(e,t){document.querySelector(".query-form").classList.add("hidden"),c.classList.add("hidden"),"mispelled"===e?(a.innerHTML="Well done but check your spelling ("+t+'), the definition is <strong>"'+u+'"</strong>',a.classList.remove("hidden","wrong"),a.classList.add("right")):(a.innerHTML='Well done, the definition is <strong>"'+u+'"</strong>',a.classList.remove("hidden","wrong"),a.classList.add("right"));var i=R.score;i+=R[R.pickedList].ops.points.correct,l.innerHTML=i,R.score=i,localforage.setItem("tinyTerms.score",i,function(){R[R.pickedList].storedData.correctTerms[n]=u,R[R.pickedList].storedData.queryComplete=!0,delete R[R.pickedList].storedData.dailyQuery,localforage.setItem(R.storedName,R[R.pickedList])})}function i(){var e=document.querySelector(".query-input");e.style.border="1px solid #ccc",e.placeholder=e.value,e.value="",a.innerHTML="Try again.",a.classList.remove("hidden","wrong"),a.classList.add("wrong"),c.removeChild(c.getElementsByTagName("p")[0]),R[R.pickedList].storedData.hearts=R[R.pickedList].storedData.hearts-1,0===R[R.pickedList].storedData.hearts&&(document.querySelector(".query-form").classList.add("hidden"),c.classList.add("hidden"),e.value="",e.placeholder="Enter the definition",a.innerHTML="Sorry, you are out of attempts!",a.classList.remove("hidden","wrong","right"),a.classList.add("lost"),R[R.pickedList].storedData.incorrectTerms[n]=u,R[R.pickedList].storedData.queryComplete=!0,delete R[R.pickedList].storedData.hearts),localforage.setItem(R.storedName,R[R.pickedList])}var o=document.querySelector(".query-wrapper"),r=document.querySelector(".query-submit"),a=document.querySelector(".result-holder"),l=document.querySelector(".score-holder"),c=document.querySelector(".hearts"),u=R[R.pickedList].terms[n].definition;R[R.pickedList].storedData.dailyQuery=n,R[R.pickedList].storedData.queryComplete=!1,localforage.setItem(R.storedName,R[R.pickedList]);var h=E(n);null!==document.querySelector("."+h)&&document.querySelector("."+h).querySelector(".definition-wrapper").classList.add("hidden"),document.querySelector(".query-holder").innerHTML=n,d(),o.classList.remove("hidden"),e&&(o.getElementsByTagName("h2")[0].innerHTML="Bonus Test"),window.addEventListener("keypress",function(e){13===e.keyCode&&r.click()}),r.addEventListener("click",function(e){e.preventDefault();var n=document.querySelector(".query-input").value;n=n.trim(),!0===s(n,u)?t():"mispelled"===s(n,u)?t("mispelled",n):""===n?(document.querySelector(".query-input").style.border="1px solid #ff0000",a.innerHTML="Please enter a definition.",a.classList.remove("hidden")):i()})}var n=void 0,i=0;R[R.pickedList].storedData.queryTerms=R[R.pickedList].storedData.queryTerms||{},R[R.pickedList].storedData.correctTerms=R[R.pickedList].storedData.correctTerms||{},R[R.pickedList].storedData.incorrectTerms=R[R.pickedList].storedData.incorrectTerms||{};for(var r=[];i<Object.keys(R[R.pickedList].storedData.viewedTerms).length;){if(n=void 0===R[R.pickedList].storedData.dailyQuery?o(R[R.pickedList].storedData.viewedTerms):R[R.pickedList].storedData.dailyQuery,!R[R.pickedList].storedData.correctTerms.hasOwnProperty(n))if(void 0!==R[R.pickedList].storedData.dailyReminder){if(!R[R.pickedList].storedData.dailyReminder.hasOwnProperty(n)){t();break}}else if(!R[R.pickedList].storedData.dailyTerms.hasOwnProperty(n)){t();break}if(r.indexOf(n)&&i++,i===Object.keys(R[R.pickedList].storedData.viewedTerms).length){var a=document.querySelector(".query-wrapper");a.querySelector(".list-action").classList.add("hidden"),a.querySelector(".query-form").classList.add("hidden"),a.querySelector(".m-query").innerHTML+="<p>Reveal more terms to get a daily test!</p><br>",a.classList.remove("hidden")}}},m=function(){var e=document.querySelectorAll(".reveal");i(e,function(t){if(e[t].classList.contains("disabled"))return!1;var n=e[t].parentNode.parentNode.querySelector(".explosion");n.classList.add("explode"),setTimeout(function(){return n.classList.remove("explode")},1e3);var i=[e[t].parentNode.parentNode.querySelector(".term-holder").innerHTML],o=e[t].parentNode.querySelector(".count"),s=e[t].parentNode.parentNode.querySelector(".definition-wrapper");e[t].parentNode.parentNode.querySelector(".definition-holder"),parseInt(o.innerHTML);s.classList.remove("hidden"),s.classList.add("slideInUp","animated"),e[t].parentNode.classList.add("rubberBand","animated"),R[R.pickedList].storedData.viewedTerms=R[R.pickedList].storedData.viewedTerms||{},R[R.pickedList].storedData.viewedTerms[i]=R[R.pickedList].storedData.viewedTerms[i]||{},R[R.pickedList].storedData.viewedTerms[i].viewCount=R[R.pickedList].storedData.viewedTerms[i].viewCount||0,R[R.pickedList].storedData.viewedTerms[i].viewCount+=1;var r=void 0;if(void 0===R[R.pickedList].storedData.revealGoal[i]?r=1:(r=R[R.pickedList].storedData.revealGoal[i],r+=1),o.innerHTML=r,c(),r===R[R.pickedList].ops.revealGoalTarget){R[R.pickedList].storedData.learnedTerms=R[R.pickedList].storedData.learnedTerms||{},R[R.pickedList].storedData.learnedTerms[i]=R[R.pickedList].terms[i].definition,Object.keys(R[R.pickedList].storedData.learnedTerms).length===Object.keys(R[R.pickedList].terms).length&&(R[R.pickedList].storedData.gameWon=!0,function(){var e=document.querySelector(".m-modal");e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");e.querySelector(".content").innerHTML+='<header>\n                                <h2 class="">Whoop whoop!!</h2>\n                            </header>\n                            <p>Well done you completed the whole list! You get a bonus 10 points for each term learned.</p>\n                            <p>You can keep learning this list, reset it in the options to start from scratch or move on to\n                            learn something new entirely.</p>\n                            <p><strong>Great job!</strong></p>';var t=Object.keys(R[R.pickedList].terms).length*R[R.pickedList].ops.points.winBonus,n=R.score;n+=t,scoreHolder.innerHTML=n,R.score=n,localforage.setItem("tinyTerms.score",n)}()),h(),!1===R[R.pickedList].storedData.revealGoal.complete&&(R[R.pickedList].storedData.queryComplete=!1,delete R[R.pickedList].storedData.hearts,f(!0)),R[R.pickedList].storedData.revealGoal.complete=!0;var a=R.score;a+=R[R.pickedList].ops.points.dailyBonus,document.querySelector(".score-holder").innerHTML=a,R.score=a,localforage.setItem("tinyTerms.score",a)}R[R.pickedList].storedData.revealGoal[i]=r,localforage.setItem(R.storedName,R[R.pickedList]),p(e[t])})},p=function(e){function t(){var t=(new Date).getTime();e.classList.add("disabled"),e.setAttribute("disabled",!0),r=R[R.pickedList].storedData.revealCountdowns[i].startTime,a=R[R.pickedList].storedData.revealCountdowns[i].timerEnded;var n=Math.floor((t-r)/1e3),l=60*R[R.pickedList].ops.counterMins+o;if(n>=l&&(a=!0,clearInterval(R[R.pickedList].storedData.revealCountdowns[i].timerUpdate),delete R[R.pickedList].storedData.revealCountdowns[i]),!0===a)return localforage.setItem(R.storedName,R[R.pickedList]),!1;s=l-n}function n(){var t=Math.floor(s/60),n=s%60,i="";if(s<=0)return e.innerHTML="Reveal",e.classList.remove("disabled"),e.disabled=!1,!1;n<10&&n>=0&&(i="0"),60===s&&(n="00"),e.innerHTML=t+":"+i+n,s-=1}R[R.pickedList].storedData.revealCountdowns=R[R.pickedList].storedData.revealCountdowns||{};var i=[e.parentNode.parentNode.querySelector(".term-holder").innerHTML],o=(R[R.pickedList].ops.counterMins,R[R.pickedList].ops.counterSecs),s=void 0,r=void 0,a=void 0;void 0===R[R.pickedList].storedData.revealCountdowns[i]?(r=(new Date).getTime(),R[R.pickedList].storedData.revealCountdowns[i]={startTime:r,timerEnded:!1},t()):t(),localforage.setItem(R.storedName,R[R.pickedList]);var l=0;!1===a?R[R.pickedList].storedData.revealCountdowns[i].timerUpdate=setInterval(function(){l+=1,l%5==0&&t(),n()},1e3):(e.innerHTML="Reveal",e.classList.remove("disabled"),e.disabled=!1)},g=function(){var e=document.querySelectorAll(".term-holder");if(i(e,function(t){var n={German:"de-DE",English:"en-GB",Spanish:"es-ES",French:"fr-FR",Italian:"it-IT",Portuguese:"pt-BR"};if("undefined"==typeof TTS){var i=new SpeechSynthesisUtterance(e[t].innerHTML);i.lang=n[R[R.pickedList].speechLang],window.speechSynthesis.speak(i)}else TTS.speak({text:e[t].innerHTML,locale:n[R[R.pickedList].speechLang],rate:1},function(){},function(e){S(e)})}),"None"===R[R.pickedList].speechLang)for(var t=0;t<e.length;t++)e[t].classList.add("no-speak")},v=function(){var e=document.querySelectorAll(".lookup"),t=document.querySelector(".m-modal");i(e,function(n){var i=e[n].parentNode.parentNode.parentNode.querySelector(".term-holder").innerHTML;t.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var o='<header>\n                        <h2 class="dictionary">Further study</h2>\n                    </header>\n                    <h3>Practice writing</h3>\n                    <textarea class="writing-practice" placeholder="Write the definition here, alone or as part of a sentance."></textarea>\n                    <button class="writing-check">Check</button>\n                    <h3 class="dotted">Dictionary definitions</h3>\n                    <p>'+i+':</p>\n                    <ul class="definitions"></ul>\n                    <h3 class="dotted">Wiki info</h3>\n                    <ul class="wiki-link-wrapper"></ul>\n                    <div class="wiki-result"></div>\n                    ';t.querySelector(".content").innerHTML+=o,document.querySelector(".writing-check").addEventListener("click",function(e){e.preventDefault()
;var t=document.querySelector(".writing-practice").value.toUpperCase(),n=R[R.pickedList].terms[i].definition.toUpperCase();t.indexOf(n)>-1?(document.querySelector(".writing-practice").value="",document.querySelector(".writing-practice").placeholder="Well done, that's correct!"):(document.querySelector(".writing-practice").value="",document.querySelector(".writing-practice").placeholder="That's incorrect, try again.")});var s=t.querySelector(".definitions"),r=encodeURI("https://glosbe.com/gapi/translate?from="+R[R.pickedList].dictFrom+"&dest="+R[R.pickedList].dictTo+"&format=json&pretty=true&phrase="+i.toLowerCase());N(r).then(function(e){var t="";try{!function(){!function e(n,i,o){var s=void 0,r=Object.prototype,a=r.toString,l=r.hasOwnProperty.bind(n);for(s in n)l(s)&&(s===i?t+="<li>"+n[s]+"</li>":"[object Array]"!==a.call(n[s])&&"[object Object]"!==a.call(n[s])||e(n[s],i,o));return o}(e,"text"),void 0!==e.tuc&&0!==e.tuc.length||(t="(Sorry, no dictionary results found)"),s.innerHTML=t}()}catch(e){console.log(e)}}),N("https://"+R[R.pickedList].dictFrom+".wikipedia.org/w/api.php?action=opensearch&limit=3&namespace=0&format=json&search="+i).then(function(e){for(var t=0;t<3;t++)void 0!==e[1][t]&&(document.querySelector(".wiki-link-wrapper").innerHTML+='<li><a href="#" class="wiki-link">'+e[1][t]+"</a></li>");var n=document.querySelectorAll(".wiki-link");n[0].classList.add("active");var i=n[0].innerHTML;N("https://"+R[R.pickedList].dictFrom+".wikipedia.org/w/api.php?format=json&action=query&prop=extracts&redirects=true&titles="+i).then(function(e){var t=Object.keys(e.query.pages)[0];t=e.query.pages[t].extract,void 0===t&&N("https://"+R[R.pickedList].dictFrom+".wikipedia.org/w/api.php?action=parse&prop=text&page="+i).then(function(e){t=JSON.parse(e.parse.text["*"])}),void 0===t&&(t="Sorry, no info found."),document.querySelector(".wiki-result").innerHTML=t});for(var o=0;o<n.length;o++)!function(e){n[e].addEventListener("click",function(t){t.preventDefault();var i=n[e].innerHTML;document.querySelector(".active").classList.remove("active"),n[e].classList.add("active"),N("https://"+R[R.pickedList].dictFrom+".wikipedia.org/w/api.php?format=json&action=query&prop=extracts&redirects=true&titles="+i).then(function(e){var t=Object.keys(e.query.pages)[0];t=e.query.pages[t].extract,void 0===t&&N("https://"+R[R.pickedList].dictFrom+".wikipedia.org/w/api.php?action=parse&prop=text&page="+i).then(function(e){t=JSON.parse(e.parse.text["*"])}),void 0===t&&(t="Sorry, no info found."),document.querySelector(".wiki-result").innerHTML=t})})}(o)})})},y=function(){function e(){var e=document.querySelector(".colour-term").innerHTML,t=E(e),n=document.querySelector("."+t);i(o,function(t){var i=o[t].getAttribute("data-colour");n.querySelector(".theme-holder").style.background=i,"#fff"!==i&&(n.querySelector(".term-holder").style.color="#fff",n.classList.add("bg-active")),R[R.pickedList].storedData.viewedTerms[e].colour=i,localforage.setItem(R.storedName,R[R.pickedList]),k(!0)}),document.querySelector(".no-colour").addEventListener("click",function(t){n.querySelector(".term-holder").style.color="#3F4747",delete R[R.pickedList].storedData.viewedTerms[e].colour,localforage.setItem(R.storedName,R[R.pickedList])})}var t=document.querySelector(".m-modal"),n=document.querySelectorAll(".colour"),o=void 0;i(n,function(i){t.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var s=(n[i].parentNode.parentNode.parentNode,n[i].parentNode.parentNode.parentNode.querySelector(".term-holder").innerHTML),r='<header>\n                        <h2 class="colour">Colour picker</h2>\n                    </header>\n                    <p>Click below to add a colour for <br>"<span class="colour-term">'+s+'</span>":</p>\n                    <ul class="colour-wrap">\n                        <li><a href="#" data-colour="#F44336"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#E91E63"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#9C27B0"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#3F51B5"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#2196F3"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#009688"></a></li>\n                        <br>\n                        <li><a href="#" data-colour="#4CAF50"></a></li>\n                        <li><a href="#" data-colour="#CDDC39"></a></li>\n                        <li><a href="#" data-colour="#FFC107"></a></li>\n                        <li><a href="#" data-colour="#FF5722"></a></li>\n                        <li><a href="#" data-colour="#212121"></a></li>\n                        <li><a href="#" class="no-colour" data-colour="#fff"></a></li>\n                    </ul>';t.querySelector(".content").innerHTML+=r,void 0!==R.globalUnlocks&&("unlocked"===R.globalUnlocks.coloursNeon.active&&(t.querySelector(".colour-wrap").innerHTML+='\n                           <li><a href="#" data-colour="#FF0099"></a></li>\n                           <li><a href="#" data-colour="#83F52C"></a></li>\n                           <li><a href="#" data-colour="#FD1C03"></a></li>\n                           <li><a href="#" data-colour="#00FFFF"></a></li>\n                           <li><a href="#" data-colour="#9D00FF"></a></li>\n                           <li><a href="#" data-colour="#E6FB04"></a></li>\n                            '),"unlocked"===R.globalUnlocks.coloursMetal.active&&(t.querySelector(".colour-wrap").innerHTML+='\n                           <li><a href="#" data-colour="#CC9900"></a></li>\n                           <li><a href="#" data-colour="#C0C0C0"></a></li>\n                           <li><a href="#" data-colour="#CD7f32"></a></li>\n                            '));var a=t.querySelector(".colour-wrap");o=a.getElementsByTagName("a");for(var l=0;l<o.length;l++)o[l].style.backgroundColor=o[l].getAttribute("data-colour");e()})},_=function(){function e(){for(var e=document.querySelector(".symbol-term").innerHTML,n=E(e),i=document.querySelector("."+n),o="",s=0;s<t.getElementsByTagName("table").length;s++)!function(t){t.addEventListener("click",function(t){t=t||window.event;var n=t.target||t.srcElement;o=n.getAttribute("class"),i.querySelector(".symbol-holder").classList="symbol-holder",i.querySelector(".symbol-holder").classList.add(o),R[R.pickedList].storedData.viewedTerms[e].symbol=o,localforage.setItem(R.storedName,R[R.pickedList]),k(!0)},!1)}(t.getElementsByTagName("table")[s]);document.querySelector(".symbol-clear").addEventListener("click",function(t){i.querySelector(".symbol-holder").classList="symbol-holder",delete R[R.pickedList].storedData.viewedTerms[e].symbol,localforage.setItem(R.storedName,R[R.pickedList]),k(!0)})}var t=document.querySelector(".m-modal"),n=document.querySelectorAll(".symbol"),o="<tr>";if("unlocked"===R.globalUnlocks.symbolsSolid.active){o+="<table>";for(var s=0,r=0;r<a.fonts.solid.length;r++)s%5==0&&0!=s&&(o+="</tr><tr>"),o+="<td><p class="+a.fonts.solid[r]+"></p></td>",s++,r===a.fonts.solid.length-1&&(o+="</tr>");o+="</table>"}if("unlocked"===R.globalUnlocks.symbolsFeather.active){o+="<table>";for(var l=0,d=0;d<a.fonts.light.length;d++)l%5==0&&0!=l&&(o+="</tr><tr>"),o+="<td><p class="+a.fonts.light[d]+"></p></td>",l++,d===a.fonts.light.length-1&&(o+="</tr>");o+="</table>"}o+="<table>";for(var c=0,u=0;u<a.fonts.feather.length;u++)c%5==0&&0!=c&&(o+="</tr><tr>"),o+="<td><p class="+a.fonts.feather[u]+"></p></td>",c++,u===a.fonts.feather.length-1&&(o+="</tr>");o+="</table>",i(n,function(i){t.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var s=(n[i].parentNode.parentNode.parentNode,n[i].parentNode.parentNode.parentNode.querySelector(".term-holder").innerHTML),r='<header>\n                        <h2 class="symbol">Glyph picker</h2>\n                    </header>\n                    <p>Click below to add a glyph for <br>"<span class="symbol-term">'+s+'</span>":</p>\n                    <div class="symbol-wrap">\n                        <a href="#" class="symbol-clear icon-right-open">Clear selected symbol</a>\n                        '+o+"\n                    </div>";t.querySelector(".content").innerHTML+=r,e()})},k=function(e){function t(){document.getElementsByTagName("body")[0].classList.remove("modal-active"),n.classList.add("hidden"),n.querySelector(".content").innerHTML=""}var n=document.querySelector(".m-modal");n.querySelector(".close").addEventListener("click",function(e){e.preventDefault(),t()}),e&&t()},b=function(){function e(){var e=document.querySelectorAll(".category");Object.keys(R.customListChoices).length>0&&(document.querySelector(".custom").style.display="inline-block");for(var s=0;s<e.length;s++)!function(s){e[s].addEventListener("click",function(r){r.preventDefault(),t(e[s].innerHTML),setTimeout(function(){n(),c.addEventListener("click",function(e){e.preventDefault(),i()}),o()},500)})}(s)}function t(e){l.classList.add("animated","slideOutLeft"),a.classList.add("animated","fadeOutUp"),f="";for(var t in R.listChoices)R.listChoices[t].category===e&&(f+='<a href="#">'+R.listChoices[t].name+"</a>");for(var n in R.customListChoices)R.customListChoices[n].category===e&&(f+='<div class="'+E(R.customListChoices[n].name)+'"><span class="custom-list"></span><a href="#">'+R.customListChoices[n].name+"</a></div>")}function n(){a.innerHTML="Choose a list:",a.classList.remove("fadeOutUp"),a.classList.add("fadeInDown"),c.classList.remove("hidden"),l.getElementsByTagName("nav")[0].innerHTML=f,l.classList.remove("slideOutLeft"),l.classList.add("slideInRight"),l.getElementsByTagName("a").length>3&&(l.classList.add("slideInRight","scroll"),h=setInterval(function(){l.clientHeight===l.scrollHeight-l.scrollTop?u.classList.add("hidden"):u.classList.remove("hidden")},500))}function i(){a.classList.add("fadeOutUp"),a.classList.remove("fadeInDown"),l.classList.remove("slideInRight"),l.classList.add("slideOutRight"),setTimeout(function(){a.innerHTML="Choose a category:",a.classList.remove("fadeOutUp"),a.classList.add("fadeInDown"),c.classList.add("hidden"),l.getElementsByTagName("nav")[0].innerHTML=d,l.classList.add("slideInLeft"),l.classList.remove("slideOutRight","scroll"),e()},500)}function o(){for(var e=document.querySelector(".choose-list").querySelectorAll("a"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault(),R.pickedList=this.innerHTML,localforage.getItem("tinyTermsAllPicked",function(e,t){R.AllPicked=t||[],!1===R.AllPicked.includes(R.pickedList)&&R.AllPicked.push(R.pickedList),localforage.setItem("tinyTermsAllPicked",R.AllPicked,function(){localforage.setItem("tinyTermsDefault",R.pickedList,function(){location.reload()})})})});for(var n=document.querySelectorAll(".custom-list"),i=0;i<n.length;i++)!function(e){n[e].addEventListener("click",function(t){t.preventDefault();var i=n[e].nextSibling;document.querySelector(".create-list").classList.add("hidden"),n[e].classList.add("hidden"),n[e].parentNode.insertBefore(document.createElement("div"),i.nextSibling),i.nextSibling.innerHTML='<p>Are you sure you want to delete your list? (Can\'t undo)</p><button class="delete-cancel">Cancel</button><button class="delete-confirm">Confim</button>',document.querySelector(".delete-confirm").addEventListener("click",function(){var t=n[e].parentNode.childNodes[1].innerHTML;localforage.getItem("tinyTerms.uploadedLists",function(e,n){R.uploadedLists=n||{},delete R.uploadedLists[t],localforage.setItem("tinyTerms.uploadedLists",R.uploadedLists,function(){location.reload()})}),localforage.setItem("tinyTerms.uploadedLists",R.uploadedLists,function(){n[e].parentNode.removeChild(i.nextSibling),n[e].parentNode.parentNode.removeChild(document.querySelector("."+E(t))),localforage.removeItem(R.storedName).then(function(){localforage.removeItem(R[R.pickedList]).then(function(){localforage.removeItem("tinyTermsDefault"),location.reload()})})})}),document.querySelector(".delete-cancel").addEventListener("click",function(){n[e].parentNode.removeChild(i.nextSibling),n[e].classList.remove("hidden"),document.querySelector(".create-list").classList.remove("hidden")})})}(i)}function s(e,s){e=e.substring(0,25),0===e.length&&(document.querySelector(".upload-name").style.border="1px solid #ff0000",document.querySelector(".upload-name").placeholder="Please enter a name"),e.length>0&&s.length>0&&(!0===C(s)?localforage.getItem("tinyTerms.uploadedLists",function(r,a){R.uploadedLists=a||{},R.uploadedLists[e]={name:e,category:"Your lists",sheetURL:s},localforage.setItem("tinyTerms.uploadedLists",R.uploadedLists,function(){R.customListChoices=R.customListChoices||{},R.customListChoices[e]={name:e,category:"Your lists",sheetURL:s},document.querySelector(".custom").style.display="inline-block",t("Your lists"),setTimeout(function(){n(),c.addEventListener("click",function(e){e.preventDefault(),i()}),o()},500),k(!0)})}):(document.querySelector(".upload-sheet").style.border="1px solid #ff0000",document.querySelector(".upload-sheet").value="",document.querySelector(".upload-sheet").placeholder="Please enter a valid Sheets URL"))}setTimeout(function(){document.getElementsByTagName("body")[0].classList.remove("loading"),document.querySelector(".m-query").classList.add("animated","slideInDown")},2500),R.uploadedLists=R.uploadedLists||{},localforage.getItem("tinyTerms.uploadedLists",function(t,n){R.customListChoices=R.customListChoices||{};for(var i in n){var o=n[i].name,s=n[i].category,r=n[i].sheetURL;R.customListChoices[o]={name:o,category:s,sheetURL:r}}e()});var r=document.querySelector(".m-menu");r.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active"),document.getElementsByTagName("body")[0].classList.add("home");var a=document.querySelector(".home-bg").getElementsByTagName("h2")[0],l=r.querySelector(".choose-list"),d=l.getElementsByTagName("nav")[0].innerHTML,c=document.querySelector(".nav-back"),u=document.querySelector(".scroll-arrow"),h=void 0,f=void 0;document.querySelector(".upload-info").addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(".m-modal");t.classList.remove("hidden"),t.style.zIndex="101",t.querySelector(".close").addEventListener("click",function(e){e.preventDefault(),k(!0)});if("undefined"!=typeof store){store.refresh();store.get("custom list").owned?(t.querySelector(".content").innerHTML+='<header>\n\t\t\t\t\t\t\t\t<h2 class="">Upload a list</h2>\n\t\t\t\t\t\t\t</header>\n\t\t\t\t\t\t\t<p>Create your very own list of Tiny Terms! For more info please visit:</p>\n\t\t\t\t\t\t\t<a target="_blank" href="http://www.tiny-terms.com">http://www.tiny-terms.com</a>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class="list-uploader">\n\t\t\t\t\t\t\t\t<label>List Name (max 25 characters)</label>\n\t\t\t\t\t\t\t\t<input class="upload-name" type="text" placeholder="Enter list name">\n\t\t\t\t\t\t\t\t<label>List URL</label>\n\t\t\t\t\t\t\t\t<input class="upload-sheet" type="text" placeholder="Paste list URL">\n\t\t\t\t\t\t\t\t<button class="upload-list">Upload</button>\n\t\t\t\t\t\t\t</div>',function(){window.addEventListener("keypress",function(e){var t=document.querySelector(".upload-name").value,n=document.querySelector(".upload-sheet").value;13===e.keyCode&&s(t,n)}),document.querySelector(".upload-list").addEventListener("click",function(e){e.preventDefault(),s(document.querySelector(".upload-name").value,document.querySelector(".upload-sheet").value)})}()):(t.querySelector(".content").innerHTML+='<header>\n                        \t<h2 class="">Upload a list</h2>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<p>Create your very own list of Tiny Terms! For more info please visit:</p>\n\t\t\t\t\t\t<a target="_blank" href="http://www.tiny-terms.com">http://www.tiny-terms.com</a>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="list-uploader">\n\t\t\t\t\t\t\t<p>Unlock this feature for just 59p</p>\n\t\t\t\t\t\t\t<button class="unlock-uploadlist">Unlock</button>\n\t\t\t\t\t\t</div>',document.querySelector(".unlock-uploadlist").addEventListener("click",function(e){e.preventDefault(),store.order("custom list"),store.when("custom list").approved(function(e){e.finish(),location.reload()})}))}else t.querySelector(".content").innerHTML+='<header>\n                        \t<h2 class="">Upload a list</h2>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<p>Create your very own list of Tiny Terms! For more info please visit:</p>\n\t\t\t\t\t\t<a target="_blank" href="http://www.tiny-terms.com">http://www.tiny-terms.com</a>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="list-uploader">\n\t\t\t\t\t\t\t<p>This feature is only available in the App version.</p>\n\t\t\t\t\t\t</div>'})},L=function(){if("undefined"!=typeof cordova)cordova.plugins.instabug.invoke();else{var e=function(){var e=document.querySelector(".m-modal");e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");return e.querySelector(".content").innerHTML='<header>\n\t\t\t\t\t\t<h2 class="">Get in touch</h2>\n\t\t\t\t\t</header>\n\t\t\t\t\t<p>We always welcome feedback especially if something isn\'t working as expected.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tPlease email us at <a href="mailto:info@tiny-terms.com">info@tiny-terms.com</a> with your thoughts.</p>\n\n\t\t\t\t\t<button class="close-feedback">Close</button>\n\t\t\t\t\t',e.classList.add("onboard"),document.querySelector(".close-feedback").addEventListener("click",function(t){t.preventDefault(),k(!0),R.tutComplete=!0,localforage.setItem("tinyTerms.tutComplete",R.tutComplete),e.classList.remove("onboard")}),{v:!1}}();if("object"===(void 0===e?"undefined":_typeof(e)))return e.v}},w=function(e,t){window.onerror=function(n,i,o,s,r){var a=document.querySelector(".m-modal");a.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var l='<header>\n                        <h2 class="">Uh oh!</h2>\n                    </header>\n                    <br>\n                    <h3>'+e+"</h3>\n                    <p><strong>Here's the exact problem:</strong></p>\n                    <p>'Error: "+n+"</p> \n                    <p>Script: "+i+"</p> \n                    <p>Line: "+o+"</p>\n                    <p>Column: "+s+"</p> \n                    <p>StackTrace: "+r+'</p>\n\n                    <button class="crash-report">Report issue</button><button class="home-btn">Close</button>\n                    ';return a.querySelector(".content").innerHTML=l,a.classList.add("onboard"),t(),document.querySelector(".crash-report").addEventListener("click",function(e){e.preventDefault(),L()}),document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),b()}),!1}},S=function(e,t){var n=document.querySelector(".m-modal");n.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var i='<header>\n\t\t\t\t\t<h2 class="">Something\'s not right</h2>\n\t\t\t\t</header>\n\t\t\t\t<p>'+e+'</p>\n\n\t\t\t\t<button class="home-btn">Close</button>\n\t\t\t\t';return n.querySelector(".content").innerHTML=i,n.classList.add("onboard"),document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),b()}),t(),!1},D=function(e){if(void 0===e){var t=document.querySelector(".m-modal");t.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");t.querySelector(".content").innerHTML='<header>\n\t\t\t\t\t\t<h2 class="">The list didn\'t load</h2>\n\t\t\t\t\t</header>\n\t\t\t\t\t<p>Please check you have internet connection.</p> \n\t\t\t\t\t<p>If you are using a custom list please check the URL you added is correct.</p>\n\n\t\t\t\t\t<button class="home-btn">Close</button>\n\t\t\t\t\t',t.classList.add("onboard"),document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),b()})}else{var n=e.Sheet1.columnNames[1];R[R.pickedList].speechLang=n,R[R.pickedList].dictFrom=e.Sheet1.elements[0][n],R[R.pickedList].dictTo=e.Sheet1.elements[1][n],R[R.pickedList].action=e.Sheet1.elements[2][n],R[R.pickedList].terms=R[R.pickedList].terms||{};for(var i=0;i<e.Sheet1.elements.length;i++){var o=e.Sheet1.elements[i].Term,s=e.Sheet1.elements[i].Definition,r=e.Sheet1.elements[i].Support;o=o.replace(/[!@#$%^&*]/g,""),s=s.replace(/[!@#$%^&*]/g,""),R[R.pickedList].terms[o]={},R[R.pickedList].terms[o].term=o,R[R.pickedList].terms[o].definition=s,R[R.pickedList].terms[o].support=r}R.postBuildCallback()}},T=function(e,t){var n=new Image,i=void 0;n.src="http://www.tiny-terms.com/img/brand/logo_white.svg?d="+escape(Date()),n.onload=function(){return i=!0},setTimeout(function(){!0===i?t():e()},5e3)},M=function(e){var t=window.getComputedStyle(e,null),n=parseInt(t.getPropertyValue("height")),i=parseInt(t.getPropertyValue("font-size")),o=parseInt(t.getPropertyValue("line-height")),s=t.getPropertyValue("box-sizing");if(isNaN(o)&&(o=1.2*i),"border-box"==s){n=n-parseInt(t.getPropertyValue("padding-top"))-parseInt(t.getPropertyValue("padding-bottom"))-parseInt(t.getPropertyValue("border-top-width"))-parseInt(t.getPropertyValue("border-bottom-width"))}return Math.ceil(n/o)},C=function(e){var t=document.createElement("a");return t.href=e,t.host&&t.host!=window.location.host},E=function(e){return e.replace(/[^a-z0-9]/g,function(e){var t=e.charCodeAt(0);return 32==t?"-":t>=65&&t<=90?"_"+e.toLowerCase():"__"+("000"+t.toString(16)).slice(-4)})},x=function(){function e(e){var t="visible",n="hidden",i={focus:t,focusin:t,pageshow:t,blur:n,focusout:n,pagehide:n};e=e||window.event,e.type in i||location.reload()}var t="hidden";t in document?document.addEventListener("visibilitychange",e):(t="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(t="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(t="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e,void 0!==document[t]&&e({type:document[t]?"blur":"focus"})},q=function(e,t,n){var i=1;return n&&(i=-1),e.sort(function(e,n){var o=e[1][t],s=n[1][t];return i*(o<s?-1:o>s?1:0)})},N=function(e){return new Promise(function(t,n){var i="_"+Math.round(1e4*Math.random()),o="jsonp_callback_"+i;window[o]=function(e){delete window[o];var n=document.getElementById(i);n.parentNode.removeChild(n),t(e)};var s=e+"&callback="+o,r=document.createElement("script");r.src=s,r.id=i,r.addEventListener("error",n),(document.getElementsByTagName("head")[0]||document.body||document.documentElement).appendChild(r)})},I=function(){var e=0,t=0,n=[],i=[],s=Object.keys(R[R.pickedList].terms).length;if(R[R.pickedList].ops.displayedTerms>s&&(R[R.pickedList].ops.displayedTerms=s),void 0===R[R.pickedList].storedData.firstTime)for(;e<R[R.pickedList].ops.displayedTerms;){var r=o(R[R.pickedList].terms);n.includes(r)||(n.push(r),e++)}else{if(R[R.pickedList].storedData.incorrectTerms=R[R.pickedList].storedData.incorrectTerms||{},Object.keys(R[R.pickedList].storedData.incorrectTerms).length>0){var a=void 0;R[R.pickedList].storedData.remindedTerms=R[R.pickedList].storedData.remindedTerms||{},void 0===R[R.pickedList].storedData.dailyReminder?(R[R.pickedList].storedData.dailyReminder={},a=o(R[R.pickedList].storedData.incorrectTerms),R[R.pickedList].storedData.dailyReminder[a]=R[R.pickedList].terms[a].definition):(a=R[R.pickedList].storedData.dailyReminder,a=Object.getOwnPropertyNames(a)),n.push(a),delete R[R.pickedList].storedData.incorrectTerms[a],R[R.pickedList].storedData.remindedTerms[a]=R[R.pickedList].terms[a].definition,e++}for(;e<R[R.pickedList].ops.displayedTerms;){R[R.pickedList].storedData.viewedTerms=R[R.pickedList].storedData.viewedTerms||{};if(Object.keys(R[R.pickedList].storedData.viewedTerms).length+e===s){var l=[];for(var d in R[R.pickedList].storedData.viewedTerms)l.push([d,R[R.pickedList].storedData.viewedTerms[d]]);if(void 0!==R[R.pickedList].storedData.dailyReminder)for(var c=l.length-1;c>=0;c--)R[R.pickedList].storedData.dailyReminder.hasOwnProperty(l[c][0])&&l.splice(c,1);for(l=q(l,"viewCount");e<R[R.pickedList].ops.displayedTerms;)n.push(l[e][0]),e++;e++}else{var u=o(R[R.pickedList].terms);i.includes(u)||(i.push(u),R[R.pickedList].storedData.viewedTerms.hasOwnProperty(u)||(n.push(u),e++))}t>1e4&&(e=R[R.pickedList].ops.displayedTerms),t++}}return n},O=function(){function e(){k(!0),u.style.zIndex="100",u.querySelector(".term-holder").classList.add("animated","pulse","infinite"),u.querySelector(".definition-wrapper").classList.add("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active"),m.setAttribute("disabled","true"),document.querySelector(".m-modal").style.cssText="display: none !important",c.classList.remove("hidden");c.innerHTML='<p>This is one of the terms you will be learning, you get 5 each day.</p>\n                    <button class="onboard-2">Next</button>';var e=u.offsetTop+u.offsetHeight;c.style.top=e+"px",document.querySelector(".onboard-2").addEventListener("click",function(e){e.preventDefault(),t()})}function t(){u.querySelector(".term-holder").classList.remove("animated","pulse","infinite"),u.querySelector(".term-views").classList.add("animated","pulse","infinite");c.innerHTML='<p>On the right is the goal meter, fill this and the term is marked as complete.</p>\n                    <button class="onboard-3">Next</button>',c.classList.add("onboard-right"),document.querySelector(".onboard-3").addEventListener("click",function(e){e.preventDefault(),n()})}function n(){u.querySelector(".term-views").classList.remove("animated","pulse","infinite"),m.classList.add("animated","pulse","infinite");var e=setInterval(function(){m.classList.remove("disabled"),m.removeAttribute("disabled")},100);c.innerHTML='<p style="border:0; margin: 10px 0; padding: 0">Press the reveal button to continue!</p>\n                    ',m.addEventListener("click",function(t){t.preventDefault(),clearInterval(e),i()})}function i(){m.classList.remove("animated","pulse","infinite"),u.querySelector(".definition-wrapper").classList.remove("hidden"),u.querySelector(".definition-holder").classList.add("animated","pulse","infinite"),m.classList.add("disabled");var e=u.querySelector(".count"),t=parseInt(e.innerHTML);if(t>1){t-=1,e.innerHTML=t;var n=u.querySelector(".term-holder").innerHTML;R[R.pickedList].storedData.viewedTerms[n].viewCount=t,R[R.pickedList].storedData.revealGoal[n]=e.innerHTML=t,localforage.setItem(R.storedName,R[R.pickedList])}var i=u.offsetTop+h.offsetTop+h.offsetHeight+95;c.style.top=i+"px";c.innerHTML='<p>This is the definition you need to learn, helpful information is displayed underneath.</p>\n                    <button class="onboard-5">Next</button>',c.classList.remove("onboard-right"),document.querySelector(".onboard-5").addEventListener("click",function(e){e.preventDefault(),o()})}function o(){u.querySelector(".definition-holder").classList.remove("animated","pulse","infinite");var e=u.offsetTop+h.offsetTop+95;c.style.top=e+"px";c.innerHTML='<p>Tiny Terms uses spaced repetition, check back in an hour to add to the goal.</p>\n                    <button class="onboard-6">Next</button>',c.classList.add("onboard-right"),document.querySelector(".onboard-6").addEventListener("click",function(e){e.preventDefault(),s()})}function s(){u.querySelector(".lookup").classList.add("animated","pulse","infinite"),document.querySelector(".query-holder").setAttribute("disabled","true");var e=u.offsetTop+h.offsetTop+h.offsetHeight+95;c.style.top=e+"px";c.innerHTML='<p>Clicking the Further Study button will give you detailed info on the term and the ability to practice writing it.</p>\n                    <button class="onboard-7">Next</button>',document.querySelector(".onboard-7").addEventListener("click",function(e){e.preventDefault(),r()})}function r(){u.querySelector(".lookup").classList.remove("animated","pulse","infinite"),u.querySelector(".colour").classList.add("animated","pulse","infinite"),u.querySelector(".symbol").classList.add("animated","pulse","infinite");var e=u.offsetTop+h.offsetTop+h.offsetHeight+95;c.style.top=e+"px";c.innerHTML='<p>You can add a colour and symbol to the term, the visual association will help you remember.</p>\n                    <button class="onboard-7">Next</button>',document.querySelector(".onboard-7").addEventListener("click",function(e){e.preventDefault(),a()})}function a(){u.querySelector(".colour").classList.remove("animated","pulse","infinite"),u.querySelector(".symbol").classList.remove("animated","pulse","infinite"),u.style.zIndex="50";var e=document.querySelector(".m-query");document.querySelector(".query-submit").setAttribute("disabled","true"),document.querySelector(".query-input").setAttribute("disabled","true"),document.querySelector(".m-modal").style.cssText="",k(!0),f(!0),delete R[R.pickedList].storedData.dailyQuery,localforage.setItem(R.storedName,R[R.pickedList]);var t=e.offsetTop+e.offsetHeight;c.style.top=t+"px",e.style.zIndex="100";c.innerHTML='<p>Each day you get a mini test to see how well you have remembered, you can also unlock an extra test by completing at least one goal meter in a day.</p>\n                    <button class="onboard-8">Next</button>',document.querySelector(".onboard-8").addEventListener("click",function(e){e.preventDefault(),l()})}function l(){d.classList.remove("hidden"),c.innerHTML="",c.classList.add("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var e=document.querySelector(".m-query");document.querySelector(".query-holder").removeAttribute("disabled"),document.querySelector(".query-submit").removeAttribute("disabled"),document.querySelector(".query-input").removeAttribute("disabled"),e.style.zIndex="50",e.classList.add("hidden"),u.querySelector(".definition-wrapper").classList.remove("hidden");d.querySelector(".content").innerHTML='<header>\n                        <h2 class="">That\'s about it</h2>\n                    </header>\n                    <p>Fill the progress bar by completing the goal meters to finish the list! You get points for answering tests correctly and completing goal meters, use them to unlock cool stuff. <br><br>Good luck!</p>\n                    <button class="close-tut">Close the tutorial</button>\n                    ',d.classList.add("onboard"),document.querySelector(".close-tut").addEventListener("click",function(e){e.preventDefault(),k(!0),R.tutComplete=!0,localforage.setItem("tinyTerms.tutComplete",R.tutComplete),d.classList.remove("onboard")})}var d=document.querySelector(".m-modal"),c=document.querySelector(".m-onboarding"),u=document.querySelectorAll(".m-term-wrapper")[0],h=u.querySelector(".definition-holder"),m=u.getElementsByTagName("button")[0];R.tutComplete=!1,localforage.setItem("tinyTerms.tutComplete",R.tutComplete),d.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");d.querySelector(".content").innerHTML='<header>\n                    <h2 class="icon-compass">Welcome</h2>\n                </header>\n                <p>Looks like this is your first time here, so let\'s go over some basics before you get started.</p>\n                <button class="onboard-1">Let\'s go!</button>\n                <a href="#" class="close-tut">Skip the tutorial</a>\n                ',d.classList.add("onboard"),document.querySelector(".close-tut").addEventListener("click",function(e){e.preventDefault(),k(!0),d.classList.remove("onboard"),R.tutComplete=!0,localforage.setItem("tinyTerms.tutComplete",R.tutComplete)}),document.querySelector(".onboard-1").addEventListener("click",function(t){t.preventDefault(),e()})},P=function(){function e(){document.getElementsByTagName("h1")[0].addEventListener("click",function(e){e.preventDefault(),document.querySelector(".m-nav").classList.remove("hidden","slideOutLeft"),document.querySelector(".m-nav").classList.add("animated","slideInLeft"),document.querySelector(".nav-bg").classList.add("animated","fadeIn"),
document.querySelector(".nav-bg").classList.remove("fadeOut"),document.getElementsByTagName("body")[0].classList.add("nav-on"),setTimeout(function(){t()},100)})}function t(){document.querySelector(".nav-bg").addEventListener("click",function(t){t.preventDefault(),document.querySelector(".m-nav").classList.remove("slideInLeft"),document.querySelector(".m-nav").classList.add("slideOutLeft"),document.getElementsByTagName("body")[0].classList.remove("nav-on"),document.querySelector(".nav-bg").classList.add("fadeOut"),document.querySelector(".nav-bg").classList.remove("fadeIn"),setTimeout(function(){e()},100)})}var n=document.querySelector(".m-nav").querySelectorAll("nav")[0];e(),document.querySelector(".nav-close").addEventListener("click",function(t){t.preventDefault(),document.querySelector(".m-nav").classList.remove("slideInLeft"),document.querySelector(".m-nav").classList.add("slideOutLeft"),document.getElementsByTagName("body")[0].classList.remove("nav-on"),document.querySelector(".nav-bg").classList.add("fadeOut"),document.querySelector(".nav-bg").classList.remove("fadeIn"),setTimeout(function(){e()},100)}),localforage.getItem("tinyTermsAllPicked",function(e,t){R.AllPicked=t||[];for(var i=n.innerHTML,o=0;o<R.AllPicked.length;o++)i+='<a href="#">'+R.AllPicked[o]+"</a>";n.innerHTML=i;var s=n.querySelectorAll("a"),r=1;do{s[r].addEventListener("click",function(e){e.preventDefault(),R.pickedList=this.innerHTML,localforage.setItem("tinyTermsDefault",R.pickedList,function(){location.reload()})}),r++}while(r<s.length);document.querySelector(".view-all").addEventListener("click",function(e){e.preventDefault(),document.querySelector(".m-nav").classList.add("hidden"),document.getElementsByTagName("body")[0].classList.remove("nav-on"),document.getElementsByTagName("body")[0].classList.add("loading"),b()})})},H=function(){var e=document.querySelector(".m-modal");document.querySelector(".refresh").addEventListener("click",function(e){e.preventDefault(),location.reload()}),document.querySelector(".store").addEventListener("click",function(t){function n(e,t){for(var n=0;n<e.length;n++)!function(n){document.querySelector(e[n]).addEventListener("click",function(e){e.preventDefault(),t(n)})}(n)}t.preventDefault(),e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");e.querySelector(".content").innerHTML+='<header>\n                        <h2 class="icon-007-signs">Store</h2>\n                    </header>\n                    <div class="options store">\n                        <p>Paid unlocks:</p>\n                        <a href="#" class="points-10-terms"><strong>59p</strong> Get 10 terms a day</a>\n                        <p>Points rewards - this list:</p>\n                        <a href="#" class="points-refresh-terms"><strong>250</strong> Refresh terms</a>\n                        <a href="#" class="points-half-timer"><strong>300</strong> Half timer (1 day)</a>\n                        <p>Points rewards - all lists:</p>\n                        <a href="#" class="points-neon-colours"><strong>500</strong> Neon colours</a>\n                        <a href="#" class="points-solid-symbols"><strong>1000</strong> Solid symbols</a>\n                        <a href="#" class="points-star-bg"><strong>3000</strong> Star background</a>\n                        <a href="#" class="points-feather-symbols"><strong>5000</strong> Feather symbols</a>\n                        <a href="#" class="points-letters-bg"><strong>10,000</strong> Letters background</a>\n                        <a href="#" class="points-metal-colours"><strong>50,000</strong> Metal colours</a>\n                        <p>Apply code:</p>\n                        <input class="" type="text" placeholder="Add code here">\n                        <button class="submit">Submit</button>\n                    </div>\n                    ';var i=[".points-10-terms"],o=[".points-refresh-terms",".points-half-timer"],s=[".points-neon-colours",".points-solid-symbols",".points-star-bg",".points-feather-symbols",".points-letters-bg",".points-metal-colours"];!0===R[R.pickedList].ops.godMode&&(R.score=1e6,document.querySelector(".score-holder").innerHTML=R.score),n(o,function(e){var t=Object.keys(R[R.pickedList].storedData.listUnlocks)[e],n=R.score,i=R[R.pickedList].storedData.listUnlocks[t].points;if(n-i>0){var o=n-i;if(R[R.pickedList].storedData.listUnlocks[t].active="unlocked","unlocked"===R[R.pickedList].storedData.listUnlocks.termsRefresh.active){var s=I();R[R.pickedList].storedData.dailyTerms=s}localforage.setItem("tinyTerms.score",o,function(){localforage.setItem(R.storedName,R[R.pickedList],function(){location.reload()})})}else{document.querySelector(".m-modal").querySelector(".content").innerHTML='<header>\n                                <h2 class="">Sorry, not enough points</h2>\n                            </header>\n                            <p>You can earn more points by completing goal meters, passing tests and finishing lists.</p>\n\n                            <button class="home-btn">Close</button>\n                            ',document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),k(!0)})}}),n(i,function(t){var n=Object.keys(R.paidUnlocks)[t];if("unlocked"===R.paidUnlocks[n].active||"inactive"===R.paidUnlocks[n].active)return!1;!function(){var t=function(){if("unlocked"===R.paidUnlocks.terms10.active){var e=I(),t=R[R.pickedList].storedData.dailyTerms,n=t.concat(e);R[R.pickedList].storedData.dailyTerms=n,localforage.setItem(R.storedName,R[R.pickedList],function(){localforage.setItem("tinyTerms.paidUnlocks",R.paidUnlocks,function(){location.reload()})})}};if("undefined"!=typeof store){store.refresh();store.get("extra items").owned?(R.paidUnlocks[n].active="unlocked",t()):(store.order("extra items"),store.when("extra items").approved(function(e){R.paidUnlocks[n].active="unlocked",e.finish(),t()}))}else e.querySelector(".content").innerHTML='<header>\n                                    <h2 class="">Available in the app</h2>\n                                </header>\n                                <p>Download the Android app today to unlock this feature.</p>';t()}()}),"unlocked"===R.paidUnlocks.terms10.active&&(document.querySelector(".points-10-terms").innerHTML="(Unlocked)"),n(s,function(e){var t=Object.keys(R.globalUnlocks)[e],n=R.score,i=R.globalUnlocks[t].points;if("unlocked"===R.globalUnlocks[t].active||"inactive"===R.globalUnlocks[t].active)return!1;if(n-i>0){var o=n-i;R.globalUnlocks[t].active="unlocked",localforage.setItem("tinyTerms.score",o,function(){localforage.setItem(R.storedName,R[R.pickedList],function(){localforage.setItem("tinyTerms.globalUnlocks",R.globalUnlocks,function(){location.reload()})})})}else{document.querySelector(".m-modal").querySelector(".content").innerHTML='<header>\n                                <h2 class="">Sorry, not enough points</h2>\n                            </header>\n                            <p>You can earn more points by completing goal meters, passing tests and finishing lists.</p>\n\n                            <button class="home-btn">Close</button>\n                            ',document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),k(!0)})}});for(var r=0;r<o.length;r++){var a=Object.keys(R[R.pickedList].storedData.listUnlocks)[r];"unlocked"===R[R.pickedList].storedData.listUnlocks[a].active&&document.querySelector(o[r]).parentNode.removeChild(document.querySelector(o[r]))}for(var l='<button class="store-on">Turn on</button>',d='<button class="store-off">Turn off</button>',c=0;c<s.length;c++){var u=s[c],h=Object.keys(R.globalUnlocks)[c],f=R.globalUnlocks[h].active;"unlocked"===f&&(document.querySelector(u).innerHTML=d),"inactive"===f&&(document.querySelector(u).innerHTML=l)}for(var m=0;m<document.querySelectorAll(".store-off").length;m++)!function(e){document.querySelectorAll(".store-off")[e].addEventListener("click",function(t){t.preventDefault();var n=document.querySelectorAll(".store-off")[e].parentNode.className,i="."+n,o=s.indexOf("."+n),r=Object.keys(R.globalUnlocks)[o];R.globalUnlocks[r].active;document.querySelector(i).querySelector(".store-off").outerHTML=l,R.globalUnlocks[r].active="inactive",localforage.setItem("tinyTerms.globalUnlocks",R.globalUnlocks,function(){location.reload()})})}(m);for(var p=0;p<document.querySelectorAll(".store-on").length;p++)!function(e){document.querySelectorAll(".store-on")[e].addEventListener("click",function(t){t.preventDefault();var n=document.querySelectorAll(".store-on")[e].parentNode.className,i="."+n,o=s.indexOf("."+n),r=Object.keys(R.globalUnlocks)[o];R.globalUnlocks[r].active;document.querySelector(i).querySelector(".store-on").outerHTML=d,R.globalUnlocks[r].active="unlocked",localforage.setItem("tinyTerms.globalUnlocks",R.globalUnlocks,function(){location.reload()})})}(p)}),document.querySelector(".stats").addEventListener("click",function(t){t.preventDefault(),e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var n=R.pickedList,i=Object.keys(R[R.pickedList].storedData.learnedTerms).length,o=Object.keys(R[R.pickedList].terms).length,s=Object.keys(R[R.pickedList].storedData.viewedTerms).length,r=0,a=0;void 0!==R[R.pickedList].storedData.correctTerms&&(r=Object.keys(R[R.pickedList].storedData.correctTerms).length),void 0!==R[R.pickedList].storedData.incorrectTerms&&(a=Object.keys(R[R.pickedList].storedData.incorrectTerms).length);for(var l=[],d=0;d<i;d++){var c=Object.keys(R[R.pickedList].storedData.learnedTerms)[d];l+='<p class="small">'+c+" - "+R[R.pickedList].storedData.learnedTerms[c]+"</p>"}0===i&&(l='<p class="small">No completed terms, fill some goals!</p>');var u='<header>\n                        <h2 class="icon-008-bar-chart">Progress</h2>\n                    </header>\n                    <div class="options stats">\n                        <p><strong>'+n+'</strong></p>\n                        <p><strong>Total completed terms:</strong> <span class="right">'+i+' <span class="small">/ '+o+'</span></span></p>\n                        <br>\n                        <p><strong>Total viewed terms:</strong> <span class="right">'+s+' <span class="small">/ '+o+'</span></span></p>\n                        <p><strong>Total correct tests:</strong> <span class="right">'+r+'</span></p>\n                        <p><strong>Total incorrect tests:</strong> <span class="right">'+a+"</span></p>\n                        <h3>Completed terms:</h3>\n                        "+l+"\n                    </div>\n                    ";e.querySelector(".content").innerHTML+=u})},Y=function(){var e=document.querySelector(".m-modal");document.querySelector(".settings").addEventListener("click",function(t){function n(){null!==document.querySelector(".delete-confirm")&&(i.innerHTML="Reset list progress",o.innerHTML="Reset the app",document.querySelector(".delete-confirm").parentNode.removeChild(document.querySelector(".delete-cancel")),document.querySelector(".delete-confirm").parentNode.removeChild(document.querySelector(".delete-confirm")))}t.preventDefault(),e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active"),e.querySelector(".content").innerHTML+='<header>\n                        <h2 class="icon-cog-outline">Options</h2>\n                    </header>\n                    <div class="options">\n                        <p>Help</p>\n                        <a href="#" class="icon-right-open show-tut">Show the tutorial again</a>\n                        <a href="mailto:info@tiny-terms.com" class="icon-right-open">Email a question</a>\n                        <a href="#" class="icon-right-open feedback">Report a bug/leave feedback</a>\n                        <p>More Options</p>\n                        <a href="#" class="icon-right-open reminders">Reminders</a>\n                        <a href="#" class="icon-right-open reset-list">Reset list progress</a>\n                        <a href="#" class="icon-right-open reset">Reset the app</a>\n                        <p class="low-header">Credits</p>\n                        <p><small>All design and development by Alex Plummer.</small><br>\n                        <small>Icons courtesy of <a href="http://www.toicon.com/authors/1">Shannon E Thomas</a> at <a href="http://www.toicon.com">toicon.com</a></small></p>\n                    </div>\n                    ';var i=document.querySelector(".reset-list"),o=document.querySelector(".reset");"undefined"==typeof cordova?document.querySelector(".options").removeChild(document.querySelector(".options").querySelector(".reminders")):document.querySelector(".reminders").addEventListener("click",function(e){e.preventDefault(),A()}),document.querySelector(".show-tut").addEventListener("click",function(e){e.preventDefault(),O()}),document.querySelector(".feedback").addEventListener("click",function(e){e.preventDefault(),L()}),i.addEventListener("click",function(e){e.preventDefault(),n(),i.innerHTML="Are you sure you want to delete progress for this list? (Can't undo)",i.parentNode.insertBefore(document.createElement("div"),i.nextSibling),i.nextSibling.innerHTML='<button class="delete-cancel">Cancel</button><button class="delete-confirm">Confim</button>',document.querySelector(".delete-confirm").addEventListener("click",function(){delete R[R.pickedList],localforage.setItem(R.storedName,R[R.pickedList]).then(function(e){localforage.removeItem("tinyTermsDefault").then(function(){location.reload()})})}),document.querySelector(".delete-cancel").addEventListener("click",function(){k(!0)})}),document.querySelector(".reset").addEventListener("click",function(e){e.preventDefault(),n(),o.innerHTML="Are you sure you want to delete all progress for the app? (Can't undo)",o.parentNode.insertBefore(document.createElement("div"),o.nextSibling),o.nextSibling.innerHTML='<button class="delete-cancel">Cancel</button><button class="delete-confirm">Confim</button>',document.querySelector(".delete-confirm").addEventListener("click",function(){localforage.clear().then(function(){location.reload()})}),document.querySelector(".delete-cancel").addEventListener("click",function(){k(!0)})})})},A=function(){function e(){var e=R[R.pickedList].storedData.reminderTimes.length;document.querySelector(".time-holders").innerHTML="";for(var n=0;n<e;n++){var i=R[R.pickedList].storedData.reminderTimes[n][0],o=R[R.pickedList].storedData.reminderTimes[n][1];0===o&&(o="00");t(n,i+":"+o)}}function t(e,t){var n="time-"+e,o='<div class="time-wrap '+n+'">\n                                <input type="text" class="time-input" disabled value="'+t+'">\n                                <button class="change-time">Change</button>\n                                <button class="remove-time">Remove</button>\n                            </div>';document.querySelector(".time-holders").innerHTML+=o,i()}function n(){R[R.pickedList].storedData.reminderTimes.length;R[R.pickedList].storedData.reminderTimes=[],cordova.plugins.notification.local.cancelAll(function(){},this);for(var e=document.querySelectorAll(".time-wrap"),t=e.length,n=0;n<t;n++){var i=document.querySelectorAll(".time-wrap")[n].querySelector(".time-input").value,o=i.split(":")[0],s=i.split(":")[1];R[R.pickedList].storedData.reminderTimes.push([o,s]);var r=new Date;r.setHours(o),r.setMinutes(s),r.setSeconds(0),cordova.plugins.notification.local.schedule({id:n,text:"It's time to learn!",firstAt:r,every:"day",led:"e21657"})}}function i(){for(var t=document.querySelectorAll(".time-wrap"),n=t.length,i=0;i<n;i++)!function(t){document.querySelectorAll(".time-wrap")[t].querySelector(".change-time").addEventListener("click",function(e){e.preventDefault();var n="x"+t,i=".time-"+t,o=document.querySelector(i).getElementsByTagName("input")[0];n=new mdDateTimePicker.default({type:"time",mode:!0}),n.time=moment().hours(12).minutes(0),n.toggle(),n.trigger=o,o.addEventListener("onOk",function(){var e=n.time.hours().toString(),t=n.time.minutes().toString();t<10&&(t="0"+t),this.value=e+":"+t})}),document.querySelectorAll(".time-wrap")[t].querySelector(".remove-time").addEventListener("click",function(n){R[R.pickedList].storedData.reminderTimes.splice(t,1).pop(),e()})}(i)}var o=document.querySelector(".m-modal");o.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");o.querySelector(".content").innerHTML='<header>\n                    <h2 class="icon-cog-outline">Reminders</h2>\n                </header>\n                <div class="m-reminders options">\n                    <p>You can configure reminders here, they are really helpful if you keep forgetting to learn terms!</p>\n                    <button class="save-times">Save reminders</button>\n                    <button class="add-time">New reminder</button>\n                    <div class="time-holders">\n                    </div>\n                </div>\n                ';var s=[[8,15],[12,15],[17,50]];R[R.pickedList].storedData.reminderTimes=R[R.pickedList].storedData.reminderTimes||s,e(),document.querySelector(".add-time").addEventListener("click",function(t){R[R.pickedList].storedData.reminderTimes.push([12,0]),e()}),document.querySelector(".save-times").addEventListener("click",function(e){e.preventDefault(),n(),localforage.setItem(R.storedName,R[R.pickedList]).then(function(e){o.querySelector(".content").innerHTML='<header>\n                            <h2 class="icon-cog-outline">Saved</h2>\n                        </header>\n                        <div class="m-reminders options">\n                            <p>Thanks, your reminders have been saved.</p>\n                        </div>\n                        '})})},R=R||{},U={displayedTerms:5,counterMins:60,counterSecs:0,revealGoalTarget:3,wordAccuracy:.7,addDay:!1,debug:!1,godMode:!1,loadDelay:2500,points:{correct:50,dailyBonus:10,hearts:3,winBonus:10}},j={terms10:{points:0,active:"locked"}},W={termsRefresh:{points:250,active:"locked"},timerHalf:{points:300,active:"locked"}},F={coloursNeon:{points:500,active:"locked"},symbolsSolid:{points:1e3,active:"locked"},bgStars:{points:3e3,active:"locked"},symbolsFeather:{points:5e3,active:"locked"},bgLetters:{points:1e4,active:"locked"},coloursMetal:{points:5e4,active:"locked"}},B=!0;setTimeout(function(){if(document.getElementsByTagName("body")[0].classList.remove("loading"),!0===B){var e=document.querySelector(".m-modal");e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");e.querySelector(".content").innerHTML='<header>\n\t\t\t\t\t\t<h2 class="">Uh oh!</h2>\n\t\t\t\t\t</header>\n\t\t\t\t\t<br>\n\t\t\t\t\t<p>Sorry something went wrong, make sure you are connected to the internet and try again.</p>\n\t\t\t\t\t<p>If this keeps happening you can reset the list by <a href="#" class="reset-list">clicking here</a> (wipes list progress).</p>\n\t\t\t\t\t<br>\n\t\t\t\t\t<button class="crash-report">Report issue</button><button class="home-btn">Close</button>\n\t\t\t\t\t',e.classList.add("onboard"),document.querySelector(".crash-report").addEventListener("click",function(e){e.preventDefault(),L()}),document.querySelector(".reset-list").addEventListener("click",function(e){e.preventDefault(),delete R[R.pickedList],localforage.setItem(R.storedName,R[R.pickedList]).then(function(e){localforage.removeItem("tinyTermsDefault").then(function(){location.reload()})})}),document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),b()})}},2e4),function(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}(function(){function e(){function e(e){R.listChoices={};for(var t=0;t<e.Sheet1.elements.length;t++)R.listChoices[e.Sheet1.elements[t].Name]={name:e.Sheet1.elements[t].Name,category:e.Sheet1.elements[t].Category,sheetURL:e.Sheet1.elements[t].sheetURL,version:e.Sheet1.elements[t].Version};localforage.setItem("tinyTerms.lists",R.listChoices,function(){r()})}Tabletop.init({key:"https://docs.google.com/spreadsheets/d/1T8sb0SJRxJQdwgWywAQQnq6rxHt0JRo-81q5Hz_jvXQ/pubhtml",callback:e,simpleSheet:!1})}localforage.getItem("tinyTerms.lists",function(t,n){function i(){null===n?S("Please connect to the internet to download the lists, after they will be available offline.",function(){document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),b()})}):(R.listChoices=n,r())}function o(){e()}T(i,o)})});var V=function(e){localforage.getItem("tinyTerms.paidUnlocks",function(t,n){R.paidUnlocks=n||j,"unlocked"===R.paidUnlocks.terms10.active&&(R[R.pickedList].ops.displayedTerms=10),localforage.getItem("tinyTerms.globalUnlocks",function(t,n){R[R.pickedList].storedData.listUnlocks=R[R.pickedList].storedData.listUnlocks||W,R.globalUnlocks=n||F,R[R.pickedList].storedData.listUnlocks.termsRefresh.active="locked",void 0!==R[R.pickedList].storedData.listUnlocks&&"unlocked"===R[R.pickedList].storedData.listUnlocks.timerHalf.active&&(R[R.pickedList].ops.counterMins=30),e()})})},G=function(){localforage.getItem("tinyTermsDefault",function(e,t){R.pickedList=t,R[R.pickedList]={},R[R.pickedList].storedData={},R[R.pickedList].ops=U,R.storedName="tinyTerms"+R.pickedList,localforage.setItem(R.storedName,R[R.pickedList],function(){localforage.getItem("tinyTerms.uploadedLists",function(e,t){var n=void 0;t=t||{},n=t.hasOwnProperty(R.pickedList)?t[R.pickedList].sheetURL:R.listChoices[R.pickedList].sheetURL,w("Couldn't load the list URL, did you copy it correctly?",function(){localforage.removeItem(R.storedName).then(function(){localforage.removeItem(R.pickedList)}),B=!1}),z(n,$)})})})},z=function(e,t){R.postBuildCallback=t,Tabletop.init({key:e,callback:D,simpleSheet:!1})},$=function(){V(Q),R[R.pickedList].storedData.firstTime=!1,localforage.setItem(R.storedName,R[R.pickedList])},Z=function(){void 0===R[R.pickedList].storedData.dateOpened&&(localforage.removeItem(R.storedName).then(function(){localforage.removeItem("tinyTermsDefault").then(function(){localforage.removeItem(R.pickedList)})}),B=!1),e(),Q()},Q=function(){var e=void 0;!1===R[R.pickedList].storedData.newDay?(e=R[R.pickedList].storedData.dailyTerms,void 0!==R[R.pickedList].storedData.dailyQuery&&!0!==R[R.pickedList].storedData.queryComplete&&f()):(e=I(),delete R[R.pickedList].storedData.revealedTermCount,delete R[R.pickedList].storedData.revealCountdowns,delete R[R.pickedList].storedData.dailyQuery,delete R[R.pickedList].storedData.dailyReminder,delete R[R.pickedList].storedData.hearts,void 0!==R[R.pickedList].storedData.listUnlocks&&(R[R.pickedList].storedData.listUnlocks.timerHalf.active="locked"),R[R.pickedList].storedData.revealGoal=R[R.pickedList].storedData.revealGoal||{},R[R.pickedList].storedData.revealGoal.complete=!1,void 0!==R[R.pickedList].storedData.viewedTerms&&f(),R[R.pickedList].storedData.remindedTerms=R[R.pickedList].storedData.remindedTerms||{}),l(e),u(),R[R.pickedList].storedData.dateOpened=t(),R[R.pickedList].storedData.dailyTerms=e,localforage.setItem(R.storedName,R[R.pickedList]),R[R.pickedList].storedData.queryComplete=R[R.pickedList].storedData.queryComplete||{},m(),v(),g(),y(),_(),k(),h(),c(),P(),H(),Y(),x(),B=!1,!0===R.tutComplete&&"undefined"!=typeof cordova&&localforage.getItem("tinyTerms.askNotify",function(e,t){if(null===t){var n=document.querySelector(".m-modal");n.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");n.querySelector(".content").innerHTML='<header>\n\t\t\t\t\t\t\t\t<h2 class="">Setup reminders</h2>\n\t\t\t\t\t\t\t</header>\n\t\t\t\t\t\t\t<p>Tiny Terms allows you to add reminders, these notifications are helpful if you want to really commit to learning those terms.</p>\n\t\t\t\t\t\t\t<p><strong>(You can change reminder settings from the menu)</strong></p>\n\t\t\t\t\t\t\t<button class="remind-yes width">Setup reminders</button>\n\t\t\t\t\t\t\t',document.querySelector(".remind-yes").addEventListener("click",function(e){e.preventDefault(),A()}),t=!0,localforage.setItem("tinyTerms.askNotify",t)}}),setTimeout(function(){document.getElementsByTagName("body")[0].classList.remove("loading"),document.querySelector(".m-query").classList.add("animated","slideInDown"),null!==R.tutComplete&&!1!==R.tutComplete||O()},R[R.pickedList].ops.loadDelay),!0===R[R.pickedList].ops.debug&&console.log(R)};return R}();!function(e,t){if("function"==typeof define&&define.amd)define(["exports","moment","Draggabilly"],t);else if("undefined"!=typeof exports)t(exports,require("moment"),require("Draggabilly"));else{var n={exports:{}};t(n.exports,e.moment,e.Draggabilly),e.mdDateTimePicker=n.exports}}(this,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=i(t),r=i(n),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t){var n=t.type,i=t.init,r=void 0===i?(0,s.default)():i,a=t.past,l=void 0===a?(0,s.default)().subtract(21,"years"):a,d=t.future,c=void 0===d?r:d,u=t.mode,h=void 0!==u&&u,f=t.orientation,m=void 0===f?"LANDSCAPE":f,p=t.trigger,g=void 0===p?"":p,v=t.ok,y=void 0===v?"ok":v,_=t.cancel,k=void 0===_?"cancel":_,b=t.colon,L=void 0===b||b,w=t.autoClose,S=void 0!==w&&w,D=t.inner24,T=void 0!==D&&D,M=t.prevHandle,C=void 0===M?'<div class="mddtp-prev-handle"></div>':M,E=t.nextHandle,x=void 0===E?'<div class="mddtp-next-handle"></div>':E;o(this,e),this._type=n,this._init=r,this._past=l,this._future=c,this._mode=h,this._orientation=m,this._trigger=g,this._ok=y,this._cancel=k,this._colon=L,this._autoClose=S,this._inner24=T,this._prevHandle=C,this._nextHandle=x,this._sDialog={},document.getElementById("mddtp-picker__"+this._type)||this._buildDialog()}return a(e,[{key:"hide",value:function(){this._selectDialog(),this._hideDialog()}},{key:"show",value:function(){this._selectDialog(),"date"===this._type?this._initDateDialog(this._init):"time"===this._type&&this._initTimeDialog(this._init),this._showDialog()}},{key:"toggle",value:function(){this._selectDialog(),e.dialog.state?this.hide():this.show()}},{key:"_selectDialog",value:function(){this._sDialog.picker=document.getElementById("mddtp-picker__"+[this._type]);for(var e=["viewHolder","years","header","cancel","ok","left","right","previous","current","next","subtitle","title","titleDay","titleMonth","AM","PM","needle","hourView","minuteView","hour","minute","fakeNeedle","circularHolder","circle","dotSpan"],t=e.length;t--;)this._sDialog[e[t]]=document.getElementById("mddtp-"+this._type+"__"+e[t]);this._sDialog.tDate=this._init.clone(),this._sDialog.sDate=this._init.clone()}},{key:"_showDialog",value:function(){var t=this,n="zoomIn";e.dialog.state=!0,this._sDialog.picker.classList.remove("mddtp-picker--inactive"),this._sDialog.picker.classList.add(n),"PORTRAIT"===this._orientation&&this._sDialog.picker.classList.add("mddtp-picker--portrait"),setTimeout(function(){t._sDialog.picker.classList.remove(n)},300)}},{key:"_hideDialog",value:function(){var t=this,n=this._sDialog.years,i=t._sDialog.title,o=t._sDialog.subtitle,s=this._sDialog.viewHolder,r=this._sDialog.AM,a=this._sDialog.PM,l=this._sDialog.minute,d=this._sDialog.hour,c=this._sDialog.minuteView,u=this._sDialog.hourView,h=this._sDialog.picker,f=this._sDialog.needle,m=this._sDialog.dotSpan,p="mddtp-picker__color--active",g="zoomOut",v="mddtp-picker__circularView--hidden";e.dialog.state=!1,e.dialog.view=!0,this._sDialog.picker.classList.add(g),"date"===this._type?(n.classList.remove("zoomIn",g),n.classList.add("mddtp-picker__years--invisible"),i.classList.remove(p),o.classList.add(p),s.classList.remove(g)):(r.classList.remove(p),a.classList.remove(p),l.classList.remove(p),d.classList.add(p),c.classList.add(v),u.classList.remove(v),o.setAttribute("style","display: none"),m.setAttribute("style","display: none"),f.className="mddtp-picker__selection"),setTimeout(function(){t._sDialog.picker.classList.remove("mddtp-picker--portrait"),t._sDialog.picker.classList.remove(g),t._sDialog.picker.classList.add("mddtp-picker--inactive");var e=h.cloneNode(!0);h.parentNode.replaceChild(e,h)},300)}},{key:"_buildDialog",value:function(){var e=this._type,t=document.createDocumentFragment(),n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),a=document.createElement("button"),l=document.createElement("button");if(n.id="mddtp-picker__"+e,n.classList.add("mddtp-picker"),n.classList.add("mddtp-picker-"+e),n.classList.add("mddtp-picker--inactive"),n.classList.add("animated"),this._addId(i,"header"),this._addClass(i,"header"),n.appendChild(i),this._addClass(o,"body"),o.appendChild(r),n.appendChild(o),"date"===this._type){var d=document.createElement("div"),c=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div"),f=document.createElement("div"),m=document.createElement("ul"),p=document.createElement("li"),g=document.createElement("li"),v=document.createElement("li"),y=document.createElement("button"),_=document.createElement("button"),k=document.createElement("ul");this._addId(d,"subtitle"),this._addClass(d,"subtitle"),this._addId(c,"title"),this._addClass(c,"title",["mddtp-picker__color--active"]),this._addId(u,"titleDay"),this._addId(h,"titleMonth"),c.appendChild(u),c.appendChild(h),i.appendChild(d),i.appendChild(c),this._addId(f,"viewHolder"),this._addClass(f,"viewHolder",["animated"]),this._addClass(m,"views"),this._addId(p,"previous"),p.classList.add("mddtp-picker__view"),this._addId(g,"current"),g.classList.add("mddtp-picker__view"),this._addId(v,"next"),v.classList.add("mddtp-picker__view"),this._addView(p),this._addView(g),this._addView(v),f.appendChild(m),m.appendChild(p),m.appendChild(g),m.appendChild(v),this._addId(y,"left"),y.classList.add("mddtp-button"),this._addClass(y,"left"),y.setAttribute("type","button"),y.innerHTML=this._prevHandle,this._addId(_,"right"),_.classList.add("mddtp-button"),this._addClass(_,"right"),_.setAttribute("type","button"),_.innerHTML=this._nextHandle,this._addId(k,"years"),this._addClass(k,"years",["mddtp-picker__years--invisible","animated"]),o.appendChild(f),o.appendChild(y),o.appendChild(_),o.appendChild(k)}else{var b=document.createElement("div"),L=document.createElement("span"),w=document.createElement("span"),S=document.createElement("span"),D=document.createElement("div"),T=document.createElement("div"),M=document.createElement("div"),C=document.createElement("div"),E=document.createElement("div"),x=document.createElement("span"),q=document.createElement("span"),N=document.createElement("span"),I=document.createElement("div"),O=document.createElement("div"),P=document.createElement("div");this._addId(b,"title"),this._addClass(b,"title"),this._addId(L,"hour"),L.classList.add("mddtp-picker__color--active"),w.textContent=":",this._addId(w,"dotSpan"),w.setAttribute("style","display: none"),this._addId(S,"minute"),this._addId(D,"subtitle"),this._addClass(D,"subtitle"),D.setAttribute("style","display: none"),this._addId(T,"AM"),T.textContent=(0,s.default)().localeData().meridiem(1,1,!0),this._addId(M,"PM"),M.textContent=(0,s.default)().localeData().meridiem(13,1,!0),b.appendChild(L),b.appendChild(w),b.appendChild(S),D.appendChild(T),D.appendChild(M),i.appendChild(b),i.appendChild(D),this._addId(C,"circularHolder"),this._addClass(C,"circularHolder"),this._addId(E,"needle"),E.classList.add("mddtp-picker__selection"),this._addClass(x,"dot"),this._addClass(q,"line"),this._addId(N,"circle"),this._addClass(N,"circle"),this._addId(I,"minuteView"),I.classList.add("mddtp-picker__circularView"),I.classList.add("mddtp-picker__circularView--hidden"),
this._addId(O,"fakeNeedle"),O.classList.add("mddtp-picker__circle--fake"),this._addId(P,"hourView"),P.classList.add("mddtp-picker__circularView"),E.appendChild(x),E.appendChild(q),E.appendChild(N),C.appendChild(E),C.appendChild(I),C.appendChild(O),C.appendChild(P),o.appendChild(C)}r.classList.add("mddtp-picker__action"),!0===this._autoClose&&(r.style.display="none"),this._addId(a,"cancel"),a.classList.add("mddtp-button"),a.setAttribute("type","button"),this._addId(l,"ok"),l.classList.add("mddtp-button"),l.setAttribute("type","button"),r.appendChild(a),r.appendChild(l),o.appendChild(r),t.appendChild(n),document.getElementsByTagName("body").item(0).appendChild(t)}},{key:"_initTimeDialog",value:function(e){var t=this._sDialog.hour,n=this._sDialog.minute,i=this._sDialog.subtitle,o=this._sDialog.dotSpan;if(this._mode){var s=parseInt(e.format("H"),10);0===s&&(s="00"),this._fillText(t,s),this._colon&&o.removeAttribute("style")}else this._fillText(t,e.format("h")),e._locale.isPM(e.format("A"))?this._sDialog.PM.classList.add("mddtp-picker__color--active"):this._sDialog.AM.classList.add("mddtp-picker__color--active"),i.removeAttribute("style"),o.removeAttribute("style");this._fillText(n,e.format("mm")),this._initHour(),this._initMinute(),this._attachEventHandlers(),this._changeM(),this._dragDial(),this._switchToView(t),this._switchToView(n),this._addClockEvent(),this._setButtonText()}},{key:"_initHour",value:function(){var e=this._sDialog.hourView,t=this._sDialog.needle,n="mddtp-hour__selected",i="mddtp-picker__cell--selected",o="mddtp-picker__cell--rotate-",s="mddtp-picker__cell",r=document.createDocumentFragment(),a=void 0;if(this._mode){var l=!0===this._inner24?10:5;a=parseInt(this._sDialog.tDate.format("H"),10);for(var d=1,c=l;d<=24;d++,c+=l){var u=document.createElement("div"),h=document.createElement("span");u.classList.add(s),h.textContent=24===d?"00":d;var f=c;!0===this._inner24&&d>12&&(f-=120,u.classList.add("mddtp-picker__cell--rotate24")),u.classList.add(o+f),a===d&&(u.id=n,u.classList.add(i),t.classList.add(o+f)),24===d&&0===a&&(u.id=n,u.classList.add(i),t.classList.add(o+f)),u.appendChild(h),r.appendChild(u)}}else{a=parseInt(this._sDialog.tDate.format("h"),10);for(var m=1,p=10;m<=12;m++,p+=10){var g=document.createElement("div"),v=document.createElement("span");g.classList.add(s),v.textContent=m,g.classList.add(o+p),a===m&&(g.id=n,g.classList.add(i),t.classList.add(o+p)),g.appendChild(v),r.appendChild(g)}}for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(r)}},{key:"_initMinute",value:function(){for(var e=this._sDialog.minuteView,t=parseInt(this._sDialog.tDate.format("m"),10),n=document.createDocumentFragment(),i=5,o=10;i<=60;i+=5,o+=10){var s=document.createElement("div"),r=document.createElement("span");s.classList.add("mddtp-picker__cell"),r.textContent=60===i?this._numWithZero(0):this._numWithZero(i),0===t&&(t=60),s.classList.add("mddtp-picker__cell--rotate-"+o),(t===i||t-1===i||t+1===i||1===t&&60===i)&&(s.id="mddtp-minute__selected",s.classList.add("mddtp-picker__cell--selected")),s.appendChild(r),n.appendChild(s)}for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(n)}},{key:"_initDateDialog",value:function(e){var t=this._sDialog.subtitle,n=this._sDialog.title,i=this._sDialog.titleDay,o=this._sDialog.titleMonth;this._fillText(t,e.format("YYYY")),this._fillText(i,e.format("ddd, ")),this._fillText(o,e.format("MMM D")),this._initYear(),this._initViewHolder(),this._attachEventHandlers(),this._changeMonth(),this._switchToView(t),this._switchToView(n),this._setButtonText()}},{key:"_initViewHolder",value:function(){var e=this._sDialog.tDate,t=this._sDialog.current,n=this._sDialog.previous,i=this._sDialog.next,o=this._past,r=this._future;e.isBefore(o,"month")&&(e=o.clone()),e.isAfter(r,"month")&&(e=r.clone()),this._sDialog.tDate=e,this._initMonth(t,e),this._initMonth(i,(0,s.default)(this._getMonth(e,1))),this._initMonth(n,(0,s.default)(this._getMonth(e,-1))),this._toMoveMonth()}},{key:"_initMonth",value:function(e,t){var n=t.format("MMMM YYYY"),i=e.getElementsByTagName("div");this._fillText(i[0],n);var o=document.createDocumentFragment(),r=i[3],a=s.default.weekdays(!0).indexOf(s.default.weekdays(!1,(0,s.default)(t).date(1).day())),l=-1,d=-1,c=parseInt((0,s.default)(t).endOf("month").format("D"),10)+a-1,u=a,h="mddtp-picker__cell",f=c;(0,s.default)().isSame(t,"month")&&(l=parseInt((0,s.default)().format("D"),10),l+=a-1),this._past.isSame(t,"month")&&(u=parseInt(this._past.format("D"),10),u+=a-1),this._future.isSame(t,"month")&&(f=parseInt(this._future.format("D"),10),f+=a-1),this._sDialog.sDate.isSame(t,"month")&&(d=parseInt((0,s.default)(t).format("D"),10),d+=a-1);for(var m=0;m<42;m++){var p=document.createElement("span"),g=m-a+1;m>=a&&m<=c&&(m>f||m<u?p.classList.add(h+"--disabled"):p.classList.add(h),this._fillText(p,g)),l===m&&p.classList.add(h+"--today"),d===m&&(p.classList.add(h+"--selected"),p.id="mddtp-date__selected"),o.appendChild(p)}for(;r.lastChild;)r.removeChild(r.lastChild);r.appendChild(o),this._addCellClickEvent(r)}},{key:"_initYear",value:function(){for(var e=this._sDialog.years,t=this._sDialog.tDate.year(),n=document.createDocumentFragment(),i=this._past.year(),o=this._future.year(),s=i;s<=o;s++){var r=document.createElement("li");r.textContent=s,s===t&&(r.id="mddtp-date__currentYear",r.classList.add("mddtp-picker__li--current")),n.appendChild(r)}for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(n),this._changeYear(e)}},{key:"_pointNeedle",value:function(t){var n=60,i=void 0,o=this._sDialog.circle,s=this._sDialog.fakeNeedle,r=this._sDialog.circularHolder,a=t._sDialog.needle;a.className="",a.classList.add("mddtp-picker__selection"),e.dialog.view?t._mode?(n=24,0===(i=parseInt(t._sDialog.sDate.format("H"),10))&&(i=24)):(n=12,i=t._sDialog.sDate.format("h")):(i=t._sDialog.sDate.format("m"),!0!==t._autoClose&&setTimeout(function(){var e=r.getBoundingClientRect(),t=o.getBoundingClientRect();s.setAttribute("style","left:"+(t.left-e.left)+"px;top:"+(t.top-e.top)+"px")},300));var l=t._calcRotation(n,parseInt(i,10));l&&a.classList.add(l)}},{key:"_switchToView",value:function(e){var t=this;"date"==this._type?e.onclick=function(){t._switchToDateView(e,t)}:(!0===this._inner24&&t._mode&&(parseInt(t._sDialog.sDate.format("H"),10)>12?t._sDialog.needle.classList.add("mddtp-picker__cell--rotate24"):t._sDialog.needle.classList.remove("mddtp-picker__cell--rotate24")),e.onclick=function(){t._switchToTimeView(t)})}},{key:"_switchToTimeView",value:function(t){var n=t._sDialog.hourView,i=t._sDialog.minuteView,o=t._sDialog.hour,s=t._sDialog.minute,r="mddtp-picker__color--active",a="mddtp-picker__circularView--hidden";n.classList.toggle(a),i.classList.toggle(a),o.classList.toggle(r),s.classList.toggle(r),e.dialog.view=!e.dialog.view,t._pointNeedle(t)}},{key:"_switchToDateView",value:function(t,n){t.setAttribute("disabled","");var i=n._sDialog.viewHolder,o=n._sDialog.years,s=n._sDialog.title,r=n._sDialog.subtitle,a=document.getElementById("mddtp-date__currentYear");e.dialog.view?(i.classList.add("zoomOut"),o.classList.remove("mddtp-picker__years--invisible"),o.classList.add("zoomIn"),a.scrollIntoViewIfNeeded&&a.scrollIntoViewIfNeeded()):(o.classList.add("zoomOut"),i.classList.remove("zoomOut"),i.classList.add("zoomIn"),setTimeout(function(){o.classList.remove("zoomIn","zoomOut"),o.classList.add("mddtp-picker__years--invisible"),i.classList.remove("zoomIn")},300)),s.classList.toggle("mddtp-picker__color--active"),r.classList.toggle("mddtp-picker__color--active"),e.dialog.view=!e.dialog.view,setTimeout(function(){t.removeAttribute("disabled")},300)}},{key:"_addClockEvent",value:function(){var e=this,t=this._sDialog.hourView,n=this._sDialog.minuteView,i="mddtp-picker__cell--selected";t.onclick=function(t){var n="mddtp-hour__selected",o=document.getElementById(n),s=0;t.target&&"SPAN"==t.target.nodeName&&(o.id="",o.classList.remove(i),t.target.parentNode.classList.add(i),t.target.parentNode.id=n,s=e._mode?parseInt(t.target.textContent,10):"AM"===e._sDialog.sDate.format("A")?t.target.textContent:parseInt(t.target.textContent,10)+12,e._sDialog.sDate.hour(s),e._sDialog.hour.textContent=t.target.textContent,e._pointNeedle(e),setTimeout(function(){e._switchToTimeView(e)},700))},n.onclick=function(t){var n="mddtp-minute__selected",o=document.getElementById(n),s=0;t.target&&"SPAN"==t.target.nodeName&&(o&&(o.id="",o.classList.remove(i)),t.target.parentNode.classList.add(i),t.target.parentNode.id=n,s=t.target.textContent,e._sDialog.sDate.minute(s),e._sDialog.minute.textContent=s,e._pointNeedle(e),!0===e._autoClose&&e._sDialog.ok.onclick())}}},{key:"_addCellClickEvent",value:function(e){var t=this;e.onclick=function(e){if(e.target&&"SPAN"==e.target.nodeName&&e.target.classList.contains("mddtp-picker__cell")){var n=e.target.textContent,i=t._sDialog.tDate.date(n),o="mddtp-date__selected",s="mddtp-picker__cell--selected",r=document.getElementById(o),a=t._sDialog.subtitle,l=t._sDialog.titleDay,d=t._sDialog.titleMonth;r&&(r.classList.remove(s),r.id=""),e.target.classList.add(s),e.target.id=o,t._sDialog.sDate=i.clone(),t._fillText(a,i.year()),t._fillText(l,i.format("ddd, ")),t._fillText(d,i.format("MMM D")),!0===t._autoClose&&t._sDialog.ok.onclick()}}}},{key:"_toMoveMonth",value:function(){var e=this._sDialog.tDate,t=this._sDialog.left,n=this._sDialog.right,i=this._past,o=this._future;t.removeAttribute("disabled"),n.removeAttribute("disabled"),t.classList.remove("mddtp-button--disabled"),n.classList.remove("mddtp-button--disabled"),e.isSame(i,"month")&&(t.setAttribute("disabled",""),t.classList.add("mddtp-button--disabled")),e.isSame(o,"month")&&(n.setAttribute("disabled",""),n.classList.add("mddtp-button--disabled"))}},{key:"_changeMonth",value:function(){function e(e,s){var r=!1,a=t._sDialog.next,l=t._sDialog.current,d=t._sDialog.previous;n.setAttribute("disabled",""),i.setAttribute("disabled",""),l.classList.add(e),d.classList.add(e),a.classList.add(e);var c=s.cloneNode(!0),u=void 0;s===a?(u=d,l.parentNode.appendChild(c),a.id=l.id,l.id=d.id,d=l,l=a,a=c):(r=!0,u=a,d.id=l.id,l.id=a.id,a=l,l=d),setTimeout(function(){s===d&&(l.parentNode.insertBefore(c,l),d=c),t._sDialog.next=a,t._sDialog.current=l,t._sDialog.previous=d,l.classList.add(o),a.classList.add(o),d.classList.add(o),l.classList.remove(e),a.classList.remove(e),d.classList.remove(e),u.parentNode.removeChild(u)},300),setTimeout(function(){l.classList.remove(o),a.classList.remove(o),d.classList.remove(o),t._sDialog.tDate=r?t._getMonth(t._sDialog.tDate,-1):t._getMonth(t._sDialog.tDate,1),t._initViewHolder()},350),setTimeout(function(){n.classList.contains("mddtp-button--disabled")||n.removeAttribute("disabled"),i.classList.contains("mddtp-button--disabled")||i.removeAttribute("disabled")},400)}var t=this,n=this._sDialog.left,i=this._sDialog.right,o="mddtp-picker__view--pause";n.onclick=function(){e("mddtp-picker__view--right",t._sDialog.previous)},i.onclick=function(){e("mddtp-picker__view--left",t._sDialog.next)}}},{key:"_changeYear",value:function(e){var t=this;e.onclick=function(n){if(n.target&&"LI"==n.target.nodeName){var i=document.getElementById("mddtp-date__currentYear");i.id="",i.classList.remove("mddtp-picker__li--current"),n.target.id="mddtp-date__currentYear",n.target.classList.add("mddtp-picker__li--current"),t._switchToDateView(e,t),t._sDialog.tDate.year(parseInt(n.target.textContent,10)),t._initViewHolder()}}}},{key:"_changeM",value:function(){var e=this,t=this._sDialog.AM,n=this._sDialog.PM;t.onclick=function(i){var o="AM";e._sDialog.sDate._locale.isPM(e._sDialog.sDate.format("A"))&&(o="PM"),"PM"===o&&(e._sDialog.sDate.subtract(12,"h"),t.classList.toggle("mddtp-picker__color--active"),n.classList.toggle("mddtp-picker__color--active"))},n.onclick=function(i){var o="AM";e._sDialog.sDate._locale.isPM(e._sDialog.sDate.format("A"))&&(o="PM"),"AM"===o&&(e._sDialog.sDate.add(12,"h"),t.classList.toggle("mddtp-picker__color--active"),n.classList.toggle("mddtp-picker__color--active"))}}},{key:"_dragDial",value:function(){var e=this,t=this._sDialog.needle,n=this._sDialog.circle,i=this._sDialog.fakeNeedle,o=this._sDialog.circularHolder,s=this._sDialog.minute,a="mddtp-picker__selection--quick",l="mddtp-picker__cell--selected",d=o.getBoundingClientRect(),c=void 0,u=new r.default(i,{containment:!0});u.on("pointerDown",function(e){d=o.getBoundingClientRect()}),u.on("pointerMove",function(e){var n=e.clientX,i=e.clientY;void 0===n&&(void 0===e.pageX?e.touches&&e.touches.length>0?(n=e.touches[0].clientX,i=e.touches[0].clientY):console.error("coult not detect pageX, pageY"):(n=pageX-document.body.scrollLeft-document.documentElement.scrollLeft,i=pageY-document.body.scrollTop-document.documentElement.scrollTop));var o=n-d.left-d.width/2,s=i-d.top-d.height/2,r=Math.atan2(-s,o);t.className="",r<0&&(r+=2*Math.PI),r*=180/Math.PI,r=360-r,r>270&&(r-=360),c=parseInt(r/6);var l=Math.abs(6*c-r);Math.abs(6*(c+1)-r)<l&&c++,c+=15,t.classList.add("mddtp-picker__selection"),t.classList.add(a),t.classList.add("mddtp-picker__cell--rotate-"+2*c)});var h=function(o){var r=e._sDialog.minuteView.getElementsByTagName("div"),u="mddtp-minute__selected",h=document.getElementById(u),f=n.getBoundingClientRect();i.setAttribute("style","left:"+(f.left-d.left)+"px;top:"+(f.top-d.top)+"px"),t.classList.remove(a);var m=c;1===m&&(m=60),m=e._nearestDivisor(m,5),60===c&&(c=0),h&&(h.id="",h.classList.remove(l)),m>0&&(m/=5,m--,r[m].id=u,r[m].classList.add(l)),s.textContent=e._numWithZero(c),e._sDialog.sDate.minutes(c)};u.on("pointerUp",h),u.on("dragEnd",h)}},{key:"_attachEventHandlers",value:function(){var e=this,t=this._sDialog.ok,n=this._sDialog.cancel,i=new CustomEvent("onCancel"),o=new CustomEvent("onOk");n.onclick=function(){e.toggle(),e._trigger&&e._trigger.dispatchEvent(i)},t.onclick=function(){e._init=e._sDialog.sDate,e.toggle(),e._trigger&&e._trigger.dispatchEvent(o)}}},{key:"_setButtonText",value:function(){this._sDialog.cancel.textContent=this._cancel,this._sDialog.ok.textContent=this._ok}},{key:"_getMonth",value:function(e,t){var n=void 0;return n=e.clone(),t>0?n.add(Math.abs(t),"M"):n.subtract(Math.abs(t),"M")}},{key:"_nearestDivisor",value:function(e,t){return e%t==0?e:(e-1)%t==0?e-1:(e+1)%t==0?e+1:-1}},{key:"_numWithZero",value:function(e){return e>9?""+e:"0"+e}},{key:"_fillText",value:function(e,t){e.firstChild?e.firstChild.nodeValue=t:e.appendChild(document.createTextNode(t))}},{key:"_addId",value:function(e,t){e.id="mddtp-"+this._type+"__"+t}},{key:"_addClass",value:function(e,t,n){e.classList.add("mddtp-picker__"+t);var i=0;for(n&&(i=n.length,n.reverse());i--;)e.classList.add(n[i])}},{key:"_addView",value:function(e){for(var t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),r=s.default.weekdaysMin(!0).reverse(),a=7;a--;){var l=document.createElement("span");l.textContent=r[a],i.appendChild(l)}this._addClass(t,"month"),this._addClass(n,"grid"),this._addClass(i,"th"),this._addClass(o,"tr"),e.appendChild(t),e.appendChild(n),n.appendChild(i),n.appendChild(o)}},{key:"_calcRotation",value:function(e,t){return t*=12===e?10:24===e?5:2,60===e&&0===t&&(t=120),"mddtp-picker__cell--rotate-"+t}},{key:"time",get:function(){return this._init},set:function(e){e&&(this._init=e)}},{key:"trigger",get:function(){return this._trigger},set:function(e){e&&(this._trigger=e)}}],[{key:"dialog",get:function(){return e._dialog},set:function(t){e.dialog=t}}]),e}();l._dialog={view:!0,state:!1},e.default=l});
//# sourceMappingURL=script.js.map
