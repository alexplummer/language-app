/*!
    localForage -- Offline Storage, Improved
    Version 1.4.3
    https://mozilla.github.io/localForage
    (c) 2013-2016 Mozilla, Apache License 2.0
*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.localforage=e()}}(function(){return function e(t,n,o){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return i(n?n:e)},d,d.exports,e,t,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){(function(e){"use strict";function n(){d=!0;for(var e,t,n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}d=!1}function o(e){1!==u.push(e)||d||i()}var i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var a=0,s=new r(n),l=e.document.createTextNode("");s.observe(l,{characterData:!0}),i=function(){l.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}var d,u=[];t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";function o(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,e!==o&&l(this,e)}function r(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var o;try{o=t(n)}catch(t){return h.reject(e,t)}o===e?h.reject(e,new TypeError("Cannot resolve promise with itself")):h.resolve(e,o)})}function s(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function l(e,t){function n(t){r||(r=!0,h.reject(e,t))}function o(t){r||(r=!0,h.resolve(e,t))}function i(){t(o,n)}var r=!1,a=c(i);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function d(e){return e instanceof this?e:h.resolve(new this(o),e)}function u(e){var t=new this(o);return h.reject(t,e)}function f(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var r=new Array(n),a=0,s=-1,l=new this(o);++s<n;)!function(e,o){function s(e){r[o]=e,++a!==n||i||(i=!0,h.resolve(l,r))}t.resolve(e).then(s,function(e){i||(i=!0,h.reject(l,e))})}(e[s],s);return l}function m(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var r=-1,a=new this(o);++r<n;)!function(e){t.resolve(e).then(function(e){i||(i=!0,h.resolve(a,e))},function(e){i||(i=!0,h.reject(a,e))})}(e[r]);return a}var p=e(1),h={},g=["REJECTED"],y=["FULFILLED"],v=["PENDING"];t.exports=n=i,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===y||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(o);if(this.state!==v){a(n,this.state===y?e:t,this.outcome)}else this.queue.push(new r(n,e,t));return n},r.prototype.callFulfilled=function(e){h.resolve(this.promise,e)},r.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},r.prototype.callRejected=function(e){h.reject(this.promise,e)},r.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},h.resolve=function(e,t){var n=c(s,t);if("error"===n.status)return h.reject(e,n.value);var o=n.value;if(o)l(e,o);else{e.state=y,e.outcome=t;for(var i=-1,r=e.queue.length;++i<r;)e.queue[i].callFulfilled(t)}return e},h.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,o=e.queue.length;++n<o;)e.queue[n].callRejected(t);return e},n.resolve=d,n.reject=u,n.all=f,n.race=m},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new n,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(t.type)}}function r(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function a(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function s(e){for(var t=e.length,n=new ArrayBuffer(t),o=new Uint8Array(n),i=0;i<t;i++)o[i]=e.charCodeAt(i);return n}function l(e){return new ie(function(t){var n=i([""]);e.objectStore(re).put(n,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/);t(navigator.userAgent.match(/Edge\//)||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function c(e){return"boolean"==typeof ne?ie.resolve(ne):l(e).then(function(e){return ne=e})}function d(e){var t=oe[e.name],n={};n.promise=new ie(function(e){n.resolve=e}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function u(e){var t=oe[e.name],n=t.deferredOperations.pop();n&&n.resolve()}function f(e,t){return new ie(function(n,o){if(e.db){if(!t)return n(e.db);d(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var r=te.open.apply(te,i);t&&(r.onupgradeneeded=function(t){var n=r.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(re)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),r.onerror=function(){o(r.error)},r.onsuccess=function(){n(r.result),u(e)}})}function m(e){return f(e,!1)}function p(e){return f(e,!0)}function h(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,i=e.version>e.db.version;if(o&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var r=e.db.version+1;r>e.version&&(e.version=r)}return!0}return!1}function g(e){return new ie(function(t,n){var o=new FileReader;o.onerror=n,o.onloadend=function(n){t({__local_forage_encoded_blob:!0,data:btoa(n.target.result||""),type:e.type})},o.readAsBinaryString(e)})}function y(e){return i([s(atob(e.data))],{type:e.type})}function v(e){return e&&e.__local_forage_encoded_blob}function b(e){var t=this,n=t._initReady().then(function(){var e=oe[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return a(n,e,e),n}function L(e){function t(){return ie.resolve()}var n=this,o={db:null};if(e)for(var i in e)o[i]=e[i];oe||(oe={});var r=oe[o.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},oe[o.name]=r),r.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=b);for(var a=[],s=0;s<r.forages.length;s++){var l=r.forages[s];l!==n&&a.push(l._initReady().catch(t))}var c=r.forages.slice(0);return ie.all(a).then(function(){return o.db=r.db,m(o)}).then(function(e){return o.db=e,h(o,n._defaultConfig.version)?p(o):e}).then(function(e){o.db=r.db=e,n._dbInfo=o;for(var t=0;t<c.length;t++){var i=c[t];i!==n&&(i._dbInfo.db=o.db,i._dbInfo.version=o.version)}})}function k(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo,r=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),a=r.get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),v(e)&&(e=y(e)),t(e)},a.onerror=function(){o(a.error)}}).catch(o)});return r(o,t),o}function _(e,t){var n=this,o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo,r=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),a=r.openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var o=n.value;v(o)&&(o=y(o));var i=e(o,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){o(a.error)}}).catch(o)});return r(o,t),o}function S(e,t,n){var o=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new ie(function(n,i){var r;o.ready().then(function(){return r=o._dbInfo,"[object Blob]"===ae.call(t)?c(r.db).then(function(e){return e?t:g(t)}):t}).then(function(t){var o=r.db.transaction(r.storeName,"readwrite"),a=o.objectStore(r.storeName);null===t&&(t=void 0),o.oncomplete=function(){void 0===t&&(t=null),n(t)},o.onabort=o.onerror=function(){i(s.error?s.error:s.transaction.error)};var s=a.put(t,e)}).catch(i)});return r(i,n),i}function w(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo,r=i.db.transaction(i.storeName,"readwrite"),a=r.objectStore(i.storeName),s=a.delete(e);r.oncomplete=function(){t()},r.onerror=function(){o(s.error)},r.onabort=function(){o(s.error?s.error:s.transaction.error)}}).catch(o)});return r(o,t),o}function T(e){var t=this,n=new ie(function(e,n){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readwrite"),r=i.objectStore(o.storeName),a=r.clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){n(a.error?a.error:a.transaction.error)}}).catch(n)});return r(n,e),n}function D(e){var t=this,n=new ie(function(e,n){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),r=i.count();r.onsuccess=function(){e(r.result)},r.onerror=function(){n(r.error)}}).catch(n)});return r(n,e),n}function q(e,t){var n=this,o=new ie(function(t,o){if(e<0)return void t(null);n.ready().then(function(){var i=n._dbInfo,r=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),a=!1,s=r.openCursor();s.onsuccess=function(){var n=s.result;if(!n)return void t(null);0===e?t(n.key):a?t(n.key):(a=!0,n.advance(e))},s.onerror=function(){o(s.error)}}).catch(o)});return r(o,t),o}function N(e){var t=this,n=new ie(function(e,n){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),r=i.openCursor(),a=[];r.onsuccess=function(){var t=r.result;if(!t)return void e(a);a.push(t.key),t.continue()},r.onerror=function(){n(r.error)}}).catch(n)});return r(n,e),n}function E(e){var t,n,o,i,r,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),d=new Uint8Array(c);for(t=0;t<s;t+=4)n=le.indexOf(e[t]),o=le.indexOf(e[t+1]),i=le.indexOf(e[t+2]),r=le.indexOf(e[t+3]),d[l++]=n<<2|o>>4,d[l++]=(15&o)<<4|i>>2,d[l++]=(3&i)<<6|63&r;return c}function C(e){var t,n=new Uint8Array(e),o="";for(t=0;t<n.length;t+=3)o+=le[n[t]>>2],o+=le[(3&n[t])<<4|n[t+1]>>4],o+=le[(15&n[t+1])<<2|n[t+2]>>6],o+=le[63&n[t+2]];return n.length%3==2?o=o.substring(0,o.length-1)+"=":n.length%3==1&&(o=o.substring(0,o.length-2)+"=="),o}function I(e,t){var n="";if(e&&(n=Te.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Te.call(e.buffer))){var o,i=ue;e instanceof ArrayBuffer?(o=e,i+=me):(o=e.buffer,"[object Int8Array]"===n?i+=he:"[object Uint8Array]"===n?i+=ge:"[object Uint8ClampedArray]"===n?i+=ye:"[object Int16Array]"===n?i+=ve:"[object Uint16Array]"===n?i+=Le:"[object Int32Array]"===n?i+=be:"[object Uint32Array]"===n?i+=ke:"[object Float32Array]"===n?i+=_e:"[object Float64Array]"===n?i+=Se:t(new Error("Failed to get type for BinaryArray"))),t(i+C(o))}else if("[object Blob]"===n){var r=new FileReader;r.onload=function(){t(ue+pe+(ce+e.type+"~")+C(this.result))},r.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function x(e){if(e.substring(0,fe)!==ue)return JSON.parse(e);var t,n=e.substring(we),o=e.substring(fe,we);if(o===pe&&de.test(n)){var r=n.match(de);t=r[1],n=n.substring(r[0].length)}var a=E(n);switch(o){case me:return a;case pe:return i([a],{type:t});case he:return new Int8Array(a);case ge:return new Uint8Array(a);case ye:return new Uint8ClampedArray(a);case ve:return new Int16Array(a);case Le:return new Uint16Array(a);case be:return new Int32Array(a);case ke:return new Uint32Array(a);case _e:return new Float32Array(a);case Se:return new Float64Array(a);default:throw new Error("Unkown type: "+o)}}function M(e){var t=this,n={db:null};if(e)for(var o in e)n[o]="string"!=typeof e[o]?e[o].toString():e[o];var i=new ie(function(e,o){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return o(e)}n.db.transaction(function(i){i.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=n,e()},function(e,t){o(t)})})});return n.serializer=De,i}function A(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var o=n.rows.length?n.rows.item(0).value:null;o&&(o=i.serializer.deserialize(o)),t(o)},function(e,t){o(t)})})}).catch(o)});return r(o,t),o}function R(e,t){var n=this,o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName,[],function(n,o){for(var r=o.rows,a=r.length,s=0;s<a;s++){var l=r.item(s),c=l.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,l.key,s+1)))return void t(c)}t()},function(e,t){o(t)})})}).catch(o)});return r(o,t),o}function B(e,t,n){var o=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new ie(function(n,i){o.ready().then(function(){void 0===t&&(t=null);var r=t,a=o._dbInfo;a.serializer.serialize(t,function(t,o){o?i(o):a.db.transaction(function(o){o.executeSql("INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){n(r)},function(e,t){i(t)})},function(e){e.code===e.QUOTA_ERR&&i(e)})})}).catch(i)});return r(i,n),i}function O(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){o(t)})})}).catch(o)});return r(o,t),o}function j(e){var t=this,n=new ie(function(e,n){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("DELETE FROM "+o.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return r(n,e),n}function H(e){var t=this,n=new ie(function(e,n){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+o.storeName,[],function(t,n){e(n.rows.item(0).c)},function(e,t){n(t)})})}).catch(n)});return r(n,e),n}function U(e,t){var n=this,o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){t(n.rows.length?n.rows.item(0).key:null)},function(e,t){o(t)})})}).catch(o)});return r(o,t),o}function G(e){var t=this,n=new ie(function(e,n){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT key FROM "+o.storeName,[],function(t,n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).key);e(o)},function(e,t){n(t)})})}).catch(n)});return r(n,e),n}function P(e){var t=this,n={};if(e)for(var o in e)n[o]=e[o];return n.keyPrefix=n.name+"/",n.storeName!==t._defaultConfig.storeName&&(n.keyPrefix+=n.storeName+"/"),t._dbInfo=n,n.serializer=De,ie.resolve()}function z(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var o=localStorage.key(n);0===o.indexOf(e)&&localStorage.removeItem(o)}});return r(n,e),n}function F(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=n.ready().then(function(){var t=n._dbInfo,o=localStorage.getItem(t.keyPrefix+e);return o&&(o=t.serializer.deserialize(o)),o});return r(o,t),o}function W(e,t){var n=this,o=n.ready().then(function(){for(var t=n._dbInfo,o=t.keyPrefix,i=o.length,r=localStorage.length,a=1,s=0;s<r;s++){var l=localStorage.key(s);if(0===l.indexOf(o)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(i),a++)))return c}}});return r(o,t),o}function Q(e,t){var n=this,o=n.ready().then(function(){var t,o=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(o.keyPrefix.length)),t});return r(o,t),o}function X(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,o=[],i=0;i<n;i++)0===localStorage.key(i).indexOf(e.keyPrefix)&&o.push(localStorage.key(i).substring(e.keyPrefix.length));return o});return r(n,e),n}function Y(e){var t=this,n=t.keys().then(function(e){return e.length});return r(n,e),n}function J(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return r(o,t),o}function $(e,t,n){var o=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=o.ready().then(function(){void 0===t&&(t=null);var n=t;return new ie(function(i,r){var a=o._dbInfo;a.serializer.serialize(t,function(t,o){if(o)r(o);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||r(e),r(e)}})})});return r(i,n),i}function V(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function K(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Re(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}function Z(e){for(var t in Ce)if(Ce.hasOwnProperty(t)&&Ce[t]===e)return!0;return!1}var ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},te=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){}}();"undefined"==typeof Promise&&void 0!==e&&e(3);var ne,oe,ie=Promise,re="local-forage-detect-blob-support",ae=Object.prototype.toString,se={_driver:"asyncStorage",_initStorage:L,iterate:_,getItem:k,setItem:S,removeItem:w,clear:T,length:D,key:q,keys:N},le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce="~~local_forage_type~",de=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",fe=ue.length,me="arbf",pe="blob",he="si08",ge="ui08",ye="uic8",ve="si16",be="si32",Le="ur16",ke="ui32",_e="fl32",Se="fl64",we=fe+me.length,Te=Object.prototype.toString,De={serialize:I,deserialize:x,stringToBuffer:E,bufferToString:C},qe={_driver:"webSQLStorage",_initStorage:M,iterate:R,getItem:A,setItem:B,removeItem:O,clear:j,length:H,key:U,keys:G},Ne={_driver:"localStorageWrapper",_initStorage:P,iterate:W,getItem:F,setItem:$,removeItem:J,clear:z,length:Y,key:Q,keys:X},Ee={},Ce={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Ie=[Ce.INDEXEDDB,Ce.WEBSQL,Ce.LOCALSTORAGE],xe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],Me={description:"",driver:Ie.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},Ae={};Ae[Ce.INDEXEDDB]=function(){try{return!!te&&(!("undefined"!=typeof openDatabase&&"undefined"!=typeof navigator&&navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))&&(te&&"function"==typeof te.open&&"undefined"!=typeof IDBKeyRange))}catch(e){return!1}}(),Ae[Ce.WEBSQL]=function(){return"function"==typeof openDatabase}(),Ae[Ce.LOCALSTORAGE]=function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(e){return!1}}();var Re=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Be=function(){function e(t){o(this,e),this.INDEXEDDB=Ce.INDEXEDDB,this.LOCALSTORAGE=Ce.LOCALSTORAGE,this.WEBSQL=Ce.WEBSQL,this._defaultConfig=K({},Me),this._config=K({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":ee(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e)"storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this._config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var o=new ie(function(t,n){try{var o=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),r=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void n(i);if(Z(e._driver))return void n(r);for(var a=xe.concat("_initStorage"),s=0;s<a.length;s++){var l=a[s];if(!l||!e[l]||"function"!=typeof e[l])return void n(i)}var c=ie.resolve(!0);"_support"in e&&(c=e._support&&"function"==typeof e._support?e._support():ie.resolve(!!e._support)),c.then(function(n){Ae[o]=n,Ee[o]=e,t()},n)}catch(e){n(e)}});return a(o,t,n),o},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var o=this,i=ie.resolve().then(function(){if(!Z(e)){if(Ee[e])return Ee[e];throw new Error("Driver not found.")}switch(e){case o.INDEXEDDB:return se;case o.LOCALSTORAGE:return Ne;case o.WEBSQL:return qe}});return a(i,t,n),i},e.prototype.getSerializer=function(e){var t=ie.resolve(De);return a(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return a(n,e,e),n},e.prototype.setDriver=function(e,t,n){function o(){r._config.driver=r.driver()}function i(e){return function(){function t(){for(;n<e.length;){var i=e[n];return n++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(function(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}).catch(t)}o();var a=new Error("No available storage method found.");return r._driverSet=ie.reject(a),r._driverSet}var n=0;return t()}}var r=this;Re(e)||(e=[e]);var s=this._getSupportedDrivers(e),l=null!==this._driverSet?this._driverSet.catch(function(){return ie.resolve()}):ie.resolve();return this._driverSet=l.then(function(){var e=s[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=i(s)})}).catch(function(){o();var e=new Error("No available storage method found.");return r._driverSet=ie.reject(e),r._driverSet}),a(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Ae[e]},e.prototype._extend=function(e){K(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,o=e.length;n<o;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<xe.length;e++)V(this,xe[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),Oe=new Be;t.exports=Oe},{3:3}]},{},[4])(4)}),function(){"use strict";var e=!1;if("undefined"!=typeof process&&!process.browser){e=!0;var t=require("request".trim())}var n=!1,o=!1;try{void 0!==(new XMLHttpRequest).withCredentials?n=!0:"XDomainRequest"in window&&(n=!0,o=!0)}catch(e){}var i=Array.prototype.indexOf,r=function(e,t){var n=0,o=e.length;if(i&&e.indexOf===i)return e.indexOf(t);for(;n<o;n++)if(e[n]===t)return n;return-1},a=function(t){return this&&this instanceof a?("string"==typeof t&&(t={key:t}),this.callback=t.callback,this.wanted=t.wanted||[],this.key=t.key,this.simpleSheet=!!t.simpleSheet,this.parseNumbers=!!t.parseNumbers,this.wait=!!t.wait,this.reverse=!!t.reverse,this.postProcess=t.postProcess,this.debug=!!t.debug,this.query=t.query||"",this.orderby=t.orderby,this.endpoint=t.endpoint||"https://spreadsheets.google.com",this.singleton=!!t.singleton,this.simpleUrl=!(!t.simpleUrl&&!t.simple_url),this.callbackContext=t.callbackContext,this.prettyColumnNames=void 0===t.prettyColumnNames?!t.proxy:t.prettyColumnNames,void 0!==t.proxy&&(this.endpoint=t.proxy.replace(/\/$/,""),this.simpleUrl=!0,this.singleton=!0,n=!1),this.parameterize=t.parameterize||!1,this.singleton&&(void 0!==a.singleton&&this.log("WARNING! Tabletop singleton already defined"),a.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)(&|#|$)")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),/spreadsheets\/d/.test(this.key)&&(this.log("You passed the most recent version of Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)/")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.modelNames=[],this.model_names=this.modelNames,this.baseJsonPath="/feeds/worksheets/"+this.key+"/public/basic?alt=",this.baseJsonPath+=e||n?"json":"json-in-script",void(this.wait||this.fetch())):void this.log("You need to pass Tabletop a key!")):new a(t)};a.callbacks={},a.init=function(e){return new a(e)},a.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},a.prototype={fetch:function(e){void 0!==e&&(this.callback=e),this.requestData(this.baseJsonPath,this.loadSheets)},requestData:function(t,i){if(this.log("Requesting",t),e)this.serverSideFetch(t,i);else{var r=this.endpoint.split("//").shift()||"http";!n||o&&r!==location.protocol?this.injectScript(t,i):this.xhrFetch(t,i)}},xhrFetch:function(e,t){var n=o?new XDomainRequest:new XMLHttpRequest;n.open("GET",this.endpoint+e);var i=this;n.onload=function(){var e;try{e=JSON.parse(n.responseText)}catch(e){console.error(e)}t.call(i,e)},n.send()},injectScript:function(e,t){var n,o=document.createElement("script");if(this.singleton)t===this.loadSheets?n="Tabletop.singleton.loadSheets":t===this.loadSheet&&(n="Tabletop.singleton.loadSheet");else{var i=this;n="tt"+ +new Date+Math.floor(1e5*Math.random()),a.callbacks[n]=function(){var e=Array.prototype.slice.call(arguments,0);t.apply(i,e),o.parentNode.removeChild(o),delete a.callbacks[n]},n="Tabletop.callbacks."+n}var r=e+"&callback="+n;this.simpleUrl?e.indexOf("/list/")!==-1?o.src=this.endpoint+"/"+this.key+"-"+e.split("/")[4]:o.src=this.endpoint+"/"+this.key:o.src=this.endpoint+r,this.parameterize&&(o.src=this.parameterize+encodeURIComponent(o.src)),this.log("Injecting",o.src),document.getElementsByTagName("script")[0].parentNode.appendChild(o)},serverSideFetch:function(e,n){var o=this;this.log("Fetching",this.endpoint+e),t({url:this.endpoint+e,json:!0},function(e,t,i){if(e)return console.error(e);n.call(o,i)})},isWanted:function(e){return 0===this.wanted.length||r(this.wanted,e)!==-1},data:function(){if(0!==this.modelNames.length)return this.simpleSheet?(this.modelNames.length>1&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.modelNames[0]].all()):this.models},addWanted:function(e){r(this.wanted,e)===-1&&this.wanted.push(e)},loadSheets:function(t){var o,i,r=[];for(this.googleSheetName=t.feed.title.$t,this.foundSheetNames=[],o=0,i=t.feed.entry.length;o<i;o++)if(this.foundSheetNames.push(t.feed.entry[o].title.$t),this.isWanted(t.feed.entry[o].content.$t)){var a=t.feed.entry[o].link.length-1,s=t.feed.entry[o].link[a].href.split("/").pop(),l="/feeds/list/"+this.key+"/"+s+"/public/values?alt=";l+=e||n?"json":"json-in-script",this.query&&(l+="&tq="+this.query),this.orderby&&(l+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(l+="&reverse=true"),r.push(l)}for(this.sheetsToLoad=r.length,o=0,i=r.length;o<i;o++)this.requestData(r[o],this.loadSheet)},sheets:function(e){return void 0===e?this.models:void 0===this.models[e]?void 0:this.models[e]},sheetReady:function(e){this.models[e.name]=e,r(this.modelNames,e.name)===-1&&this.modelNames.push(e.name),0===--this.sheetsToLoad&&this.doCallback()},loadSheet:function(e){var t=this;new a.Model({data:e,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this,prettyColumnNames:this.prettyColumnNames,onReady:function(){t.sheetReady(this)}})},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&&"undefined"!=typeof console&&void 0!==console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},a.Model=function(e){var t,n,o,i;if(this.columnNames=[],this.column_names=this.columnNames,this.name=e.data.feed.title.$t,this.tabletop=e.tabletop,this.elements=[],this.onReady=e.onReady,this.raw=e.data,void 0===e.data.feed.entry)return e.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),this.originalColumns=[],this.elements=[],void this.onReady.call(this);for(var r in e.data.feed.entry[0])/^gsx/.test(r)&&this.columnNames.push(r.replace("gsx$",""));for(this.originalColumns=this.columnNames,this.original_columns=this.originalColumns,t=0,o=e.data.feed.entry.length;t<o;t++){var a=e.data.feed.entry[t],s={};for(n=0,i=this.columnNames.length;n<i;n++){var l=a["gsx$"+this.columnNames[n]];void 0!==l?e.parseNumbers&&""!==l.$t&&!isNaN(l.$t)?s[this.columnNames[n]]=+l.$t:s[this.columnNames[n]]=l.$t:s[this.columnNames[n]]=""}void 0===s.rowNumber&&(s.rowNumber=t+1),e.postProcess&&e.postProcess(s),this.elements.push(s)}e.prettyColumnNames?this.fetchPrettyColumns():this.onReady.call(this)},a.Model.prototype={all:function(){return this.elements},fetchPrettyColumns:function(){if(!this.raw.feed.link[3])return this.ready();var e=this.raw.feed.link[3].href.replace("/feeds/list/","/feeds/cells/").replace("https://spreadsheets.google.com",""),t=this;this.tabletop.requestData(e,function(e){t.loadPrettyColumns(e)})},ready:function(){this.onReady.call(this)},loadPrettyColumns:function(e){for(var t={},n=this.columnNames,o=0,i=n.length;o<i;o++)void 0!==e.feed.entry[o].content.$t?t[n[o]]=e.feed.entry[o].content.$t:t[n[o]]=n[o];this.prettyColumns=t,this.pretty_columns=this.prettyColumns,this.prettifyElements(),this.ready()},prettifyElements:function(){var e,t,n,o,i=[],r=[];for(t=0,o=this.columnNames.length;t<o;t++)r.push(this.prettyColumns[this.columnNames[t]]);for(e=0,n=this.elements.length;e<n;e++){var a={}
;for(t=0,o=this.columnNames.length;t<o;t++){a[this.prettyColumns[this.columnNames[t]]]=this.elements[e][this.columnNames[t]]}i.push(a)}this.elements=i,this.columnNames=r},toArray:function(){var e,t,n,o,i=[];for(e=0,n=this.elements.length;e<n;e++){var r=[];for(t=0,o=this.columnNames.length;t<o;t++)r.push(this.elements[e][this.columnNames[t]]);i.push(r)}return i}},"undefined"!=typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):window.Tabletop=a}();var tinyTermsApp=function(){"use strict";function e(e){console.log(e)}function t(){var e=n(),t=[];t=Array.from(A[A.pickedList].storedData.dateOpened),o(e,t)===!0?A[A.pickedList].ops.addDay===!0?A[A.pickedList].storedData.newDay=!0:A[A.pickedList].storedData.newDay=!1:A[A.pickedList].storedData.newDay=!0}function n(){var e=[],t=(new Date).getDate(),n=(new Date).getMonth();return e.push([t,n]),e}function o(e,t){return JSON.stringify(e)==JSON.stringify(t)}function i(e,t){for(var n=0;n<e.length;n++)!function(n){e[n].addEventListener("click",function(e){e.preventDefault(),t(n)})}(n)}function r(e){var t=Object.keys(e);return t[t.length*Math.random()<<0]}function a(e,t){if(e===t)return!0;if(e.toUpperCase()===t.toUpperCase())return!0;var n=function(e){var t=void 0,n=void 0,o=void 0,i=void 0,r=void 0;for(i=e.toLowerCase(),r=new Array(i.length-1),t=n=0,o=r.length;n<=o;t=n+=1)r[t]=i.slice(t,t+2);return r};return function(e,t){var o=void 0,i=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,d=void 0,u=void 0,f=void 0;if(e.length>0&&t.length>0){for(l=n(e),c=n(t),d=l.length+c.length,o=0,i=0,a=l.length;i<a;i++)for(u=l[i],r=0,s=c.length;r<s;r++)f=c[r],u===f&&o++;if(o>0)return 2*o/d}return 0}(e,t)>A[A.pickedList].ops.wordAccuracy&&"mispelled"}function s(e){function t(){localforage.getItem("tinyTerms"+o,function(e,t){if(null!==t)A.pickedList=o,n(A.pickedList);else if(void 0!==navigator.connection){var i=T();B=!1,"Unknown"===i||"2G"===i||"Cell"===i||"None"===i?S("Please connect to the internet to download list, after it will be available offline.",function(){document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),k()})}):O()}else O()})}function n(e){A.storedName="tinyTerms"+e,localforage.getItem("tinyTerms"+e,function(e,t){A[A.pickedList]=t,A[A.pickedList].ops=R,U()})}var o=void 0;localforage.getItem("tinyTerms.tutComplete",function(e,n){A.tutComplete=n,localforage.getItem("tinyTermsDefault",function(e,n){o=n,null===o?(B=!1,k()):t()})})}var l={fonts:{feather:["icon-lines-and-angles_accommodate","icon-lines-and-angles_adapt","icon-lines-and-angles_add","icon-lines-and-angles_adjust","icon-lines-and-angles_agitate","icon-lines-and-angles_agree","icon-lines-and-angles_aid","icon-lines-and-angles_alarm","icon-lines-and-angles_alert","icon-lines-and-angles_amaze","icon-lines-and-angles_amplify","icon-lines-and-angles_analyze","icon-lines-and-angles_announce","icon-lines-and-angles_arrest","icon-lines-and-angles_ascend","icon-lines-and-angles_ask","icon-lines-and-angles_assist","icon-lines-and-angles_attract","icon-lines-and-angles_augment","icon-lines-and-angles_bake","icon-lines-and-angles_balance","icon-lines-and-angles_battle","icon-lines-and-angles_be","icon-lines-and-angles_believe","icon-lines-and-angles_birth","icon-lines-and-angles_blaze","icon-lines-and-angles_blend","icon-lines-and-angles_bloom","icon-lines-and-angles_blow","icon-lines-and-angles_bookmark","icon-lines-and-angles_bootleg","icon-lines-and-angles_bounce","icon-lines-and-angles_break","icon-lines-and-angles_brew","icon-lines-and-angles_broadcast","icon-lines-and-angles_browse","icon-lines-and-angles_build","icon-lines-and-angles_burn","icon-lines-and-angles_bury","icon-lines-and-angles_buy","icon-lines-and-angles_caffeinate","icon-lines-and-angles_calculate","icon-lines-and-angles_calibrate","icon-lines-and-angles_carry","icon-lines-and-angles_carve","icon-lines-and-angles_cast","icon-lines-and-angles_catch","icon-lines-and-angles_cease","icon-lines-and-angles_celebrate","icon-lines-and-angles_challenge","icon-lines-and-angles_charge","icon-lines-and-angles_charm","icon-lines-and-angles_chart","icon-lines-and-angles_chat","icon-lines-and-angles_choose","icon-lines-and-angles_chop","icon-lines-and-angles_clean","icon-lines-and-angles_cleanse","icon-lines-and-angles_climb","icon-lines-and-angles_drum","icon-lines-and-angles_eat","icon-lines-and-angles_edit","icon-lines-and-angles_enhance","icon-lines-and-angles_enlarge","icon-lines-and-angles_enter","icon-lines-and-angles_equal","icon-lines-and-angles_erase","icon-lines-and-angles_examine","icon-lines-and-angles_experiment","icon-lines-and-angles_explore","icon-lines-and-angles_extrude","icon-lines-and-angles_feed","icon-lines-and-angles_fight","icon-lines-and-angles_fill","icon-lines-and-angles_film","icon-lines-and-angles_filter","icon-lines-and-angles_find","icon-lines-and-angles_finish","icon-lines-and-angles_fix","icon-lines-and-angles_flag","icon-lines-and-angles_float","icon-lines-and-angles_flow","icon-lines-and-angles_fly","icon-lines-and-angles_focus","icon-lines-and-angles_fold","icon-lines-and-angles_forbid","icon-lines-and-angles_forebode","icon-lines-and-angles_fork","icon-lines-and-angles_format","icon-lines-and-angles_game","icon-lines-and-angles_give","icon-lines-and-angles_glance","icon-lines-and-angles_grill","icon-lines-and-angles_grow","icon-lines-and-angles_guide","icon-lines-and-angles_hang","icon-lines-and-angles_harvest","icon-lines-and-angles_haunt","icon-lines-and-angles_heal","icon-lines-and-angles_hear","icon-lines-and-angles_hide","icon-lines-and-angles_hold","icon-lines-and-angles_home","icon-lines-and-angles_identify","icon-lines-and-angles_imagine","icon-lines-and-angles_influence","icon-lines-and-angles_inject","icon-lines-and-angles_invade","icon-lines-and-angles_iron","icon-lines-and-angles_jam","icon-lines-and-angles_join","icon-lines-and-angles_judge","icon-lines-and-angles_keep","icon-lines-and-angles_kick","icon-lines-and-angles_pitch","icon-lines-and-angles_plan","icon-lines-and-angles_plant","icon-lines-and-angles_play","icon-lines-and-angles_push","icon-lines-and-angles_rain","icon-lines-and-angles_read","icon-lines-and-angles_record","icon-lines-and-angles_redo","icon-lines-and-angles_reheat","icon-lines-and-angles_remind","icon-lines-and-angles_repeat","icon-lines-and-angles_report","icon-lines-and-angles_resurrect","icon-lines-and-angles_rewind","icon-lines-and-angles_ride","icon-lines-and-angles_ring","icon-lines-and-angles_rise","icon-lines-and-angles_rock","icon-lines-and-angles_roll","icon-lines-and-angles_rule","icon-lines-and-angles_run","icon-lines-and-angles_save","icon-lines-and-angles_schedule","icon-lines-and-angles_screw","icon-lines-and-angles_scroll","icon-lines-and-angles_search","icon-lines-and-angles_see","icon-lines-and-angles_select","icon-lines-and-angles_sell","icon-lines-and-angles_send","icon-lines-and-angles_sew","icon-lines-and-angles_shade","icon-lines-and-angles_shake","icon-lines-and-angles_share","icon-lines-and-angles_shine","icon-lines-and-angles_shop","icon-lines-and-angles_shower","icon-lines-and-angles_shuffle","icon-lines-and-angles_sing","icon-lines-and-angles_sit","icon-lines-and-angles_skip","icon-lines-and-angles_sleep","icon-lines-and-angles_slice","icon-lines-and-angles_slide","icon-lines-and-angles_smell","icon-lines-and-angles_smuggle","icon-lines-and-angles_snow","icon-lines-and-angles_solve","icon-lines-and-angles_sound","icon-lines-and-angles_sparkle","icon-lines-and-angles_speak","icon-lines-and-angles_spin","icon-lines-and-angles_spy","icon-lines-and-angles_stack","icon-lines-and-angles_stamp","icon-lines-and-angles_steam","icon-lines-and-angles_stomp","icon-lines-and-angles_stop","icon-lines-and-angles_strum","icon-lines-and-angles_study","icon-lines-and-angles_submerge","icon-lines-and-angles_succeed","icon-lines-and-angles_sweep","icon-lines-and-angles_swim","icon-lines-and-angles_sync","icon-lines-and-angles_tag","icon-lines-and-angles_target","icon-lines-and-angles_teach","icon-lines-and-angles_think","icon-lines-and-angles_thunder","icon-lines-and-angles_tie","icon-lines-and-angles_tower","icon-lines-and-angles_transport","icon-lines-and-angles_trash","icon-lines-and-angles_travel","icon-lines-and-angles_trend","icon-lines-and-angles_turn","icon-lines-and-angles_type","icon-lines-and-angles_undo","icon-lines-and-angles_unlock","icon-lines-and-angles_upload","icon-lines-and-angles_use","icon-lines-and-angles_wait","icon-lines-and-angles_wash","icon-lines-and-angles_watch","icon-lines-and-angles_wear","icon-lines-and-angles_weigh","icon-lines-and-angles_win","icon-lines-and-angles_work","icon-lines-and-angles_worship","icon-lines-and-angles_write","icon-lines-and-angles_yell","icon-lines-and-angles_clip","icon-lines-and-angles_close","icon-lines-and-angles_code","icon-lines-and-angles_collect","icon-lines-and-angles_commit","icon-lines-and-angles_connect","icon-lines-and-angles_contact","icon-lines-and-angles_contain","icon-lines-and-angles_control","icon-lines-and-angles_cook","icon-lines-and-angles_cool","icon-lines-and-angles_copy","icon-lines-and-angles_crave","icon-lines-and-angles_create","icon-lines-and-angles_creep","icon-lines-and-angles_crop","icon-lines-and-angles_cry","icon-lines-and-angles_curdle","icon-lines-and-angles_cut","icon-lines-and-angles_dance","icon-lines-and-angles_dazzle","icon-lines-and-angles_decide","icon-lines-and-angles_defend","icon-lines-and-angles_deliver","icon-lines-and-angles_design","icon-lines-and-angles_destroy","icon-lines-and-angles_develop","icon-lines-and-angles_die","icon-lines-and-angles_disappear","icon-lines-and-angles_discard","icon-lines-and-angles_discover","icon-lines-and-angles_disguise","icon-lines-and-angles_divide","icon-lines-and-angles_download","icon-lines-and-angles_draw","icon-lines-and-angles_drill","icon-lines-and-angles_drink","icon-lines-and-angles_drive","icon-lines-and-angles_drop","icon-lines-and-angles_kiss","icon-lines-and-angles_launch","icon-lines-and-angles_lick","icon-lines-and-angles_lift","icon-lines-and-angles_light","icon-lines-and-angles_like","icon-lines-and-angles_link","icon-lines-and-angles_live","icon-lines-and-angles_load","icon-lines-and-angles_locate","icon-lines-and-angles_lock","icon-lines-and-angles_madho","icon-lines-and-angles_manufacture","icon-lines-and-angles_mark","icon-lines-and-angles_measure","icon-lines-and-angles_medicate","icon-lines-and-angles_melt","icon-lines-and-angles_merge","icon-lines-and-angles_mill","icon-lines-and-angles_move","icon-lines-and-angles_multiply","icon-lines-and-angles_mute","icon-lines-and-angles_navigate","icon-lines-and-angles_open","icon-lines-and-angles_pack","icon-lines-and-angles_paint","icon-lines-and-angles_park","icon-lines-and-angles_paste","icon-lines-and-angles_pause","icon-lines-and-angles_pay","icon-lines-and-angles_perform","icon-lines-and-angles_photograph","icon-lines-and-angles_pick","icon-lines-and-angles_pin","icon-lines-and-angles_plot","icon-lines-and-angles_point","icon-lines-and-angles_poison","icon-lines-and-angles_present","icon-lines-and-angles_press","icon-lines-and-angles_primp","icon-lines-and-angles_print","icon-lines-and-angles_pucker"]}},c=function(e){var t="",n=!0,o=!1,i=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value,l=A[A.pickedList].terms[s].term,c=A[A.pickedList].terms[s].definition,d=A[A.pickedList].terms[s].support,u=q(l),f=void 0;A[A.pickedList].storedData.revealGoal=A[A.pickedList].storedData.revealGoal||{},f=void 0===A[A.pickedList].storedData.revealGoal[l]?0:A[A.pickedList].storedData.revealGoal[l]||0,document.querySelector("h1").innerHTML=A.pickedList,document.querySelector(".list-action").innerHTML=A[A.pickedList].action+'<span class="query-holder"></span>';t+='<div class="m-term-wrapper '+u+'">\n                <p class="term-holder">'+l+'</p>\n                <div class="theme-holder"><p class="symbol-holder"></p></div>\n                <div class="right">\n                    <p class="term-views"><span>Goal:</span> <span class="count">'+f+"</span> / "+A[A.pickedList].ops.revealGoalTarget+'</p>\n                    <button class="reveal">Reveal</button>\n                </div>\n                <div class="definition-wrapper hidden">\n                    <p class="definition-holder">'+c+'</p>\n                    <div class="helpers">\n                        <a href="#" class="lookup"></a>\n                        <a href="#" class="colour"></a>\n                        <a href="#" class="symbol"></a>\n                    </div>\n                    <div class="support-wrapper">'+d+"</div>\n                </div>\n            </div>"}}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}document.querySelector(".terms-wrapper").innerHTML=t;var m=!0,p=!1,g=void 0;try{for(var y,v=e[Symbol.iterator]();!(m=(y=v.next()).done);m=!0){var b=y.value,L=A[A.pickedList].terms[b].term,k=q(L);if(A[A.pickedList].storedData.viewedTerms=A[A.pickedList].storedData.viewedTerms||{},void 0!==A[A.pickedList].storedData.viewedTerms[L]&&void 0!==A[A.pickedList].storedData.viewedTerms[L].colour){var _=document.querySelector("."+k),S=A[A.pickedList].storedData.viewedTerms[L].colour;_.querySelector(".theme-holder").style.background=S,_.querySelector(".theme-holder").classList.add("bg-active"),_.querySelector(".term-holder").style.color="#fff"}if(void 0!==A[A.pickedList].storedData.viewedTerms[L]&&void 0!==A[A.pickedList].storedData.viewedTerms[L].symbol){var w=document.querySelector("."+k),T=A[A.pickedList].storedData.viewedTerms[L].symbol;w.querySelector(".symbol-holder").classList="symbol-holder",w.querySelector(".symbol-holder").classList.add(T)}}}catch(e){p=!0,g=e}finally{try{!m&&v.return&&v.return()}finally{if(p)throw g}}var D=!0,N=!1,E=void 0;try{for(var C,I=e[Symbol.iterator]();!(D=(C=I.next()).done);D=!0){var x=C.value;if(void 0!==A[A.pickedList].storedData.revealCountdowns&&void 0!==A[A.pickedList].storedData.revealCountdowns[x])for(var M=document.querySelectorAll(".reveal"),R=0;R<M.length;R++){var B=M[R].parentNode.parentNode.querySelector(".term-holder").innerHTML;B===x&&h(M[R])}}}catch(e){N=!0,E=e}finally{try{!D&&I.return&&I.return()}finally{if(N)throw E}}},d=function(){var e=document.querySelector(".hearts"),t="";void 0===A[A.pickedList].storedData.hearts&&(A[A.pickedList].storedData.hearts=A[A.pickedList].ops.points.hearts);for(var n=0;n<A[A.pickedList].storedData.hearts;n++)t+="<p></p>";e.innerHTML=t,localforage.setItem(A.storedName,A[A.pickedList])},u=function(){var e=document.querySelector(".score-holder");void 0===A[A.pickedList].storedData.score&&(A[A.pickedList].storedData.score=0);var t=A[A.pickedList].storedData.score;e.innerHTML=t},f=function(){A[A.pickedList].storedData.learnedTerms=A[A.pickedList].storedData.learnedTerms||{};var e=Object.keys(A[A.pickedList].storedData.learnedTerms).length,t=Object.keys(A[A.pickedList].terms).length;document.querySelector(".m-footer").querySelector(".completed").innerHTML=e,document.querySelector(".m-footer").querySelector(".remaining").innerHTML=" / "+t,document.querySelector(".m-footer").querySelector(".progress-bar").style.width=e/t*100+"%"},m=function(e){function t(){function t(e,t){document.querySelector(".query-form").classList.add("hidden"),u.classList.add("hidden"),"mispelled"===e?(l.innerHTML="Well done but check your spelling ("+t+'), the definition is <strong>"'+m+'"</strong>',l.classList.remove("hidden")):(l.innerHTML='Well done, the definition is <strong>"'+m+'"</strong>',l.classList.remove("hidden")),f+=A[A.pickedList].ops.points.correct,c.innerHTML=f,A[A.pickedList].storedData.score=f,A[A.pickedList].storedData.correctTerms[n]=m,A[A.pickedList].storedData.queryComplete=!0,delete A[A.pickedList].storedData.dailyQuery,localforage.setItem(A.storedName,A[A.pickedList])}function o(){var e=document.querySelector(".query-input");l.innerHTML="Try again.",l.classList.remove("hidden"),e.placeholder=e.value,e.value="",u.removeChild(u.getElementsByTagName("p")[0]),A[A.pickedList].storedData.hearts-=1,0===A[A.pickedList].storedData.hearts&&(document.querySelector(".query-form").classList.add("hidden"),u.classList.add("hidden"),e.value="",e.placeholder="Enter the definition",l.innerHTML="Sorry, you are out of attempts!",l.classList.remove("hidden"),A[A.pickedList].storedData.incorrectTerms[n]=m,A[A.pickedList].storedData.queryComplete=!0,delete A[A.pickedList].storedData.hearts),localforage.setItem(A.storedName,A[A.pickedList])}var i=document.querySelector(".query-wrapper"),r=document.querySelector(".query-holder"),s=document.querySelector(".query-submit"),l=document.querySelector(".result-holder"),c=document.querySelector(".score-holder"),u=document.querySelector(".hearts"),f=parseInt(c.innerHTML),m=A[A.pickedList].terms[n].definition;A[A.pickedList].storedData.dailyQuery=n,A[A.pickedList].storedData.queryComplete=!1,localforage.setItem(A.storedName,A[A.pickedList]);var p=q(n);null!==document.querySelector("."+p)&&document.querySelector("."+p).querySelector(".definition-wrapper").classList.add("hidden"),delete A[A.pickedList].storedData.hearts,d(),i.classList.remove("hidden"),e&&(i.getElementsByTagName("h2")[0].innerHTML="Bonus Test"),r.innerHTML=n,window.addEventListener("keypress",function(e){13===e.keyCode&&s.click()}),s.addEventListener("click",function(e){e.preventDefault();var n=document.querySelector(".query-input").value;a(n,m)===!0?t():"mispelled"===a(n,m)?t("mispelled",n):""===n?(l.innerHTML="Enter a definition.",l.classList.remove("hidden")):o()})}var n=void 0,o=0;A[A.pickedList].storedData.queryTerms=A[A.pickedList].storedData.queryTerms||{},A[A.pickedList].storedData.correctTerms=A[A.pickedList].storedData.correctTerms||{},A[A.pickedList].storedData.incorrectTerms=A[A.pickedList].storedData.incorrectTerms||{};for(var i=[];o<Object.keys(A[A.pickedList].storedData.viewedTerms).length;){if(n=void 0===A[A.pickedList].storedData.dailyQuery?r(A[A.pickedList].storedData.viewedTerms):A[A.pickedList].storedData.dailyQuery,!A[A.pickedList].storedData.correctTerms.hasOwnProperty(n))if(void 0!==A[A.pickedList].storedData.dailyReminder){if(!A[A.pickedList].storedData.dailyReminder.hasOwnProperty(n)){t();break}}else if(!A[A.pickedList].storedData.dailyTerms.hasOwnProperty(n)){t();break}i.indexOf(n)||o++,o===Object.keys(A[A.pickedList].storedData.viewedTerms).length&&(document.querySelector(".result-holder").innerHTML="Reveal more terms to get a query",document.querySelector(".result-holder").classList.remove("hidden"))}},p=function(){var e=document.querySelectorAll(".reveal");i(e,function(t){if(e[t].classList.contains("disabled"))return!1;var n=[e[t].parentNode.parentNode.querySelector(".term-holder").innerHTML],o=e[t].parentNode.querySelector(".count"),i=e[t].parentNode.parentNode.querySelector(".definition-wrapper");e[t].parentNode.parentNode.querySelector(".definition-holder"),parseInt(o.innerHTML);i.classList.remove("hidden"),i.classList.add("slideInUp","animated"),e[t].parentNode.classList.add("rubberBand","animated"),A[A.pickedList].storedData.viewedTerms=A[A.pickedList].storedData.viewedTerms||{},A[A.pickedList].storedData.viewedTerms[n]=A[A.pickedList].storedData.viewedTerms[n]||{},A[A.pickedList].storedData.viewedTerms[n].viewCount=A[A.pickedList].storedData.viewedTerms[n].viewCount||0,A[A.pickedList].storedData.viewedTerms[n].viewCount+=1;var r=void 0;if(void 0===A[A.pickedList].storedData.revealGoal[n]?r=1:(r=A[A.pickedList].storedData.revealGoal[n],r+=1),o.innerHTML=r,r===A[A.pickedList].ops.revealGoalTarget){A[A.pickedList].storedData.learnedTerms=A[A.pickedList].storedData.learnedTerms||{},A[A.pickedList].storedData.learnedTerms[n]=!0,Object.keys(A[A.pickedList].storedData.learnedTerms).length===Object.keys(A[A.pickedList].terms).length&&(A[A.pickedList].storedData.gameWon=!0,function(){var e=document.querySelector(".m-modal");e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");e.querySelector(".content").innerHTML+='<header>\n                                <h2 class="">Whoop whoop!!</h2>\n                            </header>\n                            <p>Well done you completed the whole list! You get a bonus 10 points for each term learned.</p>\n                            <p>You can keep learning this list, reset it in the options to start from scratch or move on to\n                            learn something new entirely.</p>\n                            <p><strong>Great job!</strong></p>';var t=10*Object.keys(A[A.pickedList].terms).length;A[A.pickedList].storedData.score+=t,u()}()),f(),A[A.pickedList].storedData.revealGoal.complete===!1&&(A[A.pickedList].storedData.queryComplete=!1,m(!0)),A[A.pickedList].storedData.revealGoal.complete=!0,A[A.pickedList].storedData.score+=A[A.pickedList].ops.points.dailyBonus,u()}A[A.pickedList].storedData.revealGoal[n]=r,localforage.setItem(A.storedName,A[A.pickedList]),h(e[t])})},h=function(e){function t(){var t=(new Date).getTime();e.classList.add("disabled"),e.setAttribute("disabled",!0),a=A[A.pickedList].storedData.revealCountdowns[o].startTime,s=A[A.pickedList].storedData.revealCountdowns[o].timerEnded;var n=Math.floor((t-a)/1e3),l=60*A[A.pickedList].ops.counterMins+i;if(n>=l&&(s=!0,clearInterval(A[A.pickedList].storedData.revealCountdowns[o].timerUpdate),delete A[A.pickedList].storedData.revealCountdowns[o]),s===!0)return localforage.setItem(A.storedName,A[A.pickedList]),!1;r=l-n}function n(){var t=Math.floor(r/60),n=r%60,o="";if(r<=0)return e.innerHTML="Reveal",e.classList.remove("disabled"),e.disabled=!1,!1;n<10&&n>=0&&(o="0"),60===r&&(n="00"),e.innerHTML=t+":"+o+n,r-=1}A[A.pickedList].storedData.revealCountdowns=A[A.pickedList].storedData.revealCountdowns||{};var o=[e.parentNode.parentNode.querySelector(".term-holder").innerHTML],i=(A[A.pickedList].ops.counterMins,A[A.pickedList].ops.counterSecs),r=void 0,a=void 0,s=void 0;void 0===A[A.pickedList].storedData.revealCountdowns[o]?(a=(new Date).getTime(),A[A.pickedList].storedData.revealCountdowns[o]={startTime:a,timerEnded:!1},t()):t(),localforage.setItem(A.storedName,A[A.pickedList]);var l=0;s===!1?A[A.pickedList].storedData.revealCountdowns[o].timerUpdate=setInterval(function(){l+=1,l%5==0&&t(),n()},1e3):(e.innerHTML="Reveal",e.classList.remove("disabled"),e.disabled=!1)},g=function(){var e=document.querySelectorAll(".term-holder");if(i(e,function(t){if(void 0===TTS){var n=new SpeechSynthesisUtterance(e[t].innerHTML);n.lang=A[A.pickedList].speechLang,window.speechSynthesis.speak(n)}else TTS.speak({text:"hello, world!",locale:"en-GB",rate:.75},function(){alert("success")},function(e){alert(e)})}),"none"===A[A.pickedList].speechLang)for(var t=0;t<e.length;t++)e[t].classList.add("no-speak")},y=function(){var e=document.querySelectorAll(".lookup"),t=document.querySelector(".m-modal");i(e,function(n){var o=e[n].parentNode.parentNode.parentNode.querySelector(".term-holder").innerHTML;t.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var i='<header>\n                        <h2 class="dictionary">Dictionary definitions</h2>\n                    </header>\n                    <p>'+o+':</p>\n                    <ul class="definitions">\n                    </ul>';t.querySelector(".content").innerHTML+=i;var r=t.querySelector(".definitions");C(encodeURI("https://glosbe.com/gapi/translate?from="+A[A.pickedList].dictFrom+"&dest="+A[A.pickedList].dictTo+"&format=json&pretty=true&phrase="+o.toLowerCase())).then(function(e){var t="";try{!function(){!function e(n,o,i){var r=void 0,a=Object.prototype,s=a.toString,l=a.hasOwnProperty.bind(n);for(r in n)l(r)&&(r===o?t+="<li>"+n[r]+"</li>":"[object Array]"!==s.call(n[r])&&"[object Object]"!==s.call(n[r])||e(n[r],o,i));return i}(e,"text"),void 0!==e.tuc&&0!==e.tuc.length||(t="(Sorry, no dictionary results found)"),r.innerHTML=t}()}catch(e){console.log(e)}})})},v=function(){function e(){var e=document.querySelector(".colour-term").innerHTML,t=q(e),n=document.querySelector("."+t);i(o,function(t){var i=o[t].getAttribute("data-colour");n.querySelector(".theme-holder").style.background=i,n.querySelector(".theme-holder").classList.add("bg-active"),n.querySelector(".term-holder").style.color="#fff",A[A.pickedList].storedData.viewedTerms[e].colour=i,localforage.setItem(A.storedName,A[A.pickedList]),L(!0)})}var t=document.querySelector(".m-modal"),n=document.querySelectorAll(".colour"),o=void 0;i(n,function(i){t.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var r=(n[i].parentNode.parentNode.parentNode,n[i].parentNode.parentNode.parentNode.querySelector(".term-holder").innerHTML),a='<header>\n                        <h2 class="colour">Colour picker</h2>\n                    </header>\n                    <p>Click below to add a colour for <br>"<span class="colour-term">'+r+'</span>":</p>\n                    <ul class="colour-wrap">\n                        <li><a href="#" data-colour="#1abc9c"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#3498db"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#9b59b6"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#f1c40f"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#e67e22"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#e74c3c"></a></li>\n                    </ul>';t.querySelector(".content").innerHTML+=a,o=t.querySelector(".colour-wrap").getElementsByTagName("a"),e()})},b=function(){function e(){var e=document.querySelector(".symbol-term").innerHTML,n=q(e),o=document.querySelector("."+n),i="";t.getElementsByTagName("table")[0].addEventListener("click",function(t){t=t||window.event,i=(t.target||t.srcElement).getAttribute("class"),o.querySelector(".symbol-holder").classList="symbol-holder",o.querySelector(".symbol-holder").classList.add(i),A[A.pickedList].storedData.viewedTerms[e].symbol=i,localforage.setItem(A.storedName,A[A.pickedList]),L(!0)},!1)}for(var t=document.querySelector(".m-modal"),n=document.querySelectorAll(".symbol"),o="<tr>",r=(l.fonts,0),a=0;a<l.fonts.feather.length;a++)r%5==0&&0!=r&&(o+="</tr><tr>"),o+="<td><p class="+l.fonts.feather[a]+"></p></td>",r++,a===l.fonts.feather.length-1&&(o+="</tr>");i(n,function(i){t.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var r=(n[i].parentNode.parentNode.parentNode,n[i].parentNode.parentNode.parentNode.querySelector(".term-holder").innerHTML),a='<header>\n                        <h2 class="symbol">Glyph picker</h2>\n                    </header>\n                    <p>Click below to add a glyph for <br>"<span class="symbol-term">'+r+'</span>":</p>\n                    <div class="symbol-wrap">\n                        <table>'+o+"</table>\n                    </div>";t.querySelector(".content").innerHTML+=a,e()})},L=function(e){function t(){document.getElementsByTagName("body")[0].classList.remove("modal-active"),n.classList.add("hidden"),n.querySelector(".content").innerHTML=""}var n=document.querySelector(".m-modal");n.querySelector(".close").addEventListener("click",function(e){e.preventDefault(),t()}),e&&t()},k=function(){function t(){for(var e=document.querySelector(".choose-list").querySelectorAll("a"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault(),A.pickedList=this.innerHTML,localforage.setItem("tinyTermsDefault",A.pickedList,function(){location.reload()})});for(var n=document.querySelectorAll(".custom-list"),o=0;o<n.length;o++)!function(e){n[e].addEventListener("click",function(t){t.preventDefault();var o=n[e].nextSibling;document.querySelector(".create-list").classList.add("hidden"),n[e].classList.add("hidden"),n[e].parentNode.insertBefore(document.createElement("div"),o.nextSibling),o.nextSibling.innerHTML='<p>Are you sure you want to delete your list? (Can\'t undo)</p><button class="delete-cancel">Cancel</button><button class="delete-confirm">Confim</button>',document.querySelector(".delete-confirm").addEventListener("click",function(){var t=n[e].parentNode.childNodes[1].innerHTML;delete A.uploadedLists[t],localforage.setItem("tinyTerms.uploadedLists",A.uploadedLists,function(){n[e].parentNode.removeChild(o.nextSibling),n[e].parentNode.parentNode.removeChild(document.querySelector("."+q(t))),localforage.removeItem(A.storedName).then(function(){localforage.removeItem(A[A.pickedList]).then(function(){localforage.removeItem("tinyTermsDefault"),location.reload()})})})}),document.querySelector(".delete-cancel").addEventListener("click",function(){n[e].parentNode.removeChild(o.nextSibling),n[e].classList.remove("hidden"),document.querySelector(".create-list").classList.remove("hidden")})})}(o)}function n(n,o){n=n.substring(0,25),n.length>0&&o.length>0?D(o)===!0?localforage.getItem("tinyTerms.uploadedLists",function(e,i){A.uploadedLists[n]={name:n,category:"custom",sheetURL:o},localforage.setItem("tinyTerms.uploadedLists",A.uploadedLists,function(){L(!0);var e='<div class="'+q(n)+'"><span class="custom-list"></span><a href="#">'+n+"</a></div>";document.querySelector(".m-menu").querySelector(".choose-list").getElementsByTagName("nav")[0].innerHTML+=e,t()})}):e("no valid url"):e("no text")}setTimeout(function(){document.getElementsByTagName("body")[0].classList.remove("loading"),document.querySelector(".m-query").classList.add("animated","slideInDown")},2500),A.uploadedLists=A.uploadedLists||{},localforage.getItem("tinyTerms.uploadedLists",function(e,n){A.customListChoices=A.customListChoices||{};for(var o in n){var i=n[o].name,r=n[o].sheetURL;A.customListChoices[i]={name:i,sheetURL:r}}var a=document.querySelector(".m-menu");a.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active"),document.getElementsByTagName("body")[0].classList.add("home");for(var s=document.querySelectorAll(".category"),l=0;l<s.length;l++)!function(e){s[e].addEventListener("click",function(n){n.preventDefault(),a.querySelector(".choose-list").classList.add("animated","slideOutLeft");var o=s[e].innerHTML,i="";for(var r in A.listChoices)A.listChoices[r].category===o&&(i+='<a href="#">'+A.listChoices[r].name+"</a>");for(var l in A.customListChoices)A.listChoices[l].category===o&&(i+='<div class="'+q(A.customListChoices[l].name)+'"><span class="custom-list"></span><a href="#">'+A.customListChoices[l].name+"</a></div>");setTimeout(function(){a.querySelector(".choose-list").getElementsByTagName("nav")[0].innerHTML=i,a.querySelector(".choose-list").classList.remove("slideOutLeft"),a.querySelector(".choose-list").classList.add("slideInRight")},500),t()})}(l)}),document.querySelector(".upload-info").addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(".m-modal");t.classList.remove("hidden"),t.style.zIndex="101",t.querySelector(".close").addEventListener("click",function(e){e.preventDefault(),L(!0)});t.querySelector(".content").innerHTML+='<header>\n                        <h2 class="">Upload a list</h2>\n                    </header>\n                    <p>Create your very own list of Tiny Terms! For more info please visit:</p>\n                    <a target="_blank" href="http://www.tiny-terms.com">http://www.tiny-terms.com</a>\n                    \n                    <div class="list-uploader">\n                        <label>List Name (max 25 characters)</label>\n                        <input class="upload-name" type="text" placeholder="Enter list name">\n                        <label>List URL</label>\n                        <input class="upload-sheet" type="text" placeholder="Paste list URL">\n                        <button class="upload-list">Upload</button>\n                    </div>',window.addEventListener("keypress",function(e){var t=document.querySelector(".upload-name").value,o=document.querySelector(".upload-sheet").value;13===e.keyCode&&n(t,o)}),document.querySelector(".upload-list").addEventListener("click",function(e){
e.preventDefault(),n(document.querySelector(".upload-name").value,document.querySelector(".upload-sheet").value)})})},_=function(e,t){window.onerror=function(n,o,i,r,a){var s=document.querySelector(".m-modal");s.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var l='<header>\n                        <h2 class="">Uh oh!</h2>\n                    </header>\n                    <br>\n                    <h3>'+e+"</h3>\n                    <p><strong>Here's the exact problem:</strong></p>\n                    <p>'Error: "+n+"</p> \n                    <p>Script: "+o+"</p> \n                    <p>Line: "+i+"</p>\n                    <p>Column: "+r+"</p> \n                    <p>StackTrace: "+a+'</p>\n\n                    <button class="home-btn">Close</button>\n                    ';return s.querySelector(".content").innerHTML+=l,s.classList.add("onboard"),t(),document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),k()}),!1}},S=function(e,t){var n=document.querySelector(".m-modal");n.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var o='<header>\n\t\t\t\t\t<h2 class="">Something\'s not right</h2>\n\t\t\t\t</header>\n\t\t\t\t<p>'+e+'</p>\n\n\t\t\t\t<button class="home-btn">Close</button>\n\t\t\t\t';return n.querySelector(".content").innerHTML+=o,n.classList.add("onboard"),t(),!1},w=function(e){var t=e.Sheet1.columnNames[1];A[A.pickedList].speechLang=t,A[A.pickedList].dictFrom=e.Sheet1.elements[0][t],A[A.pickedList].dictTo=e.Sheet1.elements[1][t],A[A.pickedList].action=e.Sheet1.elements[2][t],A[A.pickedList].terms=A[A.pickedList].terms||{};for(var n=0;n<e.Sheet1.elements.length;n++){var o=e.Sheet1.elements[n].Term,i=e.Sheet1.elements[n].Definition,r=e.Sheet1.elements[n].Support;A[A.pickedList].terms[o]={},A[A.pickedList].terms[o].term=o,A[A.pickedList].terms[o].definition=i,A[A.pickedList].terms[o].support=r}A.postBuildCallback()},T=function(){var e=navigator.connection.type,t={};return t[Connection.UNKNOWN]="Unknown",t[Connection.ETHERNET]="Ethernet",t[Connection.WIFI]="WiFi",t[Connection.CELL_2G]="2G",t[Connection.CELL_3G]="3G",t[Connection.CELL_4G]="4G",t[Connection.CELL]="Cell",t[Connection.NONE]="None",t[e]},D=function(e){var t=document.createElement("a");return t.href=e,t.host&&t.host!=window.location.host},q=function(e){return e.replace(/[^a-z0-9]/g,function(e){var t=e.charCodeAt(0);return 32==t?"-":t>=65&&t<=90?"_"+e.toLowerCase():"__"+("000"+t.toString(16)).slice(-4)})},N=function(){function e(e){var t="visible",n="hidden",o={focus:t,focusin:t,pageshow:t,blur:n,focusout:n,pagehide:n};e=e||window.event,e.type in o||location.reload()}var t="hidden";t in document?document.addEventListener("visibilitychange",e):(t="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(t="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(t="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e,void 0!==document[t]&&e({type:document[t]?"blur":"focus"})},E=function(e,t,n){var o=1;return n&&(o=-1),e.sort(function(e,n){var i=e[1][t],r=n[1][t];return o*(i<r?-1:i>r?1:0)})},C=function(e){return new Promise(function(t,n){var o="_"+Math.round(1e4*Math.random()),i="jsonp_callback_"+o;window[i]=function(e){delete window[i];var n=document.getElementById(o);n.parentNode.removeChild(n),t(e)};var r=e+"&callback="+i,a=document.createElement("script");a.src=r,a.id=o,a.addEventListener("error",n),(document.getElementsByTagName("head")[0]||document.body||document.documentElement).appendChild(a)})},I=function(){var e=0,t=0,n=[],o=[],i=Object.keys(A[A.pickedList].terms).length;if(A[A.pickedList].ops.displayedTerms>i&&(A[A.pickedList].ops.displayedTerms=i),void 0===A[A.pickedList].storedData.firstTime)for(;e<A[A.pickedList].ops.displayedTerms;){var a=r(A[A.pickedList].terms);n.includes(a)||(n.push(a),e++)}else{if(A[A.pickedList].storedData.incorrectTerms=A[A.pickedList].storedData.incorrectTerms||{},Object.keys(A[A.pickedList].storedData.incorrectTerms).length>0){var s=void 0;A[A.pickedList].storedData.remindedTerms=A[A.pickedList].storedData.remindedTerms||{},void 0===A[A.pickedList].storedData.dailyReminder?(A[A.pickedList].storedData.dailyReminder={},s=r(A[A.pickedList].storedData.incorrectTerms),A[A.pickedList].storedData.dailyReminder[s]=A[A.pickedList].terms[s].definition):(s=A[A.pickedList].storedData.dailyReminder,s=Object.getOwnPropertyNames(s)),n.push(s),delete A[A.pickedList].storedData.incorrectTerms[s],A[A.pickedList].storedData.remindedTerms[s]=A[A.pickedList].terms[s].definition,e++}for(;e<A[A.pickedList].ops.displayedTerms;){A[A.pickedList].storedData.viewedTerms=A[A.pickedList].storedData.viewedTerms||{};if(Object.keys(A[A.pickedList].storedData.viewedTerms).length+e===i){var l=[];for(var c in A[A.pickedList].storedData.viewedTerms)l.push([c,A[A.pickedList].storedData.viewedTerms[c]]);if(void 0!==A[A.pickedList].storedData.dailyReminder)for(var d=l.length-1;d>=0;d--)A[A.pickedList].storedData.dailyReminder.hasOwnProperty(l[d][0])&&l.splice(d,1);for(l=E(l,"viewCount");e<A[A.pickedList].ops.displayedTerms;)n.push(l[e][0]),e++;e++}else{var u=r(A[A.pickedList].terms);o.includes(u)||(o.push(u),A[A.pickedList].storedData.viewedTerms.hasOwnProperty(u)||(n.push(u),e++))}t>1e4&&(e=A[A.pickedList].ops.displayedTerms),t++}}return n},x=function(){function e(){L(!0),d.style.zIndex="100",d.querySelector(".term-holder").classList.add("animated","pulse","infinite"),d.querySelector(".definition-wrapper").classList.add("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active"),f.setAttribute("disabled","true"),document.querySelector(".m-modal").style.cssText="display: none !important",c.classList.remove("hidden");c.innerHTML='<p>This is one of the terms you will be learning, you get 5 each day.</p>\n                    <button class="onboard-2">Next</button>';var e=d.offsetTop+d.offsetHeight;c.style.top=e+"px",document.querySelector(".onboard-2").addEventListener("click",function(e){e.preventDefault(),t()})}function t(){d.querySelector(".term-holder").classList.remove("animated","pulse","infinite"),d.querySelector(".term-views").classList.add("animated","pulse","infinite");c.innerHTML='<p>On the right is the goal meter, fill this and the term is marked as complete.</p>\n                    <button class="onboard-3">Next</button>',c.classList.add("onboard-right"),document.querySelector(".onboard-3").addEventListener("click",function(e){e.preventDefault(),n()})}function n(){d.querySelector(".term-views").classList.remove("animated","pulse","infinite"),f.classList.add("animated","pulse","infinite");var e=setInterval(function(){f.classList.remove("disabled"),f.removeAttribute("disabled")},100);c.innerHTML='<p style="border:0; margin: 10px 0; padding: 0">Press the reveal button to continue!</p>\n                    ',f.addEventListener("click",function(t){t.preventDefault(),clearInterval(e),o()})}function o(){f.classList.remove("animated","pulse","infinite"),d.querySelector(".definition-wrapper").classList.remove("hidden"),d.querySelector(".definition-holder").classList.add("animated","pulse","infinite"),f.classList.add("disabled");var e=d.querySelector(".count"),t=parseInt(e.innerHTML);if(t>1){t-=1,e.innerHTML=t;var n=d.querySelector(".term-holder").innerHTML;A[A.pickedList].storedData.viewedTerms[n].viewCount=t,A[A.pickedList].storedData.revealGoal[n]=e.innerHTML=t,localforage.setItem(A.storedName,A[A.pickedList])}var o=d.offsetTop+u.offsetTop+u.offsetHeight+95;c.style.top=o+"px";c.innerHTML='<p>This is the definition you need to learn, helpful information is displayed underneath.</p>\n                    <button class="onboard-5">Next</button>',c.classList.remove("onboard-right"),document.querySelector(".onboard-5").addEventListener("click",function(e){e.preventDefault(),i()})}function i(){d.querySelector(".definition-holder").classList.remove("animated","pulse","infinite");var e=d.offsetTop+u.offsetTop+95;c.style.top=e+"px";c.innerHTML='<p>Tiny Terms uses spaced repetition, check back in an hour to add to the goal.</p>\n                    <button class="onboard-6">Next</button>',c.classList.add("onboard-right"),document.querySelector(".onboard-6").addEventListener("click",function(e){e.preventDefault(),r()})}function r(){d.querySelector(".colour").classList.add("animated","pulse","infinite"),d.querySelector(".symbol").classList.add("animated","pulse","infinite"),document.querySelector(".query-holder").setAttribute("disabled","true");var e=d.offsetTop+u.offsetTop+u.offsetHeight+95;c.style.top=e+"px";c.innerHTML='<p>You can add a colour and symbol to the term, the visual association will help you rememeber.</p>\n                    <button class="onboard-7">Next</button>',document.querySelector(".onboard-7").addEventListener("click",function(e){e.preventDefault(),a()})}function a(){d.querySelector(".colour").classList.remove("animated","pulse","infinite"),d.querySelector(".symbol").classList.remove("animated","pulse","infinite"),d.style.zIndex="50";var e=document.querySelector(".m-query");document.querySelector(".query-submit").setAttribute("disabled","true"),document.querySelector(".m-modal").style.cssText="",L(!0),m(!0),delete A[A.pickedList].storedData.dailyQuery,localforage.setItem(A.storedName,A[A.pickedList]);var t=e.offsetTop+e.offsetHeight;c.style.top=t+"px",e.style.zIndex="100";c.innerHTML='<p>Each day you get a mini test to see how well you have rememebered, you can also unlock an extra test by completing at least one goal meter in a day.</p>\n                    <button class="onboard-8">Next</button>',document.querySelector(".onboard-8").addEventListener("click",function(e){e.preventDefault(),s()})}function s(){l.classList.remove("hidden"),c.innerHTML="",c.classList.add("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var e=document.querySelector(".m-query");document.querySelector(".query-holder").removeAttribute("disabled"),document.querySelector(".query-submit").removeAttribute("disabled"),e.style.zIndex="50",e.classList.add("hidden"),d.querySelector(".definition-wrapper").classList.remove("hidden");l.querySelector(".content").innerHTML='<header>\n                        <h2 class="">That\'s about it</h2>\n                    </header>\n                    <p>Fill the progress bar by completing the goal meters to finish the list! You get points for answering tests correctly and completing goal meters, use them to unlock cool stuff. <br><br>Good luck!</p>\n                    <button class="close-tut">Close the tutorial</button>\n                    ',l.classList.add("onboard"),document.querySelector(".close-tut").addEventListener("click",function(e){e.preventDefault(),L(!0),A.tutComplete=!0,localforage.setItem("tinyTerms.tutComplete",A.tutComplete),l.classList.remove("onboard")})}var l=document.querySelector(".m-modal"),c=document.querySelector(".m-onboarding"),d=document.querySelectorAll(".m-term-wrapper")[0],u=d.querySelector(".definition-holder"),f=d.getElementsByTagName("button")[0];A.tutComplete=!1,localforage.setItem("tinyTerms.tutComplete",A.tutComplete),l.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");l.querySelector(".content").innerHTML='<header>\n                    <h2 class="icon-child">Welcome to Tiny Terms!</h2>\n                </header>\n                <p>Looks like this is your first time here, so let\'s go over some basics before you get started.</p>\n                <button class="onboard-1">Let\'s go!</button>\n                <a href="#" class="close-tut">Skip the tutorial</a>\n                ',l.classList.add("onboard"),document.querySelector(".close-tut").addEventListener("click",function(e){e.preventDefault(),L(!0),l.classList.remove("onboard"),A.tutComplete=!0,localforage.setItem("tinyTerms.tutComplete",A.tutComplete)}),document.querySelector(".onboard-1").addEventListener("click",function(t){t.preventDefault(),e()})},M=function(){var e=document.querySelector(".m-modal");document.querySelector(".settings").addEventListener("click",function(t){function n(){null!==document.querySelector(".delete-confirm")&&(o.innerHTML="Reset list progress",i.innerHTML="Reset the app",document.querySelector(".delete-confirm").parentNode.removeChild(document.querySelector(".delete-cancel")),document.querySelector(".delete-confirm").parentNode.removeChild(document.querySelector(".delete-confirm")))}t.preventDefault(),e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active"),e.querySelector(".content").innerHTML+='<header>\n                        <h2 class="icon-cog-outline">Options</h2>\n                    </header>\n                    <div class="options">\n                        <p>Spend points: (coming soon)</p>\n                        <a href="#" class="icon-award-empty points-neon-colours">1000: Unlock neon colours</a>\n                        <a href="#" class="icon-award points-life-glyphs">5000: Unlock solid symbols</a>\n                        <a href="#" class="icon-award-1 points-metal-colours">10000: Unlock metal colours</a>\n                        <p>Help</p>\n                        <a href="#" class="icon-right-open-big show-tut">Show the tutorial again</a>\n                        <p>More Options</p>\n                        <a href="#" class="icon-right-open-big reset-list">Reset list progress</a>\n                        <a href="#" class="icon-right-open-big reset">Reset the app</a>\n                    </div>\n                    ';var o=document.querySelector(".reset-list"),i=document.querySelector(".reset");document.querySelector(".show-tut").addEventListener("click",function(e){e.preventDefault(),x()}),o.addEventListener("click",function(e){e.preventDefault(),n(),o.innerHTML="Are you sure you want to delete progress for this list? (Can't undo)",o.parentNode.insertBefore(document.createElement("div"),o.nextSibling),o.nextSibling.innerHTML='<button class="delete-cancel">Cancel</button><button class="delete-confirm">Confim</button>',document.querySelector(".delete-confirm").addEventListener("click",function(){delete A[A.pickedList],localforage.setItem(A.storedName,A[A.pickedList]),location.reload()}),document.querySelector(".delete-cancel").addEventListener("click",function(){L(!0)})}),document.querySelector(".reset").addEventListener("click",function(e){e.preventDefault(),n(),i.innerHTML="Are you sure you want to delete all progress for the app? (Can't undo)",i.parentNode.insertBefore(document.createElement("div"),i.nextSibling),i.nextSibling.innerHTML='<button class="delete-cancel">Cancel</button><button class="delete-confirm">Confim</button>',document.querySelector(".delete-confirm").addEventListener("click",function(){localforage.clear().then(function(){location.reload()})}),document.querySelector(".delete-cancel").addEventListener("click",function(){L(!0)})})})},A=A||{},R={displayedTerms:5,counterMins:60,counterSecs:0,revealGoalTarget:5,wordAccuracy:.7,addDay:!1,debug:!0,loadDelay:2500,points:{correct:50,dailyBonus:10,hearts:3}};A.listChoices={"Italian Verbs ITA-ENG":{name:"Italian Verbs ITA-ENG",category:"Language",sheetURL:"https://docs.google.com/spreadsheets/d/1Q1pmDXybg_GDB6bSXknuBET2Nm8L-Roi2Kj01SHm_WI/pubhtml"},"Computer Components":{name:"Computer Components",category:"Technology",sheetURL:"https://docs.google.com/spreadsheets/d/1Ho5Viqg71mIBlbyAIjLIqHEWRr4znDCLZSBtwVTtZk0/edit"},"Periodic Elements":{name:"Periodic Elements",category:"Science",sheetURL:"https://docs.google.com/spreadsheets/d/1sL3kTrZq3Hdb_iBo7hC8x9oGXXownlxmmdmmvALAPlU/edit#gid=0"},"Global Capital Cities":{name:"Global Capital Cities",category:"Culture",sheetURL:"https://docs.google.com/spreadsheets/d/1hU1pJSR2sp4g7C91prXqijBzNVZTJ4Qkip0rY4IuWaQ/pubhtml"},"Top 100 words ITA-ENG":{name:"Top 100 words ITA-ENG",category:"Language",sheetURL:"https://docs.google.com/spreadsheets/d/1gBNQk9jH7X2iRIbcZg3F5kbOTGgl9EvlJ65UkYHV6Mo/pubhtml"},"Italian Anatomy ITA-ENG":{name:"Italian Anatomy ITA-ENG",category:"Language",sheetURL:"https://docs.google.com/spreadsheets/d/1lDCYm0E9y8IBHoS2JrEu6iPe4UJEkfU3dEywURhhqb0/pubhtml"},"Bee Anatomy":{name:"Bee Anatomy",category:"Science",sheetURL:"https://docs.google.com/spreadsheets/d/12-g6CDVGXIPTn5Va7rY6OC22ZS12p6av46p2LMht61I/pubhtml"}};var B=!0;setTimeout(function(){if(document.getElementsByTagName("body")[0].classList.remove("loading"),B===!0){var e=document.querySelector(".m-modal");e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");e.querySelector(".content").innerHTML+='<header>\n\t\t\t\t\t\t<h2 class="">Uh oh!</h2>\n\t\t\t\t\t</header>\n\t\t\t\t\t<br>\n\t\t\t\t\t<h3>Sorry something went wrong :(</h3>\n\t\t\t\t\t<br>\n\t\t\t\t\t<button class="home-btn">Close</button>\n\t\t\t\t\t',e.classList.add("onboard"),document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),k()})}},2e4),function(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}(function(){s()});var O=function(){localforage.getItem("tinyTermsDefault",function(e,t){A.pickedList=t,A[A.pickedList]={},A[A.pickedList].storedData={},A[A.pickedList].ops=R,A.storedName="tinyTerms"+A.pickedList,localforage.setItem(A.storedName,A[A.pickedList]),localforage.getItem("tinyTerms.uploadedLists",function(e,t){var n=void 0;t=t||{},n=t.hasOwnProperty(A.pickedList)?t[A.pickedList].sheetURL:A.listChoices[A.pickedList].sheetURL,j(n,H)})})},j=function(e,t){A.postBuildCallback=t,_("Couldn't load the list URL, did you copy it correctly?",function(){localforage.removeItem(A.storedName).then(function(){localforage.removeItem(A.pickedList)}),B=!1}),Tabletop.init({key:e,callback:w,simpleSheet:!1})},H=function(){window.onerror="",G(),null===A.tutComplete&&x(),A[A.pickedList].storedData.firstTime=!1,localforage.setItem(A.storedName,A[A.pickedList])},U=function(){_("Couldn't load the list, please try again.",function(){localforage.removeItem(A.storedName).then(function(){localforage.removeItem(A.pickedList)}),B=!1}),t(),G()},G=function(){var t=void 0;A[A.pickedList].storedData.newDay===!1?t=A[A.pickedList].storedData.dailyTerms:(t=I(),delete A[A.pickedList].storedData.revealedTermCount,delete A[A.pickedList].storedData.revealCountdowns,delete A[A.pickedList].storedData.dailyQuery,delete A[A.pickedList].storedData.dailyReminder,A[A.pickedList].storedData.revealGoal=A[A.pickedList].storedData.revealGoal||{},A[A.pickedList].storedData.revealGoal.complete=!1,void 0!==A[A.pickedList].storedData.viewedTerms&&m(),A[A.pickedList].storedData.remindedTerms=A[A.pickedList].storedData.remindedTerms||{}),c(t),u(),A[A.pickedList].storedData.dateOpened=n(),A[A.pickedList].storedData.dailyTerms=t,localforage.setItem(A.storedName,A[A.pickedList]),A[A.pickedList].storedData.queryComplete=A[A.pickedList].storedData.queryComplete||{},void 0!==A[A.pickedList].storedData.dailyQuery&&A[A.pickedList].storedData.queryComplete!==!0&&m(),p(),y(),g(),v(),b(),L(),f(),M(),N(),B=!1,setTimeout(function(){document.getElementsByTagName("body")[0].classList.remove("loading"),document.querySelector(".m-query").classList.add("animated","slideInDown")},A[A.pickedList].ops.loadDelay),document.getElementsByTagName("h1")[0].addEventListener("click",function(e){e.preventDefault(),k()}),A.tutComplete===!1&&x(),A[A.pickedList].ops.debug===!0&&e(A)};return A}();
//# sourceMappingURL=script.js.map
