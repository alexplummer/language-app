/*!
    localForage -- Offline Storage, Improved
    Version 1.4.3
    https://mozilla.github.io/localForage
    (c) 2013-2016 Mozilla, Apache License 2.0
*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.localforage=e()}}(function(){return function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return i(n||e)},d,d.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){(function(e){"use strict";function n(){d=!0;for(var e,t,n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}d=!1}function o(e){1!==u.push(e)||d||i()}var i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var s=0,a=new r(n),l=e.document.createTextNode("");a.observe(l,{characterData:!0}),i=function(){l.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}var d,u=[];t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";function o(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,e!==o&&l(this,e)}function r(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(e,t,n){p(function(){var o;try{o=t(n)}catch(t){return h.reject(e,t)}o===e?h.reject(e,new TypeError("Cannot resolve promise with itself")):h.resolve(e,o)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function l(e,t){function n(t){r||(r=!0,h.reject(e,t))}function o(t){r||(r=!0,h.resolve(e,t))}function i(){t(o,n)}var r=!1,s=c(i);"error"===s.status&&n(s.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function d(e){return e instanceof this?e:h.resolve(new this(o),e)}function u(e){var t=new this(o);return h.reject(t,e)}function f(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var r=new Array(n),s=0,a=-1,l=new this(o);++a<n;)!function(e,o){function a(e){r[o]=e,++s!==n||i||(i=!0,h.resolve(l,r))}t.resolve(e).then(a,function(e){i||(i=!0,h.reject(l,e))})}(e[a],a);return l}function m(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var r=-1,s=new this(o);++r<n;)!function(e){t.resolve(e).then(function(e){i||(i=!0,h.resolve(s,e))},function(e){i||(i=!0,h.reject(s,e))})}(e[r]);return s}var p=e(1),h={},g=["REJECTED"],y=["FULFILLED"],v=["PENDING"];t.exports=n=i,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===y||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(o);if(this.state!==v){s(n,this.state===y?e:t,this.outcome)}else this.queue.push(new r(n,e,t));return n},r.prototype.callFulfilled=function(e){h.resolve(this.promise,e)},r.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},r.prototype.callRejected=function(e){h.reject(this.promise,e)},r.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},h.resolve=function(e,t){var n=c(a,t);if("error"===n.status)return h.reject(e,n.value);var o=n.value;if(o)l(e,o);else{e.state=y,e.outcome=t;for(var i=-1,r=e.queue.length;++i<r;)e.queue[i].callFulfilled(t)}return e},h.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,o=e.queue.length;++n<o;)e.queue[n].callRejected(t);return e},n.resolve=d,n.reject=u,n.all=f,n.race=m},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new n,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(t.type)}}function r(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function s(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function a(e){for(var t=e.length,n=new ArrayBuffer(t),o=new Uint8Array(n),i=0;i<t;i++)o[i]=e.charCodeAt(i);return n}function l(e){return new ie(function(t){var n=i([""]);e.objectStore(re).put(n,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function c(e){return"boolean"==typeof ne?ie.resolve(ne):l(e).then(function(e){return ne=e})}function d(e){var t=oe[e.name],n={};n.promise=new ie(function(e){n.resolve=e}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function u(e){var t=oe[e.name],n=t.deferredOperations.pop();n&&n.resolve()}function f(e,t){return new ie(function(n,o){if(e.db){if(!t)return n(e.db);d(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var r=te.open.apply(te,i);t&&(r.onupgradeneeded=function(t){var n=r.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(re)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),r.onerror=function(){o(r.error)},r.onsuccess=function(){n(r.result),u(e)}})}function m(e){return f(e,!1)}function p(e){return f(e,!0)}function h(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,i=e.version>e.db.version;if(o&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var r=e.db.version+1;r>e.version&&(e.version=r)}return!0}return!1}function g(e){return new ie(function(t,n){var o=new FileReader;o.onerror=n,o.onloadend=function(n){var o=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:o,type:e.type})},o.readAsBinaryString(e)})}function y(e){return i([a(atob(e.data))],{type:e.type})}function v(e){return e&&e.__local_forage_encoded_blob}function b(e){var t=this,n=t._initReady().then(function(){var e=oe[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return s(n,e,e),n}function L(e){function t(){return ie.resolve()}var n=this,o={db:null};if(e)for(var i in e)o[i]=e[i];oe||(oe={});var r=oe[o.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},oe[o.name]=r),r.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=b);for(var s=[],a=0;a<r.forages.length;a++){var l=r.forages[a];l!==n&&s.push(l._initReady().catch(t))}var c=r.forages.slice(0);return ie.all(s).then(function(){return o.db=r.db,m(o)}).then(function(e){return o.db=e,h(o,n._defaultConfig.version)?p(o):e}).then(function(e){o.db=r.db=e,n._dbInfo=o;for(var t=0;t<c.length;t++){var i=c[t];i!==n&&(i._dbInfo.db=o.db,i._dbInfo.version=o.version)}})}function k(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo,r=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),s=r.get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),v(e)&&(e=y(e)),t(e)},s.onerror=function(){o(s.error)}}).catch(o)});return r(o,t),o}function _(e,t){var n=this,o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo,r=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),s=r.openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var o=n.value;v(o)&&(o=y(o));var i=e(o,n.key,a++);void 0!==i?t(i):n.continue()}else t()},s.onerror=function(){o(s.error)}}).catch(o)});return r(o,t),o}function S(e,t,n){var o=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new ie(function(n,i){var r;o.ready().then(function(){return r=o._dbInfo,"[object Blob]"===se.call(t)?c(r.db).then(function(e){return e?t:g(t)}):t}).then(function(t){var o=r.db.transaction(r.storeName,"readwrite"),s=o.objectStore(r.storeName);null===t&&(t=void 0),o.oncomplete=function(){void 0===t&&(t=null),n(t)},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;i(e)};var a=s.put(t,e)}).catch(i)});return r(i,n),i}function w(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo,r=i.db.transaction(i.storeName,"readwrite"),s=r.objectStore(i.storeName),a=s.delete(e);r.oncomplete=function(){t()},r.onerror=function(){o(a.error)},r.onabort=function(){var e=a.error?a.error:a.transaction.error;o(e)}}).catch(o)});return r(o,t),o}function T(e){var t=this,n=new ie(function(e,n){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readwrite"),r=i.objectStore(o.storeName),s=r.clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=s.error?s.error:s.transaction.error;n(e)}}).catch(n)});return r(n,e),n}function q(e){var t=this,n=new ie(function(e,n){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),r=i.count();r.onsuccess=function(){e(r.result)},r.onerror=function(){n(r.error)}}).catch(n)});return r(n,e),n}function D(e,t){var n=this,o=new ie(function(t,o){if(e<0)return void t(null);n.ready().then(function(){var i=n._dbInfo,r=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),s=!1,a=r.openCursor();a.onsuccess=function(){var n=a.result;if(!n)return void t(null);0===e?t(n.key):s?t(n.key):(s=!0,n.advance(e))},a.onerror=function(){o(a.error)}}).catch(o)});return r(o,t),o}function N(e){var t=this,n=new ie(function(e,n){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),r=i.openCursor(),s=[];r.onsuccess=function(){var t=r.result;if(!t)return void e(s);s.push(t.key),t.continue()},r.onerror=function(){n(r.error)}}).catch(n)});return r(n,e),n}function E(e){var t,n,o,i,r,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),d=new Uint8Array(c);for(t=0;t<a;t+=4)n=le.indexOf(e[t]),o=le.indexOf(e[t+1]),i=le.indexOf(e[t+2]),r=le.indexOf(e[t+3]),d[l++]=n<<2|o>>4,d[l++]=(15&o)<<4|i>>2,d[l++]=(3&i)<<6|63&r;return c}function C(e){var t,n=new Uint8Array(e),o="";for(t=0;t<n.length;t+=3)o+=le[n[t]>>2],o+=le[(3&n[t])<<4|n[t+1]>>4],o+=le[(15&n[t+1])<<2|n[t+2]>>6],o+=le[63&n[t+2]];return n.length%3==2?o=o.substring(0,o.length-1)+"=":n.length%3==1&&(o=o.substring(0,o.length-2)+"=="),o}function I(e,t){var n="";if(e&&(n=Te.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Te.call(e.buffer))){var o,i=ue;e instanceof ArrayBuffer?(o=e,i+=me):(o=e.buffer,"[object Int8Array]"===n?i+=he:"[object Uint8Array]"===n?i+=ge:"[object Uint8ClampedArray]"===n?i+=ye:"[object Int16Array]"===n?i+=ve:"[object Uint16Array]"===n?i+=Le:"[object Int32Array]"===n?i+=be:"[object Uint32Array]"===n?i+=ke:"[object Float32Array]"===n?i+=_e:"[object Float64Array]"===n?i+=Se:t(new Error("Failed to get type for BinaryArray"))),t(i+C(o))}else if("[object Blob]"===n){var r=new FileReader;r.onload=function(){var n=ce+e.type+"~"+C(this.result);t(ue+pe+n)},r.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function M(e){if(e.substring(0,fe)!==ue)return JSON.parse(e);var t,n=e.substring(we),o=e.substring(fe,we);if(o===pe&&de.test(n)){var r=n.match(de);t=r[1],n=n.substring(r[0].length)}var s=E(n);switch(o){case me:return s;case pe:return i([s],{type:t});case he:return new Int8Array(s);case ge:return new Uint8Array(s);case ye:return new Uint8ClampedArray(s);case ve:return new Int16Array(s);case Le:return new Uint16Array(s);case be:return new Int32Array(s);case ke:return new Uint32Array(s);case _e:return new Float32Array(s);case Se:return new Float64Array(s);default:throw new Error("Unkown type: "+o)}}function x(e){var t=this,n={db:null};if(e)for(var o in e)n[o]="string"!=typeof e[o]?e[o].toString():e[o];var i=new ie(function(e,o){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return o(e)}n.db.transaction(function(i){i.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=n,e()},function(e,t){o(t)})})});return n.serializer=qe,i}function A(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var o=n.rows.length?n.rows.item(0).value:null;o&&(o=i.serializer.deserialize(o)),t(o)},function(e,t){o(t)})})}).catch(o)});return r(o,t),o}function O(e,t){var n=this,o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName,[],function(n,o){for(var r=o.rows,s=r.length,a=0;a<s;a++){var l=r.item(a),c=l.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,l.key,a+1)))return void t(c)}t()},function(e,t){o(t)})})}).catch(o)});return r(o,t),o}function H(e,t,n){var o=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=new ie(function(n,i){o.ready().then(function(){void 0===t&&(t=null);var r=t,s=o._dbInfo;s.serializer.serialize(t,function(t,o){o?i(o):s.db.transaction(function(o){o.executeSql("INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){n(r)},function(e,t){i(t)})},function(e){e.code===e.QUOTA_ERR&&i(e)})})}).catch(i)});return r(i,n),i}function R(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){o(t)})})}).catch(o)});return r(o,t),o}function U(e){var t=this,n=new ie(function(e,n){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("DELETE FROM "+o.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return r(n,e),n}function B(e){var t=this,n=new ie(function(e,n){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+o.storeName,[],function(t,n){var o=n.rows.item(0).c;e(o)},function(e,t){n(t)})})}).catch(n)});return r(n,e),n}function j(e,t){var n=this,o=new ie(function(t,o){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var o=n.rows.length?n.rows.item(0).key:null;t(o)},function(e,t){o(t)})})}).catch(o)});return r(o,t),o}function P(e){var t=this,n=new ie(function(e,n){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT key FROM "+o.storeName,[],function(t,n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).key);e(o)},function(e,t){n(t)})})}).catch(n)});return r(n,e),n}function F(e){var t=this,n={};if(e)for(var o in e)n[o]=e[o];return n.keyPrefix=n.name+"/",n.storeName!==t._defaultConfig.storeName&&(n.keyPrefix+=n.storeName+"/"),t._dbInfo=n,n.serializer=qe,ie.resolve()}function z(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var o=localStorage.key(n);0===o.indexOf(e)&&localStorage.removeItem(o)}});return r(n,e),n}function G(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=n.ready().then(function(){var t=n._dbInfo,o=localStorage.getItem(t.keyPrefix+e);return o&&(o=t.serializer.deserialize(o)),o});return r(o,t),o}function W(e,t){var n=this,o=n.ready().then(function(){for(var t=n._dbInfo,o=t.keyPrefix,i=o.length,r=localStorage.length,s=1,a=0;a<r;a++){var l=localStorage.key(a);if(0===l.indexOf(o)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(i),s++)))return c}}});return r(o,t),o}function Q(e,t){var n=this,o=n.ready().then(function(){var t,o=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(o.keyPrefix.length)),t});return r(o,t),o}function Y(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,o=[],i=0;i<n;i++)0===localStorage.key(i).indexOf(e.keyPrefix)&&o.push(localStorage.key(i).substring(e.keyPrefix.length));return o});return r(n,e),n}function J(e){var t=this,n=t.keys().then(function(e){return e.length});return r(n,e),n}function V(e,t){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return r(o,t),o}function $(e,t,n){var o=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var i=o.ready().then(function(){void 0===t&&(t=null);var n=t;return new ie(function(i,r){var s=o._dbInfo;s.serializer.serialize(t,function(t,o){if(o)r(o);else try{localStorage.setItem(s.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||r(e),r(e)}})})});return r(i,n),i}function X(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function K(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Oe(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}function Z(e){for(var t in Ce)if(Ce.hasOwnProperty(t)&&Ce[t]===e)return!0;return!1}var ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},te=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){}}();"undefined"==typeof Promise&&void 0!==e&&e(3);var ne,oe,ie=Promise,re="local-forage-detect-blob-support",se=Object.prototype.toString,ae={_driver:"asyncStorage",_initStorage:L,iterate:_,getItem:k,setItem:S,removeItem:w,clear:T,length:q,key:D,keys:N},le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce="~~local_forage_type~",de=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",fe=ue.length,me="arbf",pe="blob",he="si08",ge="ui08",ye="uic8",ve="si16",be="si32",Le="ur16",ke="ui32",_e="fl32",Se="fl64",we=fe+me.length,Te=Object.prototype.toString,qe={serialize:I,deserialize:M,stringToBuffer:E,bufferToString:C},De={_driver:"webSQLStorage",_initStorage:x,iterate:O,getItem:A,setItem:H,removeItem:R,clear:U,length:B,key:j,keys:P},Ne={_driver:"localStorageWrapper",_initStorage:F,iterate:W,getItem:G,setItem:$,removeItem:V,clear:z,length:J,key:Q,keys:Y},Ee={},Ce={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Ie=[Ce.INDEXEDDB,Ce.WEBSQL,Ce.LOCALSTORAGE],Me=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],xe={description:"",driver:Ie.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},Ae={};Ae[Ce.INDEXEDDB]=function(){try{return!!te&&(!("undefined"!=typeof openDatabase&&"undefined"!=typeof navigator&&navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))&&(te&&"function"==typeof te.open&&"undefined"!=typeof IDBKeyRange))}catch(e){return!1}}(),Ae[Ce.WEBSQL]=function(){return"function"==typeof openDatabase}(),Ae[Ce.LOCALSTORAGE]=function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(e){return!1}}();var Oe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},He=function(){function e(t){o(this,e),this.INDEXEDDB=Ce.INDEXEDDB,this.LOCALSTORAGE=Ce.LOCALSTORAGE,this.WEBSQL=Ce.WEBSQL,this._defaultConfig=K({},xe),this._config=K({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":ee(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e)"storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this._config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var o=new ie(function(t,n){try{var o=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),r=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void n(i);if(Z(e._driver))return void n(r);for(var s=Me.concat("_initStorage"),a=0;a<s.length;a++){var l=s[a];if(!l||!e[l]||"function"!=typeof e[l])return void n(i)}var c=ie.resolve(!0);"_support"in e&&(c=e._support&&"function"==typeof e._support?e._support():ie.resolve(!!e._support)),c.then(function(n){Ae[o]=n,Ee[o]=e,t()},n)}catch(e){n(e)}});return s(o,t,n),o},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var o=this,i=ie.resolve().then(function(){if(!Z(e)){if(Ee[e])return Ee[e];throw new Error("Driver not found.")}switch(e){case o.INDEXEDDB:return ae;case o.LOCALSTORAGE:return Ne;case o.WEBSQL:return De}});return s(i,t,n),i},e.prototype.getSerializer=function(e){var t=ie.resolve(qe);return s(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return s(n,e,e),n},e.prototype.setDriver=function(e,t,n){function o(){r._config.driver=r.driver()}function i(e){return function(){function t(){for(;n<e.length;){var i=e[n];return n++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(function(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}).catch(t)}o();var s=new Error("No available storage method found.");return r._driverSet=ie.reject(s),r._driverSet}var n=0;return t()}}var r=this;Oe(e)||(e=[e]);var a=this._getSupportedDrivers(e),l=null!==this._driverSet?this._driverSet.catch(function(){return ie.resolve()}):ie.resolve();return this._driverSet=l.then(function(){var e=a[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=i(a)})}).catch(function(){o();var e=new Error("No available storage method found.");return r._driverSet=ie.reject(e),r._driverSet}),s(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Ae[e]},e.prototype._extend=function(e){K(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,o=e.length;n<o;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<Me.length;e++)X(this,Me[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),Re=new He;t.exports=Re},{3:3}]},{},[4])(4)}),function(){"use strict";var e=!1;if("undefined"!=typeof process&&!process.browser){e=!0;var t=require("request".trim())}var n=!1,o=!1;try{void 0!==(new XMLHttpRequest).withCredentials?n=!0:"XDomainRequest"in window&&(n=!0,o=!0)}catch(e){}var i=Array.prototype.indexOf,r=function(e,t){var n=0,o=e.length;if(i&&e.indexOf===i)return e.indexOf(t);for(;n<o;n++)if(e[n]===t)return n;return-1},s=function(t){return this&&this instanceof s?("string"==typeof t&&(t={key:t}),this.callback=t.callback,this.wanted=t.wanted||[],this.key=t.key,this.simpleSheet=!!t.simpleSheet,this.parseNumbers=!!t.parseNumbers,this.wait=!!t.wait,this.reverse=!!t.reverse,this.postProcess=t.postProcess,this.debug=!!t.debug,this.query=t.query||"",this.orderby=t.orderby,this.endpoint=t.endpoint||"https://spreadsheets.google.com",this.singleton=!!t.singleton,this.simpleUrl=!(!t.simpleUrl&&!t.simple_url),this.callbackContext=t.callbackContext,this.prettyColumnNames=void 0===t.prettyColumnNames?!t.proxy:t.prettyColumnNames,void 0!==t.proxy&&(this.endpoint=t.proxy.replace(/\/$/,""),this.simpleUrl=!0,this.singleton=!0,n=!1),this.parameterize=t.parameterize||!1,this.singleton&&(void 0!==s.singleton&&this.log("WARNING! Tabletop singleton already defined"),s.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)(&|#|$)")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),/spreadsheets\/d/.test(this.key)&&(this.log("You passed the most recent version of Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)/")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.modelNames=[],this.model_names=this.modelNames,this.baseJsonPath="/feeds/worksheets/"+this.key+"/public/basic?alt=",this.baseJsonPath+=e||n?"json":"json-in-script",void(this.wait||this.fetch())):void this.log("You need to pass Tabletop a key!")):new s(t)};s.callbacks={},s.init=function(e){return new s(e)},s.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},s.prototype={fetch:function(e){void 0!==e&&(this.callback=e),this.requestData(this.baseJsonPath,this.loadSheets)},requestData:function(t,i){if(this.log("Requesting",t),e)this.serverSideFetch(t,i);else{var r=this.endpoint.split("//").shift()||"http";!n||o&&r!==location.protocol?this.injectScript(t,i):this.xhrFetch(t,i)}},xhrFetch:function(e,t){var n=o?new XDomainRequest:new XMLHttpRequest;n.open("GET",this.endpoint+e);var i=this;n.onload=function(){var e;try{e=JSON.parse(n.responseText)}catch(e){console.error(e)}t.call(i,e)},n.send()},injectScript:function(e,t){var n,o=document.createElement("script");if(this.singleton)t===this.loadSheets?n="Tabletop.singleton.loadSheets":t===this.loadSheet&&(n="Tabletop.singleton.loadSheet");else{var i=this;n="tt"+ +new Date+Math.floor(1e5*Math.random()),s.callbacks[n]=function(){var e=Array.prototype.slice.call(arguments,0);t.apply(i,e),o.parentNode.removeChild(o),delete s.callbacks[n]},n="Tabletop.callbacks."+n}var r=e+"&callback="+n;this.simpleUrl?-1!==e.indexOf("/list/")?o.src=this.endpoint+"/"+this.key+"-"+e.split("/")[4]:o.src=this.endpoint+"/"+this.key:o.src=this.endpoint+r,this.parameterize&&(o.src=this.parameterize+encodeURIComponent(o.src)),this.log("Injecting",o.src),document.getElementsByTagName("script")[0].parentNode.appendChild(o)},serverSideFetch:function(e,n){var o=this;this.log("Fetching",this.endpoint+e),t({url:this.endpoint+e,json:!0},function(e,t,i){if(e)return console.error(e);n.call(o,i)})},isWanted:function(e){return 0===this.wanted.length||-1!==r(this.wanted,e)},data:function(){if(0!==this.modelNames.length)return this.simpleSheet?(this.modelNames.length>1&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.modelNames[0]].all()):this.models},addWanted:function(e){-1===r(this.wanted,e)&&this.wanted.push(e)},loadSheets:function(t){var o,i,r=[];for(this.googleSheetName=t.feed.title.$t,this.foundSheetNames=[],o=0,i=t.feed.entry.length;o<i;o++)if(this.foundSheetNames.push(t.feed.entry[o].title.$t),this.isWanted(t.feed.entry[o].content.$t)){var s=t.feed.entry[o].link.length-1,a=t.feed.entry[o].link[s].href.split("/").pop(),l="/feeds/list/"+this.key+"/"+a+"/public/values?alt=";l+=e||n?"json":"json-in-script",this.query&&(l+="&tq="+this.query),this.orderby&&(l+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(l+="&reverse=true"),r.push(l)}for(this.sheetsToLoad=r.length,o=0,i=r.length;o<i;o++)this.requestData(r[o],this.loadSheet)},sheets:function(e){return void 0===e?this.models:void 0===this.models[e]?void 0:this.models[e]},sheetReady:function(e){this.models[e.name]=e,-1===r(this.modelNames,e.name)&&this.modelNames.push(e.name),0===--this.sheetsToLoad&&this.doCallback()},loadSheet:function(e){var t=this;new s.Model({data:e,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this,prettyColumnNames:this.prettyColumnNames,onReady:function(){t.sheetReady(this)}})},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&&"undefined"!=typeof console&&void 0!==console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},s.Model=function(e){var t,n,o,i;if(this.columnNames=[],this.column_names=this.columnNames,this.name=e.data.feed.title.$t,this.tabletop=e.tabletop,this.elements=[],this.onReady=e.onReady,this.raw=e.data,void 0===e.data.feed.entry)return e.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),this.originalColumns=[],this.elements=[],void this.onReady.call(this);for(var r in e.data.feed.entry[0])/^gsx/.test(r)&&this.columnNames.push(r.replace("gsx$",""));for(this.originalColumns=this.columnNames,this.original_columns=this.originalColumns,t=0,o=e.data.feed.entry.length;t<o;t++){var s=e.data.feed.entry[t],a={};for(n=0,i=this.columnNames.length;n<i;n++){var l=s["gsx$"+this.columnNames[n]];void 0!==l?e.parseNumbers&&""!==l.$t&&!isNaN(l.$t)?a[this.columnNames[n]]=+l.$t:a[this.columnNames[n]]=l.$t:a[this.columnNames[n]]=""}void 0===a.rowNumber&&(a.rowNumber=t+1),e.postProcess&&e.postProcess(a),this.elements.push(a)}e.prettyColumnNames?this.fetchPrettyColumns():this.onReady.call(this)},s.Model.prototype={all:function(){return this.elements},fetchPrettyColumns:function(){if(!this.raw.feed.link[3])return this.ready();var e=this.raw.feed.link[3].href.replace("/feeds/list/","/feeds/cells/").replace("https://spreadsheets.google.com",""),t=this;this.tabletop.requestData(e,function(e){t.loadPrettyColumns(e)})},ready:function(){this.onReady.call(this)},loadPrettyColumns:function(e){for(var t={},n=this.columnNames,o=0,i=n.length;o<i;o++)void 0!==e.feed.entry[o].content.$t?t[n[o]]=e.feed.entry[o].content.$t:t[n[o]]=n[o];this.prettyColumns=t,this.pretty_columns=this.prettyColumns,this.prettifyElements(),this.ready()},prettifyElements:function(){var e,t,n,o,i=[],r=[];for(t=0,
o=this.columnNames.length;t<o;t++)r.push(this.prettyColumns[this.columnNames[t]]);for(e=0,n=this.elements.length;e<n;e++){var s={};for(t=0,o=this.columnNames.length;t<o;t++){s[this.prettyColumns[this.columnNames[t]]]=this.elements[e][this.columnNames[t]]}i.push(s)}this.elements=i,this.columnNames=r},toArray:function(){var e,t,n,o,i=[];for(e=0,n=this.elements.length;e<n;e++){var r=[];for(t=0,o=this.columnNames.length;t<o;t++)r.push(this.elements[e][this.columnNames[t]]);i.push(r)}return i}},"undefined"!=typeof module&&module.exports?module.exports=s:"function"==typeof define&&define.amd?define(function(){return s}):window.Tabletop=s}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tinyTermsApp=function(){"use strict";function e(){var e=t(),o=[];o=Array.from(R[R.pickedList].storedData.dateOpened),!0===n(e,o)?!0===R[R.pickedList].ops.addDay?R[R.pickedList].storedData.newDay=!0:R[R.pickedList].storedData.newDay=!1:R[R.pickedList].storedData.newDay=!0}function t(){var e=[],t=(new Date).getDate(),n=(new Date).getMonth();return e.push([t,n]),e}function n(e,t){return JSON.stringify(e)==JSON.stringify(t)}function o(e,t){for(var n=0;n<e.length;n++)!function(n){e[n].addEventListener("click",function(e){e.preventDefault(),t(n)})}(n)}function i(e){var t=Object.keys(e);return t[t.length*Math.random()<<0]}function r(e,t){if(e===t)return!0;if(e.toUpperCase()===t.toUpperCase())return!0;var n=function(e){var t=void 0,n=void 0,o=void 0,i=void 0,r=void 0;for(i=e.toLowerCase(),r=new Array(i.length-1),t=n=0,o=r.length;n<=o;t=n+=1)r[t]=i.slice(t,t+2);return r};return function(e,t){var o=void 0,i=void 0,r=void 0,s=void 0,a=void 0,l=void 0,c=void 0,d=void 0,u=void 0,f=void 0;if(e.length>0&&t.length>0){for(l=n(e),c=n(t),d=l.length+c.length,o=0,i=0,s=l.length;i<s;i++)for(u=l[i],r=0,a=c.length;r<a;r++)f=c[r],u===f&&o++;if(o>0)return 2*o/d}return 0}(e,t)>R[R.pickedList].ops.wordAccuracy&&"mispelled"}function s(e){function t(){localforage.getItem("tinyTerms"+o,function(e,t){if(null!==t)R.pickedList=o,n(R.pickedList);else{T(function(){S("Please connect to the internet to download list, after it will be available offline.",function(){document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),L()})})},function(){P()}),B=!1}})}function n(e){R.storedName="tinyTerms"+e,localforage.getItem("tinyTerms"+e,function(e,t){R[R.pickedList]=t,R[R.pickedList].ops=U,localforage.getItem("tinyTerms.globalUnlocks",function(e,t){null!==t&&(R.globalUnlocks=t,"unlocked"===R.globalUnlocks.terms10.active&&(R[R.pickedList].ops.displayedTerms=10)),void 0!==R[R.pickedList].storedData.listUnlocks&&"unlocked"===R[R.pickedList].storedData.listUnlocks.timerHalf.active&&(R[R.pickedList].ops.counterMins=30),j(G)})})}var o=void 0;localforage.getItem("tinyTerms.tutComplete",function(e,n){R.tutComplete=n,localforage.getItem("tinyTermsDefault",function(e,n){o=n,null===o?(B=!1,L()):t()})})}var a={fonts:{solid:["icon-puchi-puchi_adapt","icon-puchi-puchi_affect","icon-puchi-puchi_alarm","icon-puchi-puchi_blaze","icon-puchi-puchi_call","icon-puchi-puchi_cry","icon-puchi-puchi_drink","icon-puchi-puchi_eat","icon-puchi-puchi_game","icon-puchi-puchi_judge","icon-puchi-puchi_like","icon-puchi-puchi_listen","icon-puchi-puchi_lock","icon-puchi-puchi_ring","icon-puchi-puchi_select","icon-puchi-puchi_speak","icon-puchi-puchi_think","icon-puchi-puchi_treat"],light:["icon-feather_add","icon-feather_analyze","icon-feather_bloom","icon-feather_brew","icon-feather_climb","icon-feather_copy","icon-feather_crave","icon-feather_encourage","icon-feather_fall","icon-feather_fly","icon-feather_glow","icon-feather_grow","icon-feather_heat","icon-feather_laugh","icon-feather_manufacture","icon-feather_mine","icon-feather_plot","icon-feather_prick"],feather:["icon-lines-and-angles_accommodate","icon-lines-and-angles_adapt","icon-lines-and-angles_add","icon-lines-and-angles_adjust","icon-lines-and-angles_agitate","icon-lines-and-angles_agree","icon-lines-and-angles_aid","icon-lines-and-angles_alarm","icon-lines-and-angles_alert","icon-lines-and-angles_amaze","icon-lines-and-angles_amplify","icon-lines-and-angles_analyze","icon-lines-and-angles_announce","icon-lines-and-angles_arrest","icon-lines-and-angles_ascend","icon-lines-and-angles_ask","icon-lines-and-angles_assist","icon-lines-and-angles_attract","icon-lines-and-angles_augment","icon-lines-and-angles_bake","icon-lines-and-angles_balance","icon-lines-and-angles_battle","icon-lines-and-angles_be","icon-lines-and-angles_believe","icon-lines-and-angles_birth","icon-lines-and-angles_blaze","icon-lines-and-angles_blend","icon-lines-and-angles_bloom","icon-lines-and-angles_blow","icon-lines-and-angles_bookmark","icon-lines-and-angles_bootleg","icon-lines-and-angles_bounce","icon-lines-and-angles_break","icon-lines-and-angles_brew","icon-lines-and-angles_broadcast","icon-lines-and-angles_browse","icon-lines-and-angles_build","icon-lines-and-angles_burn","icon-lines-and-angles_bury","icon-lines-and-angles_buy","icon-lines-and-angles_caffeinate","icon-lines-and-angles_calculate","icon-lines-and-angles_calibrate","icon-lines-and-angles_carry","icon-lines-and-angles_carve","icon-lines-and-angles_cast","icon-lines-and-angles_catch","icon-lines-and-angles_cease","icon-lines-and-angles_celebrate","icon-lines-and-angles_challenge","icon-lines-and-angles_charge","icon-lines-and-angles_charm","icon-lines-and-angles_chart","icon-lines-and-angles_chat","icon-lines-and-angles_choose","icon-lines-and-angles_chop","icon-lines-and-angles_clean","icon-lines-and-angles_cleanse","icon-lines-and-angles_climb","icon-lines-and-angles_drum","icon-lines-and-angles_eat","icon-lines-and-angles_edit","icon-lines-and-angles_enhance","icon-lines-and-angles_enlarge","icon-lines-and-angles_enter","icon-lines-and-angles_equal","icon-lines-and-angles_erase","icon-lines-and-angles_examine","icon-lines-and-angles_experiment","icon-lines-and-angles_explore","icon-lines-and-angles_extrude","icon-lines-and-angles_feed","icon-lines-and-angles_fight","icon-lines-and-angles_fill","icon-lines-and-angles_film","icon-lines-and-angles_filter","icon-lines-and-angles_find","icon-lines-and-angles_finish","icon-lines-and-angles_fix","icon-lines-and-angles_flag","icon-lines-and-angles_float","icon-lines-and-angles_flow","icon-lines-and-angles_fly","icon-lines-and-angles_focus","icon-lines-and-angles_fold","icon-lines-and-angles_forbid","icon-lines-and-angles_forebode","icon-lines-and-angles_fork","icon-lines-and-angles_format","icon-lines-and-angles_game","icon-lines-and-angles_give","icon-lines-and-angles_glance","icon-lines-and-angles_grill","icon-lines-and-angles_grow","icon-lines-and-angles_guide","icon-lines-and-angles_hang","icon-lines-and-angles_harvest","icon-lines-and-angles_haunt","icon-lines-and-angles_heal","icon-lines-and-angles_hear","icon-lines-and-angles_hide","icon-lines-and-angles_hold","icon-lines-and-angles_home","icon-lines-and-angles_identify","icon-lines-and-angles_imagine","icon-lines-and-angles_influence","icon-lines-and-angles_inject","icon-lines-and-angles_invade","icon-lines-and-angles_iron","icon-lines-and-angles_jam","icon-lines-and-angles_join","icon-lines-and-angles_judge","icon-lines-and-angles_keep","icon-lines-and-angles_kick","icon-lines-and-angles_pitch","icon-lines-and-angles_plan","icon-lines-and-angles_plant","icon-lines-and-angles_play","icon-lines-and-angles_push","icon-lines-and-angles_rain","icon-lines-and-angles_read","icon-lines-and-angles_record","icon-lines-and-angles_redo","icon-lines-and-angles_reheat","icon-lines-and-angles_remind","icon-lines-and-angles_repeat","icon-lines-and-angles_report","icon-lines-and-angles_resurrect","icon-lines-and-angles_rewind","icon-lines-and-angles_ride","icon-lines-and-angles_ring","icon-lines-and-angles_rise","icon-lines-and-angles_rock","icon-lines-and-angles_roll","icon-lines-and-angles_rule","icon-lines-and-angles_run","icon-lines-and-angles_save","icon-lines-and-angles_schedule","icon-lines-and-angles_screw","icon-lines-and-angles_scroll","icon-lines-and-angles_search","icon-lines-and-angles_see","icon-lines-and-angles_select","icon-lines-and-angles_sell","icon-lines-and-angles_send","icon-lines-and-angles_sew","icon-lines-and-angles_shade","icon-lines-and-angles_shake","icon-lines-and-angles_share","icon-lines-and-angles_shine","icon-lines-and-angles_shop","icon-lines-and-angles_shower","icon-lines-and-angles_shuffle","icon-lines-and-angles_sing","icon-lines-and-angles_sit","icon-lines-and-angles_skip","icon-lines-and-angles_sleep","icon-lines-and-angles_slice","icon-lines-and-angles_slide","icon-lines-and-angles_smell","icon-lines-and-angles_smuggle","icon-lines-and-angles_snow","icon-lines-and-angles_solve","icon-lines-and-angles_sound","icon-lines-and-angles_sparkle","icon-lines-and-angles_speak","icon-lines-and-angles_spin","icon-lines-and-angles_spy","icon-lines-and-angles_stack","icon-lines-and-angles_stamp","icon-lines-and-angles_steam","icon-lines-and-angles_stomp","icon-lines-and-angles_stop","icon-lines-and-angles_strum","icon-lines-and-angles_study","icon-lines-and-angles_submerge","icon-lines-and-angles_succeed","icon-lines-and-angles_sweep","icon-lines-and-angles_swim","icon-lines-and-angles_sync","icon-lines-and-angles_tag","icon-lines-and-angles_target","icon-lines-and-angles_teach","icon-lines-and-angles_think","icon-lines-and-angles_thunder","icon-lines-and-angles_tie","icon-lines-and-angles_tower","icon-lines-and-angles_transport","icon-lines-and-angles_trash","icon-lines-and-angles_travel","icon-lines-and-angles_trend","icon-lines-and-angles_turn","icon-lines-and-angles_type","icon-lines-and-angles_undo","icon-lines-and-angles_unlock","icon-lines-and-angles_upload","icon-lines-and-angles_use","icon-lines-and-angles_wait","icon-lines-and-angles_wash","icon-lines-and-angles_watch","icon-lines-and-angles_wear","icon-lines-and-angles_weigh","icon-lines-and-angles_win","icon-lines-and-angles_work","icon-lines-and-angles_worship","icon-lines-and-angles_write","icon-lines-and-angles_yell","icon-lines-and-angles_clip","icon-lines-and-angles_close","icon-lines-and-angles_code","icon-lines-and-angles_collect","icon-lines-and-angles_commit","icon-lines-and-angles_connect","icon-lines-and-angles_contact","icon-lines-and-angles_contain","icon-lines-and-angles_control","icon-lines-and-angles_cook","icon-lines-and-angles_cool","icon-lines-and-angles_copy","icon-lines-and-angles_crave","icon-lines-and-angles_create","icon-lines-and-angles_creep","icon-lines-and-angles_crop","icon-lines-and-angles_cry","icon-lines-and-angles_curdle","icon-lines-and-angles_cut","icon-lines-and-angles_dance","icon-lines-and-angles_dazzle","icon-lines-and-angles_decide","icon-lines-and-angles_defend","icon-lines-and-angles_deliver","icon-lines-and-angles_design","icon-lines-and-angles_destroy","icon-lines-and-angles_develop","icon-lines-and-angles_die","icon-lines-and-angles_disappear","icon-lines-and-angles_discard","icon-lines-and-angles_discover","icon-lines-and-angles_disguise","icon-lines-and-angles_divide","icon-lines-and-angles_download","icon-lines-and-angles_draw","icon-lines-and-angles_drill","icon-lines-and-angles_drink","icon-lines-and-angles_drive","icon-lines-and-angles_drop","icon-lines-and-angles_kiss","icon-lines-and-angles_launch","icon-lines-and-angles_lick","icon-lines-and-angles_lift","icon-lines-and-angles_light","icon-lines-and-angles_like","icon-lines-and-angles_link","icon-lines-and-angles_live","icon-lines-and-angles_load","icon-lines-and-angles_locate","icon-lines-and-angles_lock","icon-lines-and-angles_madho","icon-lines-and-angles_manufacture","icon-lines-and-angles_mark","icon-lines-and-angles_measure","icon-lines-and-angles_medicate","icon-lines-and-angles_melt","icon-lines-and-angles_merge","icon-lines-and-angles_mill","icon-lines-and-angles_move","icon-lines-and-angles_multiply","icon-lines-and-angles_mute","icon-lines-and-angles_navigate","icon-lines-and-angles_open","icon-lines-and-angles_pack","icon-lines-and-angles_paint","icon-lines-and-angles_park","icon-lines-and-angles_paste","icon-lines-and-angles_pause","icon-lines-and-angles_pay","icon-lines-and-angles_perform","icon-lines-and-angles_photograph","icon-lines-and-angles_pick","icon-lines-and-angles_pin","icon-lines-and-angles_plot","icon-lines-and-angles_point","icon-lines-and-angles_poison","icon-lines-and-angles_present","icon-lines-and-angles_press","icon-lines-and-angles_primp","icon-lines-and-angles_print","icon-lines-and-angles_pucker"]}},l=function(e){var t="",n=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var a=r.value,l=R[R.pickedList].terms[a].term,c=R[R.pickedList].terms[a].definition,d=R[R.pickedList].terms[a].support,u=N(l),f=void 0;R[R.pickedList].storedData.revealGoal=R[R.pickedList].storedData.revealGoal||{},f=void 0===R[R.pickedList].storedData.revealGoal[l]?0:R[R.pickedList].storedData.revealGoal[l]||0,"unlocked"===R.globalUnlocks.bgStars.active&&document.querySelector("body").classList.add("stars"),"unlocked"===R.globalUnlocks.bgLetters.active&&document.querySelector("body").classList.add("letters"),document.querySelector("h1").innerHTML=R.pickedList,document.querySelector(".list-action").innerHTML=R[R.pickedList].action+'<span class="query-holder">'+R[R.pickedList].storedData.dailyQuery+"</span>";for(var m="",h=0;h<50;h++)m+='<div class="particle">&#9733;</div>';t+='<div class="m-term-wrapper '+u+'">\n                <p class="term-holder">'+l+'</p>\n                <div class="theme-holder"><p class="symbol-holder"></p></div>\n                <div class="explosion">\n                    '+m+'\n                </div>\n                <div class="right">\n                    <p class="term-views"><span>Goal:</span> <span class="count">'+f+"</span> / "+R[R.pickedList].ops.revealGoalTarget+'</p>\n                    <button class="reveal">Reveal</button>\n                </div>\n                <div class="definition-wrapper hidden">\n                    <p class="definition-holder">'+c+'</p>\n                    <div class="helpers">\n                        <a href="#" class="lookup"></a>\n                        <a href="#" class="colour"></a>\n                        <a href="#" class="symbol"></a>\n                    </div>\n                    <div class="support-wrapper">'+d+"</div>\n                </div>\n            </div>"}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}document.querySelector(".terms-wrapper").innerHTML=t;for(var g=document.querySelectorAll(".term-holder"),y=0;y<g.length;y++)g[y].style.minHeight="0px",g[y].classList.add("lines-"+q(g[y])),g[y].style.minHeight="86px";var v=!0,b=!1,L=void 0;try{for(var k,_=e[Symbol.iterator]();!(v=(k=_.next()).done);v=!0){var S=k.value,w=R[R.pickedList].terms[S].term,T=N(w);if(R[R.pickedList].storedData.viewedTerms=R[R.pickedList].storedData.viewedTerms||{},void 0!==R[R.pickedList].storedData.viewedTerms[w]&&void 0!==R[R.pickedList].storedData.viewedTerms[w].colour){var D=document.querySelector("."+T),E=R[R.pickedList].storedData.viewedTerms[w].colour;D.querySelector(".theme-holder").style.background=E,D.querySelector(".theme-holder").classList.add("bg-active"),D.querySelector(".term-holder").style.color="#fff"}if(void 0!==R[R.pickedList].storedData.viewedTerms[w]&&void 0!==R[R.pickedList].storedData.viewedTerms[w].symbol){var C=document.querySelector("."+T),I=R[R.pickedList].storedData.viewedTerms[w].symbol;C.querySelector(".symbol-holder").classList="symbol-holder",C.querySelector(".symbol-holder").classList.add(I)}}}catch(e){b=!0,L=e}finally{try{!v&&_.return&&_.return()}finally{if(b)throw L}}var M=!0,x=!1,A=void 0;try{for(var O,H=e[Symbol.iterator]();!(M=(O=H.next()).done);M=!0){var U=O.value;if(void 0!==R[R.pickedList].storedData.revealCountdowns&&void 0!==R[R.pickedList].storedData.revealCountdowns[U])for(var B=document.querySelectorAll(".reveal"),j=0;j<B.length;j++){var P=B[j].parentNode.parentNode.querySelector(".term-holder").innerHTML;P===U&&p(B[j])}}}catch(e){x=!0,A=e}finally{try{!M&&H.return&&H.return()}finally{if(x)throw A}}},c=function(){var e=document.querySelector(".hearts"),t="";void 0===R[R.pickedList].storedData.hearts&&(R[R.pickedList].storedData.hearts=R[R.pickedList].ops.points.hearts);for(var n=0;n<R[R.pickedList].storedData.hearts;n++)t+="<p></p>";e.innerHTML=t,localforage.setItem(R.storedName,R[R.pickedList])},d=function(){localforage.getItem("tinyTerms.score",function(e,t){null===t?(R.score=0,localforage.setItem("tinyTerms.score",n)):R.score=t;var n=R.score;document.querySelector(".score-holder").innerHTML=n})},u=function(){R[R.pickedList].storedData.learnedTerms=R[R.pickedList].storedData.learnedTerms||{};var e=Object.keys(R[R.pickedList].storedData.learnedTerms).length,t=Object.keys(R[R.pickedList].terms).length;document.querySelector(".m-progress-bar").querySelector(".completed").innerHTML=e,document.querySelector(".m-progress-bar").querySelector(".remaining").innerHTML=" / "+t,document.querySelector(".m-progress-bar").querySelector(".progress-bg").style.width=e/t*100+"%"},f=function(e){function t(){function t(e,t){document.querySelector(".query-form").classList.add("hidden"),d.classList.add("hidden"),"mispelled"===e?(a.innerHTML="Well done but check your spelling ("+t+'), the definition is <strong>"'+u+'"</strong>',a.classList.remove("hidden")):(a.innerHTML='Well done, the definition is <strong>"'+u+'"</strong>',a.classList.remove("hidden"));var o=R.score;o+=R[R.pickedList].ops.points.correct,l.innerHTML=o,R.score=o,localforage.setItem("tinyTerms.score",o,function(){R[R.pickedList].storedData.correctTerms[n]=u,R[R.pickedList].storedData.queryComplete=!0,delete R[R.pickedList].storedData.dailyQuery,localforage.setItem(R.storedName,R[R.pickedList])})}function o(){var e=document.querySelector(".query-input");e.style.border="1px solid #ccc",e.placeholder=e.value,e.value="",a.innerHTML="Try again.",a.classList.remove("hidden"),d.removeChild(d.getElementsByTagName("p")[0]),R[R.pickedList].storedData.hearts-=1,0===R[R.pickedList].storedData.hearts&&(document.querySelector(".query-form").classList.add("hidden"),d.classList.add("hidden"),e.value="",e.placeholder="Enter the definition",a.innerHTML="Sorry, you are out of attempts!",a.classList.remove("hidden"),R[R.pickedList].storedData.incorrectTerms[n]=u,R[R.pickedList].storedData.queryComplete=!0,delete R[R.pickedList].storedData.hearts),localforage.setItem(R.storedName,R[R.pickedList])}var i=document.querySelector(".query-wrapper"),s=document.querySelector(".query-submit"),a=document.querySelector(".result-holder"),l=document.querySelector(".score-holder"),d=document.querySelector(".hearts"),u=R[R.pickedList].terms[n].definition;R[R.pickedList].storedData.dailyQuery=n,R[R.pickedList].storedData.queryComplete=!1,localforage.setItem(R.storedName,R[R.pickedList]);var f=N(n);null!==document.querySelector("."+f)&&document.querySelector("."+f).querySelector(".definition-wrapper").classList.add("hidden"),document.querySelector(".query-holder").innerHTML=n,delete R[R.pickedList].storedData.hearts,c(),i.classList.remove("hidden"),e&&(i.getElementsByTagName("h2")[0].innerHTML="Bonus Test"),window.addEventListener("keypress",function(e){13===e.keyCode&&s.click()}),s.addEventListener("click",function(e){e.preventDefault();var n=document.querySelector(".query-input").value;!0===r(n,u)?t():"mispelled"===r(n,u)?t("mispelled",n):""===n?(document.querySelector(".query-input").style.border="1px solid #ff0000",a.innerHTML="Please enter a definition.",a.classList.remove("hidden")):o()})}var n=void 0,o=0;R[R.pickedList].storedData.queryTerms=R[R.pickedList].storedData.queryTerms||{},R[R.pickedList].storedData.correctTerms=R[R.pickedList].storedData.correctTerms||{},R[R.pickedList].storedData.incorrectTerms=R[R.pickedList].storedData.incorrectTerms||{};for(var s=[];o<Object.keys(R[R.pickedList].storedData.viewedTerms).length;){if(n=void 0===R[R.pickedList].storedData.dailyQuery?i(R[R.pickedList].storedData.viewedTerms):R[R.pickedList].storedData.dailyQuery,!R[R.pickedList].storedData.correctTerms.hasOwnProperty(n))if(void 0!==R[R.pickedList].storedData.dailyReminder){if(!R[R.pickedList].storedData.dailyReminder.hasOwnProperty(n)){t();break}}else if(!R[R.pickedList].storedData.dailyTerms.hasOwnProperty(n)){t();break}s.indexOf(n)||o++,o===Object.keys(R[R.pickedList].storedData.viewedTerms).length&&(document.querySelector(".result-holder").innerHTML="Reveal more terms to get a query",document.querySelector(".result-holder").classList.remove("hidden"))}},m=function(){var e=document.querySelectorAll(".reveal");o(e,function(t){if(e[t].classList.contains("disabled"))return!1;var n=e[t].parentNode.parentNode.querySelector(".explosion");n.classList.add("explode"),setTimeout(function(){return n.classList.remove("explode")},1e3);var o=[e[t].parentNode.parentNode.querySelector(".term-holder").innerHTML],i=e[t].parentNode.querySelector(".count"),r=e[t].parentNode.parentNode.querySelector(".definition-wrapper");e[t].parentNode.parentNode.querySelector(".definition-holder"),parseInt(i.innerHTML);r.classList.remove("hidden"),r.classList.add("slideInUp","animated"),e[t].parentNode.classList.add("rubberBand","animated"),R[R.pickedList].storedData.viewedTerms=R[R.pickedList].storedData.viewedTerms||{},R[R.pickedList].storedData.viewedTerms[o]=R[R.pickedList].storedData.viewedTerms[o]||{},R[R.pickedList].storedData.viewedTerms[o].viewCount=R[R.pickedList].storedData.viewedTerms[o].viewCount||0,R[R.pickedList].storedData.viewedTerms[o].viewCount+=1;var s=void 0;if(void 0===R[R.pickedList].storedData.revealGoal[o]?s=1:(s=R[R.pickedList].storedData.revealGoal[o],s+=1),i.innerHTML=s,s===R[R.pickedList].ops.revealGoalTarget){R[R.pickedList].storedData.learnedTerms=R[R.pickedList].storedData.learnedTerms||{},R[R.pickedList].storedData.learnedTerms[o]=R[R.pickedList].terms[o].definition,Object.keys(R[R.pickedList].storedData.learnedTerms).length===Object.keys(R[R.pickedList].terms).length&&(R[R.pickedList].storedData.gameWon=!0,function(){var e=document.querySelector(".m-modal");e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");e.querySelector(".content").innerHTML+='<header>\n                                <h2 class="">Whoop whoop!!</h2>\n                            </header>\n                            <p>Well done you completed the whole list! You get a bonus 10 points for each term learned.</p>\n                            <p>You can keep learning this list, reset it in the options to start from scratch or move on to\n                            learn something new entirely.</p>\n                            <p><strong>Great job!</strong></p>';var t=Object.keys(R[R.pickedList].terms).length*R[R.pickedList].ops.points.winBonus,n=R.score;n+=t,scoreHolder.innerHTML=n,R.score=n,localforage.setItem("tinyTerms.score",n)}()),u(),!1===R[R.pickedList].storedData.revealGoal.complete&&(R[R.pickedList].storedData.queryComplete=!1,f(!0)),R[R.pickedList].storedData.revealGoal.complete=!0;var a=R.score;a+=R[R.pickedList].ops.points.dailyBonus,document.querySelector(".score-holder").innerHTML=a,R.score=a,localforage.setItem("tinyTerms.score",a)}R[R.pickedList].storedData.revealGoal[o]=s,localforage.setItem(R.storedName,R[R.pickedList]),p(e[t])})},p=function(e){function t(){var t=(new Date).getTime();e.classList.add("disabled"),e.setAttribute("disabled",!0),s=R[R.pickedList].storedData.revealCountdowns[o].startTime,a=R[R.pickedList].storedData.revealCountdowns[o].timerEnded;var n=Math.floor((t-s)/1e3),l=60*R[R.pickedList].ops.counterMins+i;if(n>=l&&(a=!0,clearInterval(R[R.pickedList].storedData.revealCountdowns[o].timerUpdate),delete R[R.pickedList].storedData.revealCountdowns[o]),!0===a)return localforage.setItem(R.storedName,R[R.pickedList]),!1;r=l-n}function n(){var t=Math.floor(r/60),n=r%60,o="";if(r<=0)return e.innerHTML="Reveal",e.classList.remove("disabled"),e.disabled=!1,!1;n<10&&n>=0&&(o="0"),60===r&&(n="00"),e.innerHTML=t+":"+o+n,r-=1}R[R.pickedList].storedData.revealCountdowns=R[R.pickedList].storedData.revealCountdowns||{};var o=[e.parentNode.parentNode.querySelector(".term-holder").innerHTML],i=(R[R.pickedList].ops.counterMins,R[R.pickedList].ops.counterSecs),r=void 0,s=void 0,a=void 0;void 0===R[R.pickedList].storedData.revealCountdowns[o]?(s=(new Date).getTime(),R[R.pickedList].storedData.revealCountdowns[o]={startTime:s,timerEnded:!1},t()):t(),localforage.setItem(R.storedName,R[R.pickedList]);var l=0;!1===a?R[R.pickedList].storedData.revealCountdowns[o].timerUpdate=setInterval(function(){l+=1,l%5==0&&t(),n()},1e3):(e.innerHTML="Reveal",e.classList.remove("disabled"),e.disabled=!1)},h=function(){var e=document.querySelectorAll(".term-holder");if(o(e,function(t){var n={German:"de-DE",English:"en-GB",Spanish:"es-ES",French:"fr-FR",Italian:"it-IT",Portuguese:"pt-BR"};if("undefined"==typeof TTS){var o=new SpeechSynthesisUtterance(e[t].innerHTML);o.lang=n[R[R.pickedList].speechLang],window.speechSynthesis.speak(o)}else TTS.speak({text:e[t].innerHTML,locale:n[R[R.pickedList].speechLang],rate:1},function(){},function(e){S(e)})}),"None"===R[R.pickedList].speechLang)for(var t=0;t<e.length;t++)e[t].classList.add("no-speak")},g=function(){var e=document.querySelectorAll(".lookup"),t=document.querySelector(".m-modal");o(e,function(n){var o=e[n].parentNode.parentNode.parentNode.querySelector(".term-holder").innerHTML;t.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var i='<header>\n                        <h2 class="dictionary">Dictionary definitions</h2>\n                    </header>\n                    <p>'+o+':</p>\n                    <ul class="definitions">\n                    </ul>';t.querySelector(".content").innerHTML+=i;var r=t.querySelector(".definitions"),s=encodeURI("https://glosbe.com/gapi/translate?from="+R[R.pickedList].dictFrom+"&dest="+R[R.pickedList].dictTo+"&format=json&pretty=true&phrase="+o.toLowerCase());I(s).then(function(e){var t="";try{!function(){!function e(n,o,i){var r=void 0,s=Object.prototype,a=s.toString,l=s.hasOwnProperty.bind(n);for(r in n)l(r)&&(r===o?t+="<li>"+n[r]+"</li>":"[object Array]"!==a.call(n[r])&&"[object Object]"!==a.call(n[r])||e(n[r],o,i));return i}(e,"text"),void 0!==e.tuc&&0!==e.tuc.length||(t="(Sorry, no dictionary results found)"),r.innerHTML=t}()}catch(e){console.log(e)}})})},y=function(){function e(){var e=document.querySelector(".colour-term").innerHTML,t=N(e),n=document.querySelector("."+t);o(i,function(t){var o=i[t].getAttribute("data-colour");n.querySelector(".theme-holder").style.background=o,n.querySelector(".theme-holder").classList.add("bg-active"),n.querySelector(".term-holder").style.color="#fff",R[R.pickedList].storedData.viewedTerms[e].colour=o,localforage.setItem(R.storedName,R[R.pickedList]),b(!0)}),document.querySelector(".no-colour").addEventListener("click",function(t){n.querySelector(".term-holder").style.color="#3F4747",delete R[R.pickedList].storedData.viewedTerms[e].colour,localforage.setItem(R.storedName,R[R.pickedList])})}var t=document.querySelector(".m-modal"),n=document.querySelectorAll(".colour"),i=void 0;o(n,function(o){t.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var r=(n[o].parentNode.parentNode.parentNode,n[o].parentNode.parentNode.parentNode.querySelector(".term-holder").innerHTML),s='<header>\n                        <h2 class="colour">Colour picker</h2>\n                    </header>\n                    <p>Click below to add a colour for <br>"<span class="colour-term">'+r+'</span>":</p>\n                    <ul class="colour-wrap">\n                        <li><a href="#" data-colour="#F44336"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#E91E63"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#9C27B0"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#3F51B5"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#2196F3"></a></li>\n\t\t\t\t\t\t<li><a href="#" data-colour="#009688"></a></li>\n                        <br>\n                        <li><a href="#" data-colour="#4CAF50"></a></li>\n                        <li><a href="#" data-colour="#CDDC39"></a></li>\n                        <li><a href="#" data-colour="#FFC107"></a></li>\n                        <li><a href="#" data-colour="#FF5722"></a></li>\n                        <li><a href="#" data-colour="#212121"></a></li>\n                        <li><a href="#" class="no-colour" data-colour="#fff"></a></li>\n                    </ul>';t.querySelector(".content").innerHTML+=s,void 0!==R.globalUnlocks&&("unlocked"===R.globalUnlocks.coloursNeon.active&&(t.querySelector(".colour-wrap").innerHTML+='\n                           <li><a href="#" data-colour="#FF0099"></a></li>\n                           <li><a href="#" data-colour="#83F52C"></a></li>\n                           <li><a href="#" data-colour="#FD1C03"></a></li>\n                           <li><a href="#" data-colour="#00FFFF"></a></li>\n                           <li><a href="#" data-colour="#9D00FF"></a></li>\n                           <li><a href="#" data-colour="#E6FB04"></a></li>\n                            '),"unlocked"===R.globalUnlocks.coloursMetal.active&&(t.querySelector(".colour-wrap").innerHTML+='\n                           <li><a href="#" data-colour="#CC9900"></a></li>\n                           <li><a href="#" data-colour="#C0C0C0"></a></li>\n                           <li><a href="#" data-colour="#CD7f32"></a></li>\n                            '));var a=t.querySelector(".colour-wrap");i=a.getElementsByTagName("a");for(var l=0;l<i.length;l++)i[l].style.backgroundColor=i[l].getAttribute("data-colour");e()})},v=function(){function e(){for(var e=document.querySelector(".symbol-term").innerHTML,n=N(e),o=document.querySelector("."+n),i="",r=0;r<t.getElementsByTagName("table").length;r++)!function(t){t.addEventListener("click",function(t){t=t||window.event;var n=t.target||t.srcElement;i=n.getAttribute("class"),o.querySelector(".symbol-holder").classList="symbol-holder",o.querySelector(".symbol-holder").classList.add(i),R[R.pickedList].storedData.viewedTerms[e].symbol=i,localforage.setItem(R.storedName,R[R.pickedList]),b(!0)},!1)}(t.getElementsByTagName("table")[r]);document.querySelector(".symbol-clear").addEventListener("click",function(t){o.querySelector(".symbol-holder").classList="symbol-holder",delete R[R.pickedList].storedData.viewedTerms[e].symbol,localforage.setItem(R.storedName,R[R.pickedList]),b(!0)})}var t=document.querySelector(".m-modal"),n=document.querySelectorAll(".symbol"),i="<tr>";if("unlocked"===R.globalUnlocks.symbolsSolid.active){i+="<table>";for(var r=0,s=0;s<a.fonts.solid.length;s++)r%5==0&&0!=r&&(i+="</tr><tr>"),i+="<td><p class="+a.fonts.solid[s]+"></p></td>",r++,s===a.fonts.solid.length-1&&(i+="</tr>");i+="</table>"}if("unlocked"===R.globalUnlocks.symbolsFeather.active){i+="<table>";for(var l=0,c=0;c<a.fonts.light.length;c++)l%5==0&&0!=l&&(i+="</tr><tr>"),i+="<td><p class="+a.fonts.light[c]+"></p></td>",l++,c===a.fonts.light.length-1&&(i+="</tr>");i+="</table>"}i+="<table>";for(var d=0,u=0;u<a.fonts.feather.length;u++)d%5==0&&0!=d&&(i+="</tr><tr>"),i+="<td><p class="+a.fonts.feather[u]+"></p></td>",d++,u===a.fonts.feather.length-1&&(i+="</tr>");i+="</table>",o(n,function(o){t.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var r=(n[o].parentNode.parentNode.parentNode,
n[o].parentNode.parentNode.parentNode.querySelector(".term-holder").innerHTML),s='<header>\n                        <h2 class="symbol">Glyph picker</h2>\n                    </header>\n                    <p>Click below to add a glyph for <br>"<span class="symbol-term">'+r+'</span>":</p>\n                    <div class="symbol-wrap">\n                        <a href="#" class="symbol-clear icon-right-open">Clear selected symbol</a>\n                        '+i+"\n                    </div>";t.querySelector(".content").innerHTML+=s,e()})},b=function(e){function t(){document.getElementsByTagName("body")[0].classList.remove("modal-active"),n.classList.add("hidden"),n.querySelector(".content").innerHTML=""}var n=document.querySelector(".m-modal");n.querySelector(".close").addEventListener("click",function(e){e.preventDefault(),t()}),e&&t()},L=function(){function e(){var e=document.querySelectorAll(".category");Object.keys(R.customListChoices).length>0&&(document.querySelector(".custom").style.display="inline-block");for(var r=0;r<e.length;r++)!function(r){e[r].addEventListener("click",function(s){s.preventDefault(),t(e[r].innerHTML),setTimeout(function(){n(),d.addEventListener("click",function(e){e.preventDefault(),o()}),i()},500)})}(r)}function t(e){l.classList.add("animated","slideOutLeft"),a.classList.add("animated","fadeOutUp"),m="";for(var t in R.listChoices)R.listChoices[t].category===e&&(m+='<a href="#">'+R.listChoices[t].name+"</a>");for(var n in R.customListChoices)R.customListChoices[n].category===e&&(m+='<div class="'+N(R.customListChoices[n].name)+'"><span class="custom-list"></span><a href="#">'+R.customListChoices[n].name+"</a></div>")}function n(){a.innerHTML="Choose a list:",a.classList.remove("fadeOutUp"),a.classList.add("fadeInDown"),d.classList.remove("hidden"),l.getElementsByTagName("nav")[0].innerHTML=m,l.classList.remove("slideOutLeft"),l.classList.add("slideInRight"),l.getElementsByTagName("a").length>3&&(l.classList.add("slideInRight","scroll"),f=setInterval(function(){l.clientHeight===l.scrollHeight-l.scrollTop?u.classList.add("hidden"):u.classList.remove("hidden")},500))}function o(){a.classList.add("fadeOutUp"),a.classList.remove("fadeInDown"),l.classList.remove("slideInRight"),l.classList.add("slideOutRight"),setTimeout(function(){a.innerHTML="Choose a category:",a.classList.remove("fadeOutUp"),a.classList.add("fadeInDown"),d.classList.add("hidden"),l.getElementsByTagName("nav")[0].innerHTML=c,l.classList.add("slideInLeft"),l.classList.remove("slideOutRight","scroll"),e()},500)}function i(){for(var e=document.querySelector(".choose-list").querySelectorAll("a"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault(),R.pickedList=this.innerHTML,localforage.getItem("tinyTermsAllPicked",function(e,t){R.AllPicked=t||[],!1===R.AllPicked.includes(R.pickedList)&&R.AllPicked.push(R.pickedList),localforage.setItem("tinyTermsAllPicked",R.AllPicked,function(){localforage.setItem("tinyTermsDefault",R.pickedList,function(){location.reload()})})})});for(var n=document.querySelectorAll(".custom-list"),o=0;o<n.length;o++)!function(e){n[e].addEventListener("click",function(t){t.preventDefault();var o=n[e].nextSibling;document.querySelector(".create-list").classList.add("hidden"),n[e].classList.add("hidden"),n[e].parentNode.insertBefore(document.createElement("div"),o.nextSibling),o.nextSibling.innerHTML='<p>Are you sure you want to delete your list? (Can\'t undo)</p><button class="delete-cancel">Cancel</button><button class="delete-confirm">Confim</button>',document.querySelector(".delete-confirm").addEventListener("click",function(){var t=n[e].parentNode.childNodes[1].innerHTML;localforage.getItem("tinyTerms.uploadedLists",function(e,n){R.uploadedLists=n||{},delete R.uploadedLists[t],localforage.setItem("tinyTerms.uploadedLists",R.uploadedLists,function(){location.reload()})}),localforage.setItem("tinyTerms.uploadedLists",R.uploadedLists,function(){n[e].parentNode.removeChild(o.nextSibling),n[e].parentNode.parentNode.removeChild(document.querySelector("."+N(t))),localforage.removeItem(R.storedName).then(function(){localforage.removeItem(R[R.pickedList]).then(function(){localforage.removeItem("tinyTermsDefault"),location.reload()})})})}),document.querySelector(".delete-cancel").addEventListener("click",function(){n[e].parentNode.removeChild(o.nextSibling),n[e].classList.remove("hidden"),document.querySelector(".create-list").classList.remove("hidden")})})}(o)}function r(e,r){e=e.substring(0,25),0===e.length&&(document.querySelector(".upload-name").style.border="1px solid #ff0000",document.querySelector(".upload-name").placeholder="Please enter a name"),e.length>0&&r.length>0&&(!0===D(r)?localforage.getItem("tinyTerms.uploadedLists",function(s,a){R.uploadedLists=a||{},R.uploadedLists[e]={name:e,category:"Your lists",sheetURL:r},localforage.setItem("tinyTerms.uploadedLists",R.uploadedLists,function(){R.customListChoices=R.customListChoices||{},R.customListChoices[e]={name:e,category:"Your lists",sheetURL:r},document.querySelector(".custom").style.display="inline-block",t("Your lists"),setTimeout(function(){n(),d.addEventListener("click",function(e){e.preventDefault(),o()}),i()},500),b(!0)})}):(document.querySelector(".upload-sheet").style.border="1px solid #ff0000",document.querySelector(".upload-sheet").value="",document.querySelector(".upload-sheet").placeholder="Please enter a valid Sheets URL"))}setTimeout(function(){document.getElementsByTagName("body")[0].classList.remove("loading"),document.querySelector(".m-query").classList.add("animated","slideInDown")},2500),R.uploadedLists=R.uploadedLists||{},localforage.getItem("tinyTerms.uploadedLists",function(t,n){R.customListChoices=R.customListChoices||{};for(var o in n){var i=n[o].name,r=n[o].category,s=n[o].sheetURL;R.customListChoices[i]={name:i,category:r,sheetURL:s}}e()});var s=document.querySelector(".m-menu");s.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active"),document.getElementsByTagName("body")[0].classList.add("home");var a=document.querySelector(".home-bg").getElementsByTagName("h2")[0],l=s.querySelector(".choose-list"),c=l.getElementsByTagName("nav")[0].innerHTML,d=document.querySelector(".nav-back"),u=document.querySelector(".scroll-arrow"),f=void 0,m=void 0;document.querySelector(".upload-info").addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(".m-modal");t.classList.remove("hidden"),t.style.zIndex="101",t.querySelector(".close").addEventListener("click",function(e){e.preventDefault(),b(!0)});if("undefined"!=typeof store){store.get("full version").owned?(t.querySelector(".content").innerHTML+='<header>\n\t\t\t\t\t\t\t\t<h2 class="">Upload a list</h2>\n\t\t\t\t\t\t\t</header>\n\t\t\t\t\t\t\t<p>Create your very own list of Tiny Terms! For more info please visit:</p>\n\t\t\t\t\t\t\t<a target="_blank" href="http://www.tiny-terms.com">http://www.tiny-terms.com</a>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class="list-uploader">\n\t\t\t\t\t\t\t\t<label>List Name (max 25 characters)</label>\n\t\t\t\t\t\t\t\t<input class="upload-name" type="text" placeholder="Enter list name">\n\t\t\t\t\t\t\t\t<label>List URL</label>\n\t\t\t\t\t\t\t\t<input class="upload-sheet" type="text" placeholder="Paste list URL">\n\t\t\t\t\t\t\t\t<button class="upload-list">Upload</button>\n\t\t\t\t\t\t\t</div>',function(){window.addEventListener("keypress",function(e){var t=document.querySelector(".upload-name").value,n=document.querySelector(".upload-sheet").value;13===e.keyCode&&r(t,n)}),document.querySelector(".upload-list").addEventListener("click",function(e){e.preventDefault(),r(document.querySelector(".upload-name").value,document.querySelector(".upload-sheet").value)})}()):(t.querySelector(".content").innerHTML+='<header>\n                        \t<h2 class="">Upload a list</h2>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<p>Create your very own list of Tiny Terms! For more info please visit:</p>\n\t\t\t\t\t\t<a target="_blank" href="http://www.tiny-terms.com">http://www.tiny-terms.com</a>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="list-uploader">\n\t\t\t\t\t\t\t<p>Unlock this feature for just 59p</p>\n\t\t\t\t\t\t\t<button class="unlock-uploadlist">Unlock</button>\n\t\t\t\t\t\t</div>',document.querySelector(".unlock-uploadlist").addEventListener("click",function(e){e.preventDefault(),store.order("custom list")}))}else t.querySelector(".content").innerHTML+='<header>\n                        \t<h2 class="">Upload a list</h2>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<p>Create your very own list of Tiny Terms! For more info please visit:</p>\n\t\t\t\t\t\t<a target="_blank" href="http://www.tiny-terms.com">http://www.tiny-terms.com</a>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="list-uploader">\n\t\t\t\t\t\t\t<p>This feature is only available in the App version.</p>\n\t\t\t\t\t\t</div>'})},k=function(){if("undefined"!=typeof cordova)cordova.plugins.instabug.invoke();else{var e=function(){var e=document.querySelector(".m-modal");e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");return e.querySelector(".content").innerHTML='<header>\n\t\t\t\t\t\t<h2 class="">Get in touch</h2>\n\t\t\t\t\t</header>\n\t\t\t\t\t<p>We always welcome feedback especially if something isn\'t working as expected.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tPlease email us at <a href="mailto:info@tiny-terms.com">info@tiny-terms.com</a> with your thoughts.</p>\n\n\t\t\t\t\t<button class="close-feedback">Close</button>\n\t\t\t\t\t',e.classList.add("onboard"),document.querySelector(".close-feedback").addEventListener("click",function(t){t.preventDefault(),b(!0),R.tutComplete=!0,localforage.setItem("tinyTerms.tutComplete",R.tutComplete),e.classList.remove("onboard")}),{v:!1}}();if("object"===(void 0===e?"undefined":_typeof(e)))return e.v}},_=function(e,t){window.onerror=function(n,o,i,r,s){var a=document.querySelector(".m-modal");a.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var l='<header>\n                        <h2 class="">Uh oh!</h2>\n                    </header>\n                    <br>\n                    <h3>'+e+"</h3>\n                    <p><strong>Here's the exact problem:</strong></p>\n                    <p>'Error: "+n+"</p> \n                    <p>Script: "+o+"</p> \n                    <p>Line: "+i+"</p>\n                    <p>Column: "+r+"</p> \n                    <p>StackTrace: "+s+'</p>\n\n                    <button class="crash-report">Report issue</button><button class="home-btn">Close</button>\n                    ';return a.querySelector(".content").innerHTML=l,a.classList.add("onboard"),t(),document.querySelector(".crash-report").addEventListener("click",function(e){e.preventDefault(),k()}),document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),L()}),!1}},S=function(e,t){var n=document.querySelector(".m-modal");n.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var o='<header>\n\t\t\t\t\t<h2 class="">Something\'s not right</h2>\n\t\t\t\t</header>\n\t\t\t\t<p>'+e+'</p>\n\n\t\t\t\t<button class="home-btn">Close</button>\n\t\t\t\t';return n.querySelector(".content").innerHTML=o,n.classList.add("onboard"),document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),L()}),t(),!1},w=function(e){if(void 0===e){var t=document.querySelector(".m-modal");t.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");t.querySelector(".content").innerHTML='<header>\n\t\t\t\t\t\t<h2 class="">The list didn\'t load</h2>\n\t\t\t\t\t</header>\n\t\t\t\t\t<p>Please check you have internet connection.</p>\n\n\t\t\t\t\t<button class="home-btn">Close</button>\n\t\t\t\t\t',t.classList.add("onboard"),document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),L()})}else{var n=e.Sheet1.columnNames[1];R[R.pickedList].speechLang=n,R[R.pickedList].dictFrom=e.Sheet1.elements[0][n],R[R.pickedList].dictTo=e.Sheet1.elements[1][n],R[R.pickedList].action=e.Sheet1.elements[2][n],R[R.pickedList].terms=R[R.pickedList].terms||{};for(var o=0;o<e.Sheet1.elements.length;o++){var i=e.Sheet1.elements[o].Term,r=e.Sheet1.elements[o].Definition,s=e.Sheet1.elements[o].Support;R[R.pickedList].terms[i]={},R[R.pickedList].terms[i].term=i,R[R.pickedList].terms[i].definition=r,R[R.pickedList].terms[i].support=s}R.postBuildCallback()}},T=function(e,t){var n=new Image;n.src="http://www.tiny-terms.com/img/brand/logo_white.svg?d="+escape(Date()),n.onload=function(){return t()},n.onerror=function(){return e()}},q=function(e){var t=window.getComputedStyle(e,null),n=parseInt(t.getPropertyValue("height")),o=parseInt(t.getPropertyValue("font-size")),i=parseInt(t.getPropertyValue("line-height")),r=t.getPropertyValue("box-sizing");if(isNaN(i)&&(i=1.2*o),"border-box"==r){n=n-parseInt(t.getPropertyValue("padding-top"))-parseInt(t.getPropertyValue("padding-bottom"))-parseInt(t.getPropertyValue("border-top-width"))-parseInt(t.getPropertyValue("border-bottom-width"))}return Math.ceil(n/i)},D=function(e){var t=document.createElement("a");return t.href=e,t.host&&t.host!=window.location.host},N=function(e){return e.replace(/[^a-z0-9]/g,function(e){var t=e.charCodeAt(0);return 32==t?"-":t>=65&&t<=90?"_"+e.toLowerCase():"__"+("000"+t.toString(16)).slice(-4)})},E=function(){function e(e){var t="visible",n="hidden",o={focus:t,focusin:t,pageshow:t,blur:n,focusout:n,pagehide:n};e=e||window.event,e.type in o||location.reload()}var t="hidden";t in document?document.addEventListener("visibilitychange",e):(t="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(t="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(t="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e,void 0!==document[t]&&e({type:document[t]?"blur":"focus"})},C=function(e,t,n){var o=1;return n&&(o=-1),e.sort(function(e,n){var i=e[1][t],r=n[1][t];return o*(i<r?-1:i>r?1:0)})},I=function(e){return new Promise(function(t,n){var o="_"+Math.round(1e4*Math.random()),i="jsonp_callback_"+o;window[i]=function(e){delete window[i];var n=document.getElementById(o);n.parentNode.removeChild(n),t(e)};var r=e+"&callback="+i,s=document.createElement("script");s.src=r,s.id=o,s.addEventListener("error",n),(document.getElementsByTagName("head")[0]||document.body||document.documentElement).appendChild(s)})},M=function(){var e=0,t=0,n=[],o=[],r=Object.keys(R[R.pickedList].terms).length;if(R[R.pickedList].ops.displayedTerms>r&&(R[R.pickedList].ops.displayedTerms=r),void 0===R[R.pickedList].storedData.firstTime)for(;e<R[R.pickedList].ops.displayedTerms;){var s=i(R[R.pickedList].terms);n.includes(s)||(n.push(s),e++)}else{if(R[R.pickedList].storedData.incorrectTerms=R[R.pickedList].storedData.incorrectTerms||{},Object.keys(R[R.pickedList].storedData.incorrectTerms).length>0){var a=void 0;R[R.pickedList].storedData.remindedTerms=R[R.pickedList].storedData.remindedTerms||{},void 0===R[R.pickedList].storedData.dailyReminder?(R[R.pickedList].storedData.dailyReminder={},a=i(R[R.pickedList].storedData.incorrectTerms),R[R.pickedList].storedData.dailyReminder[a]=R[R.pickedList].terms[a].definition):(a=R[R.pickedList].storedData.dailyReminder,a=Object.getOwnPropertyNames(a)),n.push(a),delete R[R.pickedList].storedData.incorrectTerms[a],R[R.pickedList].storedData.remindedTerms[a]=R[R.pickedList].terms[a].definition,e++}for(;e<R[R.pickedList].ops.displayedTerms;){R[R.pickedList].storedData.viewedTerms=R[R.pickedList].storedData.viewedTerms||{};if(Object.keys(R[R.pickedList].storedData.viewedTerms).length+e===r){var l=[];for(var c in R[R.pickedList].storedData.viewedTerms)l.push([c,R[R.pickedList].storedData.viewedTerms[c]]);if(void 0!==R[R.pickedList].storedData.dailyReminder)for(var d=l.length-1;d>=0;d--)R[R.pickedList].storedData.dailyReminder.hasOwnProperty(l[d][0])&&l.splice(d,1);for(l=C(l,"viewCount");e<R[R.pickedList].ops.displayedTerms;)n.push(l[e][0]),e++;e++}else{var u=i(R[R.pickedList].terms);o.includes(u)||(o.push(u),R[R.pickedList].storedData.viewedTerms.hasOwnProperty(u)||(n.push(u),e++))}t>1e4&&(e=R[R.pickedList].ops.displayedTerms),t++}}return n},x=function(){function e(){b(!0),d.style.zIndex="100",d.querySelector(".term-holder").classList.add("animated","pulse","infinite"),d.querySelector(".definition-wrapper").classList.add("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active"),m.setAttribute("disabled","true"),document.querySelector(".m-modal").style.cssText="display: none !important",c.classList.remove("hidden");c.innerHTML='<p>This is one of the terms you will be learning, you get 5 each day.</p>\n                    <button class="onboard-2">Next</button>';var e=d.offsetTop+d.offsetHeight;c.style.top=e+"px",document.querySelector(".onboard-2").addEventListener("click",function(e){e.preventDefault(),t()})}function t(){d.querySelector(".term-holder").classList.remove("animated","pulse","infinite"),d.querySelector(".term-views").classList.add("animated","pulse","infinite");c.innerHTML='<p>On the right is the goal meter, fill this and the term is marked as complete.</p>\n                    <button class="onboard-3">Next</button>',c.classList.add("onboard-right"),document.querySelector(".onboard-3").addEventListener("click",function(e){e.preventDefault(),n()})}function n(){d.querySelector(".term-views").classList.remove("animated","pulse","infinite"),m.classList.add("animated","pulse","infinite");var e=setInterval(function(){m.classList.remove("disabled"),m.removeAttribute("disabled")},100);c.innerHTML='<p style="border:0; margin: 10px 0; padding: 0">Press the reveal button to continue!</p>\n                    ',m.addEventListener("click",function(t){t.preventDefault(),clearInterval(e),o()})}function o(){m.classList.remove("animated","pulse","infinite"),d.querySelector(".definition-wrapper").classList.remove("hidden"),d.querySelector(".definition-holder").classList.add("animated","pulse","infinite"),m.classList.add("disabled");var e=d.querySelector(".count"),t=parseInt(e.innerHTML);if(t>1){t-=1,e.innerHTML=t;var n=d.querySelector(".term-holder").innerHTML;R[R.pickedList].storedData.viewedTerms[n].viewCount=t,R[R.pickedList].storedData.revealGoal[n]=e.innerHTML=t,localforage.setItem(R.storedName,R[R.pickedList])}var o=d.offsetTop+u.offsetTop+u.offsetHeight+95;c.style.top=o+"px";c.innerHTML='<p>This is the definition you need to learn, helpful information is displayed underneath.</p>\n                    <button class="onboard-5">Next</button>',c.classList.remove("onboard-right"),document.querySelector(".onboard-5").addEventListener("click",function(e){e.preventDefault(),i()})}function i(){d.querySelector(".definition-holder").classList.remove("animated","pulse","infinite");var e=d.offsetTop+u.offsetTop+95;c.style.top=e+"px";c.innerHTML='<p>Tiny Terms uses spaced repetition, check back in an hour to add to the goal.</p>\n                    <button class="onboard-6">Next</button>',c.classList.add("onboard-right"),document.querySelector(".onboard-6").addEventListener("click",function(e){e.preventDefault(),r()})}function r(){d.querySelector(".colour").classList.add("animated","pulse","infinite"),d.querySelector(".symbol").classList.add("animated","pulse","infinite"),document.querySelector(".query-holder").setAttribute("disabled","true");var e=d.offsetTop+u.offsetTop+u.offsetHeight+95;c.style.top=e+"px";c.innerHTML='<p>You can add a colour and symbol to the term, the visual association will help you rememeber.</p>\n                    <button class="onboard-7">Next</button>',document.querySelector(".onboard-7").addEventListener("click",function(e){e.preventDefault(),s()})}function s(){d.querySelector(".colour").classList.remove("animated","pulse","infinite"),d.querySelector(".symbol").classList.remove("animated","pulse","infinite"),d.style.zIndex="50";var e=document.querySelector(".m-query");document.querySelector(".query-submit").setAttribute("disabled","true"),document.querySelector(".query-input").setAttribute("disabled","true"),document.querySelector(".m-modal").style.cssText="",b(!0),f(!0),delete R[R.pickedList].storedData.dailyQuery,localforage.setItem(R.storedName,R[R.pickedList]);var t=e.offsetTop+e.offsetHeight;c.style.top=t+"px",e.style.zIndex="100";c.innerHTML='<p>Each day you get a mini test to see how well you have rememebered, you can also unlock an extra test by completing at least one goal meter in a day.</p>\n                    <button class="onboard-8">Next</button>',document.querySelector(".onboard-8").addEventListener("click",function(e){e.preventDefault(),a()})}function a(){l.classList.remove("hidden"),c.innerHTML="",c.classList.add("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var e=document.querySelector(".m-query");document.querySelector(".query-holder").removeAttribute("disabled"),document.querySelector(".query-submit").removeAttribute("disabled"),document.querySelector(".query-input").removeAttribute("disabled"),e.style.zIndex="50",e.classList.add("hidden"),d.querySelector(".definition-wrapper").classList.remove("hidden");l.querySelector(".content").innerHTML='<header>\n                        <h2 class="">That\'s about it</h2>\n                    </header>\n                    <p>Fill the progress bar by completing the goal meters to finish the list! You get points for answering tests correctly and completing goal meters, use them to unlock cool stuff. <br><br>Good luck!</p>\n                    <button class="close-tut">Close the tutorial</button>\n                    ',l.classList.add("onboard"),document.querySelector(".close-tut").addEventListener("click",function(e){e.preventDefault(),b(!0),R.tutComplete=!0,localforage.setItem("tinyTerms.tutComplete",R.tutComplete),l.classList.remove("onboard")})}var l=document.querySelector(".m-modal"),c=document.querySelector(".m-onboarding"),d=document.querySelectorAll(".m-term-wrapper")[0],u=d.querySelector(".definition-holder"),m=d.getElementsByTagName("button")[0];R.tutComplete=!1,localforage.setItem("tinyTerms.tutComplete",R.tutComplete),l.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");l.querySelector(".content").innerHTML='<header>\n                    <h2 class="icon-child">Welcome to Tiny Terms!</h2>\n                </header>\n                <p>Looks like this is your first time here, so let\'s go over some basics before you get started.</p>\n                <button class="onboard-1">Let\'s go!</button>\n                <a href="#" class="close-tut">Skip the tutorial</a>\n                ',l.classList.add("onboard"),document.querySelector(".close-tut").addEventListener("click",function(e){e.preventDefault(),b(!0),l.classList.remove("onboard"),R.tutComplete=!0,localforage.setItem("tinyTerms.tutComplete",R.tutComplete)}),document.querySelector(".onboard-1").addEventListener("click",function(t){t.preventDefault(),e()})},A=function(){function e(){document.getElementsByTagName("h1")[0].addEventListener("click",function(e){e.preventDefault(),document.querySelector(".m-nav").classList.remove("hidden","slideOutLeft"),document.querySelector(".m-nav").classList.add("animated","slideInLeft"),document.querySelector(".nav-bg").classList.add("animated","fadeIn"),document.querySelector(".nav-bg").classList.remove("fadeOut"),document.getElementsByTagName("body")[0].classList.add("nav-on"),setTimeout(function(){t()},100)})}function t(){document.querySelector(".nav-bg").addEventListener("click",function(t){t.preventDefault(),document.querySelector(".m-nav").classList.remove("slideInLeft"),document.querySelector(".m-nav").classList.add("slideOutLeft"),document.getElementsByTagName("body")[0].classList.remove("nav-on"),document.querySelector(".nav-bg").classList.add("fadeOut"),document.querySelector(".nav-bg").classList.remove("fadeIn"),setTimeout(function(){e()},100)})}var n=document.querySelector(".m-nav").querySelectorAll("nav")[0];e(),document.querySelector(".nav-close").addEventListener("click",function(t){t.preventDefault(),document.querySelector(".m-nav").classList.remove("slideInLeft"),document.querySelector(".m-nav").classList.add("slideOutLeft"),document.getElementsByTagName("body")[0].classList.remove("nav-on"),document.querySelector(".nav-bg").classList.add("fadeOut"),document.querySelector(".nav-bg").classList.remove("fadeIn"),setTimeout(function(){e()},100)}),localforage.getItem("tinyTermsAllPicked",function(e,t){R.AllPicked=t||[];for(var o=n.innerHTML,i=0;i<R.AllPicked.length;i++)o+='<a href="#">'+R.AllPicked[i]+"</a>";n.innerHTML=o;var r=n.querySelectorAll("a"),s=1;do{r[s].addEventListener("click",function(e){e.preventDefault(),R.pickedList=this.innerHTML,localforage.setItem("tinyTermsDefault",R.pickedList,function(){location.reload()})}),s++}while(s<r.length);document.querySelector(".view-all").addEventListener("click",function(e){e.preventDefault(),document.querySelector(".m-nav").classList.add("hidden"),document.getElementsByTagName("body")[0].classList.remove("nav-on"),document.getElementsByTagName("body")[0].classList.add("loading"),L()})})},O=function(){var e=document.querySelector(".m-modal");document.querySelector(".refresh").addEventListener("click",function(e){e.preventDefault(),location.reload()}),document.querySelector(".store").addEventListener("click",function(t){function n(e,t){for(var n=0;n<e.length;n++)!function(n){document.querySelector(e[n]).addEventListener("click",function(e){e.preventDefault(),t(n)})}(n)}t.preventDefault(),e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");e.querySelector(".content").innerHTML+='<header>\n                        <h2 class="icon-gift">Store (coming soon)</h2>\n                    </header>\n                    <div class="options store">\n                        <p>Paid unlocks:</p>\n                        <a href="#" class="points-10-terms"><strong>59p</strong> - Get 10 terms a day</a>\n                        <p>Points rewards - this list:</p>\n                        <a href="#" class="points-refresh-terms"><strong>250</strong> - Refresh terms</a>\n                        <a href="#" class="points-half-timer"><strong>300</strong> - Activate half timer (lasts 1 day)</a>\n                        <p>Points rewards - all lists:</p>\n                        <a href="#" class="points-neon-colours"><strong>500</strong> - Unlock neon colours</a>\n                        <a href="#" class="points-solid-symbols"><strong>1000</strong> - Unlock solid symbols</a>\n                        <a href="#" class="points-star-bg"><strong>3000</strong> - Unlock star background</a>\n                        <a href="#" class="points-feather-symbols"><strong>5000</strong> - Unlock feather symbols</a>\n                        <a href="#" class="points-letters-bg"><strong>10,000</strong> - Unlock letters background</a>\n                        <a href="#" class="points-metal-colours"><strong>50,000</strong> - Unlock metal colours</a>\n                        <p>Apply code:</p>\n                        <input class="" type="text" placeholder="Add code here">\n                        <button class="submit">Submit</button>\n                    </div>\n                    ';var o=[".points-refresh-terms",".points-half-timer"],i=[".points-10-terms",".points-neon-colours",".points-solid-symbols",".points-star-bg",".points-feather-symbols",".points-letters-bg",".points-metal-colours"];!0===R[R.pickedList].ops.godMode&&(R.score=1e6,document.querySelector(".score-holder").innerHTML=R.score),n(o,function(e){var t=Object.keys(R[R.pickedList].storedData.listUnlocks)[e],n=R.score,o=R[R.pickedList].storedData.listUnlocks[t].points;if(n-o>0){var i=n-o;if(R[R.pickedList].storedData.listUnlocks[t].active="unlocked","unlocked"===R[R.pickedList].storedData.listUnlocks.termsRefresh.active){var r=M();R[R.pickedList].storedData.dailyTerms=r}localforage.setItem("tinyTerms.score",i,function(){localforage.setItem(R.storedName,R[R.pickedList],function(){location.reload()})})}else{document.querySelector(".m-modal").querySelector(".content").innerHTML='<header>\n                                <h2 class="">Sorry, not enough points</h2>\n                            </header>\n                            <p>You can earn more points by completing goal meters, passing tests and finishing lists.</p>\n\n                            <button class="home-btn">Close</button>\n                            ',document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),b(!0)})}}),n(i,function(e){var t=Object.keys(R.globalUnlocks)[e],n=R.score,o=R.globalUnlocks[t].points;if("unlocked"===R.globalUnlocks[t].active||"inactive"===R.globalUnlocks[t].active)return!1;if(n-o>0){var i=n-o;if(R.globalUnlocks[t].active="unlocked","unlocked"===R.globalUnlocks.terms10.active){var r=M(),s=R[R.pickedList].storedData.dailyTerms,a=s.concat(r);R[R.pickedList].storedData.dailyTerms=a}localforage.setItem("tinyTerms.score",i,function(){localforage.setItem(R.storedName,R[R.pickedList],function(){localforage.setItem("tinyTerms.globalUnlocks",R.globalUnlocks,function(){location.reload()})})})}else{document.querySelector(".m-modal").querySelector(".content").innerHTML='<header>\n                                <h2 class="">Sorry, not enough points</h2>\n                            </header>\n                            <p>You can earn more points by completing goal meters, passing tests and finishing lists.</p>\n\n                            <button class="home-btn">Close</button>\n                            ',document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),b(!0)})}});for(var r=0;r<o.length;r++){var s=Object.keys(R[R.pickedList].storedData.listUnlocks)[r];"unlocked"===R[R.pickedList].storedData.listUnlocks[s].active&&document.querySelector(o[r]).parentNode.removeChild(document.querySelector(o[r]))}for(var a='<button class="store-on">Turn on</button>',l='<button class="store-off">Turn off</button>',c=0;c<i.length;c++){var d=i[c],u=Object.keys(R.globalUnlocks)[c],f=R.globalUnlocks[u].active;"unlocked"===f&&(document.querySelector(d).innerHTML=l),"inactive"===f&&(document.querySelector(d).innerHTML=a)}for(var m=0;m<document.querySelectorAll(".store-off").length;m++)!function(e){document.querySelectorAll(".store-off")[e].addEventListener("click",function(t){t.preventDefault();var n=document.querySelectorAll(".store-off")[e].parentNode.className,o="."+n,r=i.indexOf("."+n),s=Object.keys(R.globalUnlocks)[r];R.globalUnlocks[s].active;document.querySelector(o).querySelector(".store-off").outerHTML=a,R.globalUnlocks[s].active="inactive",localforage.setItem("tinyTerms.globalUnlocks",R.globalUnlocks,function(){location.reload()})})}(m);for(var p=0;p<document.querySelectorAll(".store-on").length;p++)!function(e){document.querySelectorAll(".store-on")[e].addEventListener("click",function(t){t.preventDefault();var n=document.querySelectorAll(".store-on")[e].parentNode.className,o="."+n,r=i.indexOf("."+n),s=Object.keys(R.globalUnlocks)[r];R.globalUnlocks[s].active;document.querySelector(o).querySelector(".store-on").outerHTML=l,R.globalUnlocks[s].active="unlocked",localforage.setItem("tinyTerms.globalUnlocks",R.globalUnlocks,function(){location.reload()})})}(p)}),document.querySelector(".stats").addEventListener("click",function(t){t.preventDefault(),e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");var n=R.pickedList,o=Object.keys(R[R.pickedList].storedData.learnedTerms).length,i=Object.keys(R[R.pickedList].terms).length,r=Object.keys(R[R.pickedList].storedData.viewedTerms).length,s=0,a=0
;void 0!==R[R.pickedList].storedData.correctTerms&&(s=Object.keys(R[R.pickedList].storedData.correctTerms).length),void 0!==R[R.pickedList].storedData.incorrectTerms&&(a=Object.keys(R[R.pickedList].storedData.incorrectTerms).length);for(var l=[],c=0;c<o;c++){var d=Object.keys(R[R.pickedList].storedData.learnedTerms)[c];l+='<p class="small">'+d+" - "+R[R.pickedList].storedData.learnedTerms[d]+"</p>"}0===o&&(l='<p class="small">No completed terms, fill some goals!</p>');var u='<header>\n                        <h2 class="icon-chart-bar">Progress</h2>\n                    </header>\n                    <div class="options stats">\n                        <p><strong>'+n+'</strong></p>\n                        <p><strong>Total completed terms:</strong> <span class="right">'+o+' <span class="small">/ '+i+'</span></span></p>\n                        <br>\n                        <p><strong>Total viewed terms:</strong> <span class="right">'+r+' <span class="small">/ '+i+'</span></span></p>\n                        <p><strong>Total correct tests:</strong> <span class="right">'+s+'</span></p>\n                        <p><strong>Total incorrect tests:</strong> <span class="right">'+a+"</span></p>\n                        <h3>Completed terms:</h3>\n                        "+l+"\n                    </div>\n                    ";e.querySelector(".content").innerHTML+=u})},H=function(){var e=document.querySelector(".m-modal");document.querySelector(".settings").addEventListener("click",function(t){function n(){null!==document.querySelector(".delete-confirm")&&(o.innerHTML="Reset list progress",i.innerHTML="Reset the app",document.querySelector(".delete-confirm").parentNode.removeChild(document.querySelector(".delete-cancel")),document.querySelector(".delete-confirm").parentNode.removeChild(document.querySelector(".delete-confirm")))}t.preventDefault(),e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active"),e.querySelector(".content").innerHTML+='<header>\n                        <h2 class="icon-cog-outline">Options</h2>\n                    </header>\n                    <div class="options">\n                        <p>Help</p>\n                        <a href="#" class="icon-right-open show-tut">Show the tutorial again</a>\n                        <a href="mailto:info@tiny-terms.com" class="icon-right-open">Email a question</a>\n                        <a href="#" class="icon-right-open feedback">Report a bug/leave feedback</a>\n                        <p>More Options</p>\n                        <a href="#" class="icon-right-open reset-list">Reset list progress</a>\n                        <a href="#" class="icon-right-open reset">Reset the app</a>\n                        <p class="low-header">Credits</p>\n                        <p><small>All design and development by Alex Plummer.</small><br>\n                        <small>Icons courtesy of <a href="http://www.toicon.com/authors/1">Shannon E Thomas</a> at <a href="http://www.toicon.com">toicon.com</a></small></p>\n                    </div>\n                    ';var o=document.querySelector(".reset-list"),i=document.querySelector(".reset");document.querySelector(".show-tut").addEventListener("click",function(e){e.preventDefault(),x()}),document.querySelector(".feedback").addEventListener("click",function(e){e.preventDefault(),k()}),o.addEventListener("click",function(e){e.preventDefault(),n(),o.innerHTML="Are you sure you want to delete progress for this list? (Can't undo)",o.parentNode.insertBefore(document.createElement("div"),o.nextSibling),o.nextSibling.innerHTML='<button class="delete-cancel">Cancel</button><button class="delete-confirm">Confim</button>',document.querySelector(".delete-confirm").addEventListener("click",function(){delete R[R.pickedList],localforage.setItem(R.storedName,R[R.pickedList]).then(function(e){localforage.removeItem("tinyTermsDefault").then(function(){location.reload()})})}),document.querySelector(".delete-cancel").addEventListener("click",function(){b(!0)})}),document.querySelector(".reset").addEventListener("click",function(e){e.preventDefault(),n(),i.innerHTML="Are you sure you want to delete all progress for the app? (Can't undo)",i.parentNode.insertBefore(document.createElement("div"),i.nextSibling),i.nextSibling.innerHTML='<button class="delete-cancel">Cancel</button><button class="delete-confirm">Confim</button>',document.querySelector(".delete-confirm").addEventListener("click",function(){localforage.clear().then(function(){location.reload()})}),document.querySelector(".delete-cancel").addEventListener("click",function(){b(!0)})})})},R=R||{},U={displayedTerms:5,counterMins:60,counterSecs:0,revealGoalTarget:3,wordAccuracy:.7,addDay:!1,debug:!0,godMode:!1,loadDelay:2500,points:{correct:50,dailyBonus:10,hearts:3,winBonus:10}},B=!0;setTimeout(function(){if(document.getElementsByTagName("body")[0].classList.remove("loading"),!0===B){var e=document.querySelector(".m-modal");e.classList.remove("hidden"),document.getElementsByTagName("body")[0].classList.add("modal-active");e.querySelector(".content").innerHTML='<header>\n\t\t\t\t\t\t<h2 class="">Uh oh!</h2>\n\t\t\t\t\t</header>\n\t\t\t\t\t<br>\n\t\t\t\t\t<h3>Sorry something went wrong</h3>\n\t\t\t\t\t<br>\n\t\t\t\t\t<button class="crash-report">Report issue</button><button class="home-btn">Close</button>\n\t\t\t\t\t',e.classList.add("onboard"),document.querySelector(".crash-report").addEventListener("click",function(e){e.preventDefault(),k()}),document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),L()})}},2e4),function(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}(function(){function e(){function e(e){R.listChoices={};for(var t=0;t<e.Sheet1.elements.length;t++)R.listChoices[e.Sheet1.elements[t].Name]={name:e.Sheet1.elements[t].Name,category:e.Sheet1.elements[t].Category,sheetURL:e.Sheet1.elements[t].sheetURL,version:e.Sheet1.elements[t].Version};localforage.setItem("tinyTerms.lists",R.listChoices,function(){s()})}Tabletop.init({key:"https://docs.google.com/spreadsheets/d/1T8sb0SJRxJQdwgWywAQQnq6rxHt0JRo-81q5Hz_jvXQ/pubhtml",callback:e,simpleSheet:!1})}_("Sorry there was a problem.",function(){localforage.removeItem(R.storedName).then(function(){localforage.removeItem(R.pickedList)}),B=!1}),localforage.getItem("tinyTerms.lists",function(t,n){function o(){null===n?S("Please connect to the internet to download lists, after they will be available offline.",function(){document.querySelector(".home-btn").addEventListener("click",function(e){e.preventDefault(),L()})}):(R.listChoices=n,s())}function i(){e()}T(o,i)})});var j=function(e){var t={termsRefresh:{points:250,active:"locked"},timerHalf:{points:300,active:"locked"}},n={terms10:{points:0,active:"locked"},coloursNeon:{points:500,active:"locked"},symbolsSolid:{points:1e3,active:"locked"},bgStars:{points:3e3,active:"locked"},symbolsFeather:{points:5e3,active:"locked"},bgLetters:{points:1e4,active:"locked"},coloursMetal:{points:5e4,active:"locked"}};localforage.getItem("tinyTerms.globalUnlocks",function(o,i){R[R.pickedList].storedData.listUnlocks=R[R.pickedList].storedData.listUnlocks||t,R.globalUnlocks=i||n,"unlocked"===R.globalUnlocks.terms10.active&&(R[R.pickedList].ops.displayedTerms=10),R[R.pickedList].storedData.listUnlocks.termsRefresh.active="locked",void 0!==R[R.pickedList].storedData.listUnlocks&&"unlocked"===R[R.pickedList].storedData.listUnlocks.timerHalf.active&&(R[R.pickedList].ops.counterMins=30),e()})},P=function(){localforage.getItem("tinyTermsDefault",function(e,t){R.pickedList=t,R[R.pickedList]={},R[R.pickedList].storedData={},R[R.pickedList].ops=U,R.storedName="tinyTerms"+R.pickedList,localforage.setItem(R.storedName,R[R.pickedList]),localforage.getItem("tinyTerms.uploadedLists",function(e,t){var n=void 0;t=t||{},n=t.hasOwnProperty(R.pickedList)?t[R.pickedList].sheetURL:R.listChoices[R.pickedList].sheetURL,F(n,z)})})},F=function(e,t){R.postBuildCallback=t,_("Couldn't load the list URL, did you copy it correctly?",function(){localforage.removeItem(R.storedName).then(function(){localforage.removeItem(R.pickedList)}),B=!1}),Tabletop.init({key:e,callback:w,simpleSheet:!1})},z=function(){!0!==R[R.pickedList].ops.debug&&(window.onerror=""),j(W),R[R.pickedList].storedData.firstTime=!1,localforage.setItem(R.storedName,R[R.pickedList])},G=function(){e(),W()},W=function(){var e=void 0;!1===R[R.pickedList].storedData.newDay?(e=R[R.pickedList].storedData.dailyTerms,void 0!==R[R.pickedList].storedData.dailyQuery&&!0!==R[R.pickedList].storedData.queryComplete&&f()):(e=M(),delete R[R.pickedList].storedData.revealedTermCount,delete R[R.pickedList].storedData.revealCountdowns,delete R[R.pickedList].storedData.dailyQuery,delete R[R.pickedList].storedData.dailyReminder,void 0!==R[R.pickedList].storedData.listUnlocks&&(R[R.pickedList].storedData.listUnlocks.timerHalf.active="locked"),R[R.pickedList].storedData.revealGoal=R[R.pickedList].storedData.revealGoal||{},R[R.pickedList].storedData.revealGoal.complete=!1,void 0!==R[R.pickedList].storedData.viewedTerms&&f(),R[R.pickedList].storedData.remindedTerms=R[R.pickedList].storedData.remindedTerms||{}),l(e),d(),R[R.pickedList].storedData.dateOpened=t(),R[R.pickedList].storedData.dailyTerms=e,localforage.setItem(R.storedName,R[R.pickedList]),R[R.pickedList].storedData.queryComplete=R[R.pickedList].storedData.queryComplete||{},m(),g(),h(),y(),v(),b(),u(),A(),O(),H(),E(),B=!1,setTimeout(function(){document.getElementsByTagName("body")[0].classList.remove("loading"),document.querySelector(".m-query").classList.add("animated","slideInDown"),!1===R.tutComplete&&x()},R[R.pickedList].ops.loadDelay),!0===R[R.pickedList].ops.debug&&console.log(R)};return R}();
//# sourceMappingURL=script.js.map
